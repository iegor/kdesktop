<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN"
"dtd/kdex.dtd" [
  <!ENTITY kappname "&kdm;">
  <!ENTITY package "kdebase">
  <!ENTITY kdmrc "<filename
>kdmrc</filename
>">
  <!ENTITY ksmserver "<application
>ksmserver</application
>">
  <!ENTITY kdesktop "<application
>kdesktop</application
>">
  <!ENTITY XDMCP "<acronym
>XDMCP</acronym
>">
  <!ENTITY xdm "<application
>xdm</application
>">
  <!ENTITY kdmrc-ref SYSTEM "kdmrc-ref.docbook">
  <!ENTITY % addindex "INCLUDE">
  <!ENTITY % Catalan  "INCLUDE"
> <!-- change language only here -->
]>

<book lang="&language;">
<bookinfo>
<title
>El manual de &kdm;</title>

<authorgroup>
<author
>&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail; </author
><!-- 
<othercredit role="developer">
&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;
<contrib
>Developer</contrib>
</othercredit>
<othercredit role="reviewer">
&Lauri.Watts; &Lauri.Watts.mail;
<contrib
>Reviewer</contrib>
</othercredit
> -->

&traductor.Antoni.Bella; 

</authorgroup>

<copyright>
<year
>2000</year>
<holder
>&Neal.Crook;</holder>
</copyright>

<copyright>
<year
>2002</year>
<holder
>&Oswald.Buddenhagen;</holder>
</copyright>

<copyright>
<year
>2003</year>
<holder
>&Lauri.Watts;</holder>
</copyright>

<date
>2003-03-01</date>
<releaseinfo
>0.05.02</releaseinfo>

<abstract>
<para
>Aquest document descriu &kdm; el Gestor de pantalla de &kde;. &kdm; també conegut com el <quote
>Gestor d'accés</quote
>.</para>
</abstract>

<keywordset>
<keyword
>KDE</keyword>
<keyword
>kdm</keyword>
<keyword
>xdm</keyword>
<keyword
>gestor de pantalla</keyword>
<keyword
>gestor d'accés</keyword>
</keywordset>
</bookinfo>

<!-- ********************************************************************** -->  
<chapter id="introduction">
<title
>Introducció</title>

<para
>&kdm; proveeix una interfície gràfica per a controlar l'accés al sistema. Demana un nom d'usuari i una contrasenya, autentifica l'usuari i inicia una <quote
>sessió</quote
>. En certs aspectes &kdm; és superior a &xdm;, el Gestor de pantalla de X.</para>

</chapter>

<!-- Chapters to write -->
<!-- * Just enough config to get it to run and login to KDE 
     * Adding more session types (GNOME, etc)
     * Adding other customizations to XSession (ssh/gpg-agent, etc)
     * Further customization to KDM (via the kcontrol module, and by 
       hand)
     * XDMCP by query
     * XDMCP by broadcast
     * Sound transparency (if Ade can tell me how!)
     * Document all Keys in the Config File
     * Pull in all options from the KControl Module
     * More resources
-->

<chapter id="quickstart">
<title
>Guia d'inici ràpid</title>

<para
>Aquesta és una guia d'inici ràpid per a usuaris que tenen el següent perfil:</para>

<itemizedlist>
<listitem>
<para
>X està configurat i funciona amb el comandament <command
>startx</command
> des de la línia de comandaments.</para>
</listitem>
<listitem>
<para
>Cada usuari generalment tan sols usarà un únic gestor de finestres o un entorn d'escriptori i no canviarà la seva elecció gaire sovint, o troba confortable editar els fitxers de text per a canviar la seva elecció.</para>
</listitem>
</itemizedlist>

<para
>Aquest escenari serà suficient per als molts entorns en els que un o diversos usuaris arrenquen l'ordinador i accedixen al seu entorn preferit.</para>

<procedure>
<title
>Configurar la sessió per omissió</title>
<step>
<para
>Creeu o obriu el fitxer <filename
>~/.xinitrc</filename
></para>
<para
>Si ja teniu un <filename
>~/.xinitrc</filename
> en funcionament, aneu a la següent passa</para>
</step>
<step>
<para
>Si no existeix, afegiu una línia al <filename
>~/.xinitrc</filename
> per a iniciar el vostre gestor de finestres o entorn d'escriptori preferit.</para>
<para
>Per a &kde; haureu d'introduir:</para>
<screen
><userinput
>startkde</userinput
></screen>
<para
>Per a d'altres gestors de finestres o entorns d'escriptori, haureu de llegir la seva documentació per a introduir el comandament correcte.</para>
</step>
<step
><para
>Creeu el següent enllaç:</para>
<screen
><userinput
><command
>ln</command
> <option
>-s</option
> <parameter
>~/.xinitrc ~/.xsession</parameter
></userinput
></screen>
</step>
</procedure>

<para
>En aquest punt si escriviu <userinput
><command
>startx</command
></userinput
> en la línia de comandaments s'hauria d'iniciar X amb una sessió de &kde;. La següent tasca serà intentar-ho amb &kdm;.</para>

<para
>Com a <systemitem class="username"
>root</systemitem
>, escriviu <userinput
><command
>kdm</command
></userinput
> a l'indicatiu.</para>

<para
>Hauríeu de veure una finestra d'accés, la qual es descriu amb més detall en <xref linkend="login"/>.</para>

<para
>Escrivint el vostre nom d'usuari normal i contrasenya en els camps proporcionats, i deixant l'opció <option
>omissió</option
> seleccionada com a tipus de sessió hauríeu de poder obrir una sessió de &kde; per al vostre usuari.</para>

<para
>Si heu de configurar d'altres usuaris, haureu de repetir el procediment per a cadascun d'ells.</para>

<note>
<para
>Aquesta és una guia ràpida per a tan sols configurar i executar. Probablement el voldreu personalitzar més profundament, per exemple, ocultant els noms dels vostres comptes de sistema, permetre sessions més complexes, i molt més. Si us plau, llegiu la resta d'aquest manual per esbrinar com fer-ho.</para>
</note>

</chapter>

<chapter id="login"
> 
<title
>La finestra d'accés</title
> 

<para
>La interfície d'usuari de &kdm; consisteix de dues caixes de diàleg. La principal te aquests controls:</para>

<itemizedlist
> 
<listitem>
<para
>Un camp <guilabel
>Nom d'usuari:</guilabel
> per a introduir el vostre nom d'usuari.</para>
</listitem>

<listitem>
<para
>Un camp <guilabel
>Contrasenya:</guilabel
> per a introduir la vostra contrasenya.</para>
</listitem>

<listitem>
<para
>Opcionalment, una imatge gràfica de cada usuari (per exemple, una fotografia digitalitzada). Fer clic sobre una imatge és equivalent a escriure el nom d'usuari associat en el camp <guilabel
>Nom d'usuari:</guilabel
>. (Aquesta característica és una imitació de la caixa d'accés sobre &IRIX;).</para
> 
</listitem>

<listitem>
<para
>Una caixa de <guilabel
>Menú</guilabel
> desplegable us permetrà usar &kdm; per a iniciar sessions amb els diferents gestors de finestres o entorns d'escriptori instal·lats en el vostre sistema.</para>
</listitem>

<listitem>
<para
>Opcionalment, una àrea a l'esquerra dels camps <guilabel
>Nom d'usuari:</guilabel
>, <guilabel
>Contrasenya:</guilabel
> i <guilabel
>Tipus de sessió:</guilabel
> que es pot usar per a mostrar o be una imatge estàtica o un rellotge analògic.</para>
</listitem>

<listitem>
<para
>Un botó <guibutton
>Accés</guibutton
> que valida la combinació nom d'usuari/contrasenya i intenta iniciar una sessió del tipus seleccionat.</para>
</listitem>

<listitem>
<para
>Un botó <guibutton
>Neteja</guibutton
> que esborra el text dels camps <guilabel
>Accés</guilabel
> i <guilabel
>Contrasenya</guilabel
>.</para>
</listitem
> 

<listitem>
<para
>Un botó de <guibutton
>Menú</guibutton
> que obre un menú d'accions amb els següents ítems:</para>
 
<itemizedlist>
<listitem>
<para
>En la pantalla local: Un ítem <guimenuitem
>Reinicia el servidor X</guimenuitem
> que finalitza l'execució del &X-Server; que s'estigui executant, n'inicia un de nou i mostra altra vegada el diàleg d'accés. Ho podeu usar si la pantalla sembla haver-se congelat.</para>
</listitem>

<listitem>
<para
>En la pantalla remota: Un ítem <guimenuitem
>Tanca la connexió</guimenuitem
> que tanca la connexió amb el servidor &XDMCP; al que s'estigui connectat. Si escolliu aquest servidor a través d'un selector de màquines, tornarà al selector, d'altra manera reiniciarà el &X-Server; i tornarà altra vegada al diàleg d'accés.</para>
</listitem>

<listitem>
<para
>(Opcionalment en la pantalla local) Un ítem <guimenuitem
>Mode consola</guimenuitem
> que finalitza el &X-Server; que s'estigui executant i us deixa amb l'accés a través de consola. &kdm; tornarà a l'accés gràfic si després d'un cert temps ningú ha accedit a través de la consola.</para>
</listitem>
</itemizedlist>
</listitem>

<listitem>
<para
>Opcionalment: Un botó <guibutton
>Atura...</guibutton
> que mostra la caixa de diàleg <guibutton
>Aturada</guibutton
>.</para>
</listitem>
</itemizedlist>

<para
>La caixa de diàleg <guilabel
>Aturada</guilabel
> presenta un conjunt de botons de ràdio que permeten seleccionar cadascuna de les següents opcions:</para>

<variablelist>
<varlistentry>
<term
>Aturada</term
> 
<listitem>
<para
>Tanca el sistema d'una manera control·lada, fins i tot per a apagar-lo físicament.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Reinicia</term>
<listitem>
<para
>Tanca el sistema i el reinicia. Per a sistemes que usen <application
>Lilo</application
>, una llista desplegable opcional us permetrà seleccionar el nucli del sistema operatiu que s'usarà per al reinici.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Reinicia el servidor X</term
> 
<listitem>
<para
>Atura i després reinicia el servidor X. Típicament, podríeu necessitar usar aquesta opció si heu canviat la vostra configuració X11.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Mode consola</term>
<listitem>
<para
>Atura el &X-Server; i retorna el sistema a mode consola. Això s'aconsegueix passant el sistema al nivell d'execució 3. Típicament, l'administrador del sistema pot voler usar aquesta opció abans d'actualitzar o reconfigurar el programari X11.</para
> 
</listitem>
</varlistentry>
</variablelist>

<para
>Prement el botó <guibutton
>Bé</guibutton
> s'inicia l'acció seleccionada, prement el botó <guibutton
>Cancel·la</guibutton
> es torna a la caixa de diàleg principal de &kdm;. </para>

</chapter>

<!-- *********************************************************************** -->
<chapter id="configuring-kdm">
<title
>Configurar &kdm;</title>

<para
>Aquest capítol assumeix que &kdm; funciona i s'està executant en el vostre sistema, i que simplement voleu canviar el seu comportament.</para>

<para
>Quan s'inicia &kdm;, aquest llegeix la seva configuració des de la carpeta <filename class="directory"
>$KDEDIR/share/config/kdm/</filename
> (també pot ser <filename class="directory"
>/etc/kde3/kdm/</filename
> o qualsevol altra del vostre sistema).</para>

<para
>El fitxer de configuració principal és &kdmrc;; tots els altres fitxers fan referència a aquest i es poden desar sota qualsevol nom en el sistema. Però per motius obvis això no es sol fer (una excepció particular és referenciar fitxers de configuració d'un &xdm; ja instal·lat, tot i que quan s'instal·la un nou &kdm;, importa la configuració d'aquests fitxers si troba &xdm; instal·lat).</para>

<para
>Atès que &kdm; s'executa abans que cap usuari tingui accés, no està associat amb cap usuari en particular. De manera que, no és possible tenir fitxers de configuració específics per a cada usuari. Tots els usuaris comparteixen un &kdmrc; comú. La configuració de &kdm; tan sols la poden modificar aquells usuaris amb permisos d'escriptura en <filename
>$<envar
>KDEDIR</envar
>/share/config/kdm/kdmrc/</filename
> (normalment restringit als administradors del sistema que accedeixen com a <systemitem class="username"
>root</systemitem
>).</para>

<para
>Podeu veure el fitxer &kdmrc; actualment en ús en el vostre sistema, i podeu configurar &kdm; editant aquest fitxer. De manera alternativa, podeu usar l'eina de configuració gràfica proveïda pel &centrecontrol; (en <menuchoice
><guisubmenu
>Administració del sistema</guisubmenu
><guimenuitem
>Gestor d'accés</guimenuitem
></menuchoice
>), la qual es descriu en <ulink url="help:/kcontrol/login-manager.html"
>els fitxers d'ajuda del &centrecontrol;</ulink
>. </para>

<para
>La resta d'aquest capítol descriu la configuració de &kdm; a través del mòdul al &centrecontrol;, i el <link linkend="kdm-files"
>següent capítol</link
> descriu les opcions disponibles en &kdmrc;. Si tan sols necessiteu la configuració per als usuaris locals, el mòdul al &centrecontrol; hauria de ser suficient per a cobrir les vostres necessitats. Si necessiteu configurar accessos remots, o teniu múltiples sessions de &kdm; en execució, necessitareu llegir més.</para>

<sect1 id="kdm-kcontrol-module">
<sect1info>
<authorgroup>
<author
>&Thomas.Tanghus; &Thomas.Tanghus.mail;</author>
<author
>&Steffen.Hansen; &Steffen.Hansen.mail;</author>
<author
>&Mike.McBride; &Mike.McBride.mail;</author>
</authorgroup>
</sect1info>

<title
>El mòdul de Gestor d'accés de &centrecontrol;</title>

<para
>Usant aquest mòdul, podeu configurar el &kdm;, el gestor d'accés gràfic del &kde;. Podeu canviar l'aspecte de la pantalla d'accés, qui tindrà accés emprant el gestor d'accés i qui podrà aturar l'ordinador.</para>

<note
><para
>Totes les configuracions s'escriuran al fitxer de configuració &kdmrc;, que en el seu estat original te molts comentaris per ajudar-vos a configurar &kdm;. Usant aquest mòdul al &centrecontrol; desapareixeran els comentaris d'aquest fitxer. Les opcions disponibles de &kdmrc; es tracten en <xref linkend="kdm-files"/>.</para>

<para
>Les opcions llistades en aquest capítol tenen referències creuades amb els seus equivalents en &kdmrc;. Totes les opcions disponibles en el mòdul de &kcontrol; també estan disponibles directament en &kdmrc;, el qual no succeeix a la inversa.</para
></note>

<para
>Per a poder organitzar totes aquestes opcions, aquest mòdul es divideix en diverses seccions: <link linkend="kdmconfig-appearance"
><guilabel
>Aparença</guilabel
></link
>, <link linkend="kdmconfig-font"
><guilabel
>Font</guilabel
></link
>, <link linkend="kdmconfig-background"
><guilabel
>Fons</guilabel
></link
>, <link linkend="kdmconfig-shutdown"
><guilabel
>Aturada</guilabel
></link
>, <link linkend="kdmconfig-users"
><guilabel
>Usuaris</guilabel
></link
> i <link linkend="kdmconfig-convenience"
><guilabel
>Conveniència</guilabel
></link
>.</para>

<para
>Podeu passar d'una secció a l'altra emprant les pestanyes a la part superior de la finestra.</para>

<note
><para
>Si no heu accedit com a superusuari, necessitareu fer clic al botó <guibutton
>Mode administrador...</guibutton
> Llavores se us demanarà per una contrasenya de superusuari. Si introduïu la contrasenya correcta se us permetrà modificar l'arranjament d'aquest mòdul.</para
></note>

<sect2 id="kdmconfig-appearance">
<title
>Aparença</title>

<para
>Des d'aquesta pàgina podeu canviar l'aparença visual de &kdm;, el gestor d'accés gràfic del &kde;.</para>

<para
><guilabel
>Salutació:</guilabel
> és el títol de la finestra d'accés. Establir això és especialment útil si teniu molts usuaris que accedeixin al servidor. Es poden usar diversos arguments, es descriuen en la clau corresponent <link linkend="option-greetstring"
><option
>GreetString</option
></link
> en &kdmrc;. </para>

<para
>Podeu decidir si en la caixa d'accés es mostrarà l'hora actual del sistema, un logotipus o res en especial. Feu la vostra elecció usant els botons de ràdio de l'àrea <guilabel
>Logo:</guilabel
>. Es correspon amb <link linkend="option-logoarea"
><option
>LogoArea</option
></link
> en &kdmrc;</para>

<para
>Si heu escollit <guilabel
>Mostra el logo</guilabel
> ara podeu escollir un logo:</para>

<itemizedlist>
<listitem>
<para
>Deixeu un fitxer d'imatge sobre el botó de la imatge.</para>
</listitem>
<listitem>
<para
>Feu clic sobre el botó de imatge i seleccioneu-ne una de nova des del diàleg de selecció d'imatges.</para>
</listitem>
</itemizedlist>

<para
>Si no especifiqueu un logo es mostra el per omissió <filename
>$<envar
>KDEDIR</envar
>/share/apps/kdm/pics/kdelogo.xpm</filename
>.</para>

<para
>Normalment la caixa d'accés romà centrada en la pantalla. Useu les opcions de <guilabel
>Posició:</guilabel
> si voleu que aparegui en qualsevol altra lloc. Podeu especificar la posició relativa (percentatge de la mida de la pantalla) per al centre de la finestra d'accés, respecte a la cantonada superior dreta de la pantalla, en els camps anomenats <guilabel
>X</guilabel
> i <guilabel
>Y</guilabel
> respectivament. Es correspon amb la clau <link linkend="option-greeterpos"
><option
>GreeterPos</option
></link
> en &kdmrc;.</para>

<para
>Mentre que l'estil de &kde; dependrà de la configuració de l'usuari que ha accedit, l'estil usat per &kdm; es pot configurar usant les opcions <guilabel
>Estil del GUI:</guilabel
> i <guilabel
>Esquema de color:</guilabel
>. Aquestes es corresponen amb les claus <link linkend="option-guistyle"
><option
>GUIStyle</option
></link
> i <link linkend="option-colorscheme"
><option
>ColorScheme</option
></link
> respectivament en &kdmrc;.</para>

<para
>Sota aquestes, teniu una caixa desplegable per a seleccionar l'idioma de la caixa d'accés i es correspon a la configuració de <option
>Language</option
> en el &kdmrc;.</para>

</sect2>

<sect2 id="kdmconfig-font">
<title
>Font</title>

<para
>Des d'aquesta secció del mòdul pot canviar les fonts usades en la finestra d'accés. Tan sols les fonts disponibles per a tots els usuaris estaran disponibles aquí, i no les que heu instal·lat per a un usuari en concret.</para>

<para
>Podeu seleccionar tres estils de font diferents des de la caixa desplegable (<guilabel
>General:</guilabel
>, <guilabel
>Falles:</guilabel
>, <guilabel
>Salutació:</guilabel
>). Quan feu clic sobre el botó <guibutton
>Tria...</guibutton
> apareixerà un diàleg des del que es podran seleccionar les noves característiques per a l'estil de font.</para>

<itemizedlist>
<listitem>
<para
>La font <guilabel
>General:</guilabel
> s'usa en tots els demés llocs en la finestra d'accés.</para>
</listitem>
<listitem>
<para
>La font <guilabel
>Falles:</guilabel
> s'usa quan es produeix una falla en l'accés.</para>
</listitem>
<listitem>
<para
>La font <guilabel
>Salutació:</guilabel
> és la font usada per al títol (cadena Greeting).</para>
</listitem>
</itemizedlist>

<para
>També podeu marcar la caixa anomenada <guilabel
>Usa fonts suavitzades</guilabel
> si voleu que les fonts es mostrin suavitzades en el diàleg d'accés.</para>

</sect2>

<sect2 id="kdmconfig-background">
<title
>Fons</title>

<para
>Aquí podeu canviar el fons de l'escriptori que es mostra abans que l'usuari accedeixi. Podeu usar un color únic o una imatge com a fons. Si teniu una imatge com a fons i seleccioneu centrar, el color de fons seleccionat s'usarà al voltant de la imatge si aquesta no és prou gran per a cobrir tot l'escriptori.</para>

<para
>Els colors de fons i els efectes són controlats per opcions a la pestanya etiquetada com a <guilabel
>Fons</guilabel
>, seleccioneu la imatge de fons i el seu emplaçament a la secció etiquetada com a <guilabel
>Paper pintat</guilabel
>.</para>

<para
>Per a canviar el(s) color(s) del fons per omissió, simplement feu clic sobre qualsevol dels botons de color i seleccioneu-ne un de nou.</para>

<para
>La caixa desplegable per sobre dels botons de color us proveeix diferents efectes de mescla. Escolliu-ne un des de la llista i veureu una vista prèvia al petit monitor a la part superior de la finestra. Les vostres opcions són:</para>

<variablelist>
<varlistentry>
<term
>Pla</term>
<listitem
><para
>Escollint aquest mode, seleccioneu un color (emprant el botó de color etiquetat com a <guibutton
>Color 1</guibutton
>) i tot el fons es cobrirà amb aquest únic color.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Patró</term>
<listitem
><para
>Escollint aquest mode, seleccionareu dos colors (emprant tots dos botons de color). </para
> <para
>Llavores seleccioneu un patró fent clic a <guilabel
>Configura...</guilabel
>. Això obrirà una nova finestra de diàleg que us oferirà l'oportunitat de seleccionar un patró. Simplement feu clic una vegada a sobre del patró seleccionat, després feu clic a <guilabel
>Bé</guilabel
>, i el &kde; us mostrarà la plantilla seleccionada emprant els dos colors que heu seleccionat. Per a més informació a sobre dels patrons, consulteu la secció <ulink url="help:/kcontrol/background/index.html#bkgnd-patterns"
>Fons: afegir, eliminar i modificar patrons</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Programa de fons</term>
<listitem
><para
>Seleccionant aquesta opció, podeu fer que el &kde; usi un programa extern per a determinar el fons. Aquest pot ser qualsevol programa que escolliu. Per a més informació a sobre d'aquesta opció, consulteu la secció <ulink url="help:/kcontrol/background/index.html#bkgnd-programs"
>Fons: Usar un programa extern</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Gradient horitzontal</term>
<listitem
><para
>Si escolliu aquest mode, seleccioneu dos colors (usant tots dos botons de color). Llavores el &kde; començarà pel color seleccionat com a <guilabel
>Color 1</guilabel
> en la part esquerra de la pantalla i es transformarà gradualment en el color seleccionat per <guilabel
>Color 2</guilabel
> a mesura que es va cap a la part dreta de la pantalla.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Gradient vertical</term>
<listitem
><para
>Si escolliu aquest mode, seleccioneu dos colors (usant tots dos botons de color). Llavores el &kde; començarà pel color seleccionat com <guilabel
>Color 1</guilabel
> en la part esquerra de la pantalla i es transformarà gradualment en el color seleccionat per <guilabel
>Color 2</guilabel
> a mesura que es va cap al fons de la pantalla.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Gradient piramidal</term>
<listitem
><para
>Si escolliu aquest mode, seleccionareu dos colors (usant tots dos botons de color). Llavores el &kde; començarà pel color seleccionat com a <guilabel
>Color 1</guilabel
> en la part esquerra de la pantalla i es transformarà gradualment en el color seleccionat per <guilabel
>Color 2</guilabel
> a mesura que es va cap al centre de la pantalla.</para
></listitem
> 
</varlistentry>
<varlistentry>
<term
>Gradient canonada</term>
<listitem
><para
>Si escolliu aquest mode, seleccionareu dos colors (usant tots dos botons de color). Llavores el &kde; començarà pel color seleccionat com a <guilabel
>Color 1</guilabel
> en cada vora de la pantalla i es transformarà gradualment en el <guilabel
>Color 2</guilabel
> segons es va cap al centre de la pantalla. La <quote
>forma</quote
> d'aquest gradient és diferent del gradient piramidal.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Gradient el·líptic</term>
<listitem
><para
>Si escolliu aquest mode, seleccionareu dos colors (usant tots dos botons de color). Llavores el &kde; començarà pel color seleccionat com a <guilabel
>Color 2</guilabel
> en el centre de la pantalla i es transformarà gradualment en el <guilabel
>Color 1</guilabel
> segons es va cap a les vores de la pantalla, seguint un patró el·líptic.</para
></listitem
> 
</varlistentry>
</variablelist>

<para
>El botó de configuració tan sols seria necessari si seleccionéssiu <guilabel
>Programa de fons</guilabel
> o <guilabel
>Patrons</guilabel
>. En aquests casos, apareixerà una altra finestra per als detalls específics de la configuració.</para>
<para
><emphasis
>Paper pintat</emphasis
></para>
<para
>Per a seleccionar una nova imatge de fons primer, feu clic sobre la pestanya <guilabel
>Papers pintats</guilabel
>, després podreu o bé seleccionar una imatge des la llista desplegable anomenada <guilabel
>Paper pintat</guilabel
> o seleccionar <guibutton
>Fulleja...</guibutton
> i seleccionar un fitxer d'imatge des d'un selector de fitxers.</para>

<para
>La imatge es pot mostrar en sis maneres diferents:</para>
<variablelist>
<varlistentry>
<term
>Sense paper pintat</term
> 
<listitem
><para
>No es mostra cap imatge. Tan sols els colors de fons.</para>
</listitem
></varlistentry>
<varlistentry>
<term
>Centrat</term
> 
<listitem
><para
>La imatge quedarà centrada a la pantalla. Els colors de fons estaran presents en qualsevol lloc no cobert per la imatge.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Mosaic</term>
<listitem
><para
>La imatge es duplicarà fins que ompli tot l'escriptori. La primera imatge es situarà a la vora superior esquerra de la pantalla i serà duplicada cap avall i a la dreta.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Mosaic centrat</term>
<listitem
><para
>La imatge es duplicarà fins que ompli tot l'escriptori. La primera imatge es situarà en el centre de la pantalla i es duplicarà cap amunt, avall a la dreta i a l'esquerra.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Maxpect centrat</term>
<listitem
><para
>La imatge se situarà en el centre de la pantalla. S'escalarà per a cobrir l'escriptori, però no modificarà la relació de mida horitzontal/vertical de la imatge original. Això us proporcionarà una imatge no distorsionada. </para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Escalat</term>
<listitem
><para
>La imatge s'escalarà fins a omplir l'escriptori. S'estirarà fins a arribar a les quatre cantonades.</para
> </listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="kdmconfig-shutdown">
<title
><guilabel
>Aturada</guilabel
></title>

<para
><guilabel
>Permet aturar</guilabel
></para>
<para
>Useu aquestes caixes desplegables per a decidir a qui es permet sortir:</para>
<itemizedlist>
<listitem>
<para
><guilabel
>Ningú</guilabel
>: Ningú podrà aturar l'ordinador usant &kdm;. Primer haureu d'haver accedit i executar un comandament.</para>
</listitem>
<listitem>
<para
><guilabel
>Tothom</guilabel
>: Tots els usuaris poden aturar l'ordinador usant &kdm;.</para>
</listitem>
<listitem
><para
><guilabel
>Tan sols root</guilabel
>: &kdm; requerirà que s'introdueixi la contrasenya de <systemitem
>root</systemitem
> abans d'aturar l'ordinador.</para
></listitem
> 
</itemizedlist>

<para
>Podeu configurar de forma independent l'aturada per a permetre-la als usuaris en <guilabel
>Local:</guilabel
> i en <guilabel
>Remot:</guilabel
>.</para>

<para
><emphasis
>Comandaments</emphasis
></para
> <para
>Useu aquests camps de text per a definir el comandament exacte d'aturada.</para
> <para
>El comandament per omissió per <guilabel
>Atura:</guilabel
> és <command
>/sbin/halt</command
>. El comandament per omissió per al <guilabel
>Rearrenca:</guilabel
> és <command
>/sbin/reboot</command
>.</para>

<para
>Quan s'habilita <guilabel
>Mostrar opcions d'arrencada</guilabel
>, &kdm; farà que en l'arrencada apareguin les opcions per al gestor d'arrencada lilo. Per a que aquesta característica funcioni, necessitareu proveir les rutes correctes per al vostre comandament <command
>lilo</command
> i el fitxer de mapa de lilo. Tingueu present que aquesta opció no està disponible en tots els sistemes operatius.</para>

</sect2>

<sect2 id="kdmconfig-users">
<title
>Usuaris</title>

<para
>Des d'aquí podreu canviar la manera en el qual es representen als usuaris en la finestra d'accés.</para>

<para
>Podeu deshabilitar completament la llista d'usuaris en &kdm; en la secció <guilabel
>Usuaris</guilabel
>. Podeu escollir:</para>

<variablelist>
<varlistentry>
<term
><guilabel
>Mostra la llista</guilabel
></term>
<listitem>
<para
>Tan sols es mostraran els usuaris que heu habilitat específicament a la llista del costat</para>
<para
>Si no marqueu aquesta caixa, la llista no es mostrarà. Aquesta és la configuració més segura, atès que un atacant tindrà que esbrinar un nom d'accés i una contrasenya vàlida. És l'opció preferida si teniu més d'un grapat d'usuaris en la llista, o que la llista sigui per si mateixa poc manejable.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Selecció inversa</guilabel
></term>
<listitem>
<para
>Us permetrà seleccionar una llista d'usuaris que <emphasis
>no</emphasis
> es mostraran, i es llistaran els demés usuaris.</para>
</listitem>
</varlistentry>
</variablelist>

<para
>Independentment de que especifiqueu el nom dels usuaris, podreu usar els <guilabel
>UID del sistema</guilabel
> per a especificar un rang vàlid de <acronym
>UID</acronym
> que es mostraran en la llista. Per omissió els identificadors d'usuari amb un valor inferior a 1.000, que solen ser usuaris de sistema o dimonis, i els identificadors amb un valor superior a 65.000 no es mostraran.</para>

<para
>També podreu marcar la caixa <guilabel
>Ordena els usuaris</guilabel
>, per a ordenar la llista d'usuaris alfabèticament. Si està deshabilitada, els usuaris apareixeran en l'ordre en el que es trobin en el fitxer de contrasenyes. &kdm; també pot completar els noms d'usuari si heu habilitat l'opció <guilabel
>Autocompleta</guilabel
>.</para>

<para
>Si escolliu mostrar els usuaris, la finestra d'accés mostra les imatges (que heu seleccionat), d'una llista d'usuaris. Quan algú va a accedir, podrà seleccionar el seu nom/imatge, introduir la seva contrasenya i obtenir l'accés.</para>

<para
>Si permeteu una imatge d'usuari, podreu configurar la font d'aquestes imatges.</para>

<para
>Aquí podeu configurar la imatge per a cada usuari del sistema. Depenent de l'ordre seleccionat en la part superior, els usuaris podran ser capaços de solapar la vostra selecció.</para>

<para
>Si escolliu no mostrar els usuaris, la finestra d'accés serà més tradicional. Els usuaris necessitaran escriure el seu nom d'usuari i contrasenya per a poder accedir. Aquesta és la forma preferida si teniu molts usuaris en aquest terminal.</para>

</sect2>

<sect2 id="kdmconfig-convenience">
<title
>Conveniència</title>

<para
>En la pestanya <guilabel
>Conveniència</guilabel
> podeu configurar algunes opcions que facin la vida més fàcil als mandrosos, tals com accés automàtic o deshabilitar les contrasenyes.</para>

<important
><para
>Si us plau, penseu-vos-ho més de dues vegades abans d'usar aquestes opcions. Cada opció de la pestanya <guilabel
>Conveniència</guilabel
> suposa un seriós compromís per a la seguretat del vostre sistema. A la pràctica, aquestes opcions tan sols s'haurien d'usar en un entorn que no sigui crític en absolut, &pex;, un ordinador privat a casa. </para
></important>

<sect3 id="loginmanager-convenience-autologin">
<title
>Accés automàtic</title>

<para
>L'accés automàtic oferirà accés automàtic a alguns comptes en el vostre sistema sense necessitat d'autenticació. La podeu habilitar usant l'opció <guilabel
>Habilita l'accés automàtic</guilabel
>.</para>

<para
>Podeu escollir el compte que s'usarà per a l'accés automàtic des de la llista anomenada <guilabel
>Usuari:</guilabel
>.</para>

</sect3>

<sect3 id="loginmanager-convenience-nopasswd">
<title
><guilabel
>Accés sense contrasenya</guilabel
></title>

<para
>Usar aquesta característica, pot permetre a certs usuaris accedir sense haver de proveir la seva contrasenya. Habiliteu aquesta característica usant l'opció <guilabel
>Habilita els accessos sense contrasenya</guilabel
>.</para>

<para
>Sota aquesta opció podreu veure la llista dels usuaris del sistema. Habiliteu l'accés sense contrasenya per als usuaris especificats marcant la caixa situada al costat dels noms. Per omissió, aquesta característiques estarà deshabilitada per a tots els usuaris.</para>

<important
><para
>Altra vegada, aquesta opció tan sols s'hauria d'usar en un entorn segur. Si l'heu habilitat en un sistema públic us haureu d'assegurar de que només hi tinguin accés usuaris amb grans restriccions, &pex;, <systemitem
>convidats</systemitem
>.</para
></important>

<para
>També podreu escollir quin usuari estarà <quote
>preseleccionat</quote
> quan s'iniciï &kdm;. El valor per omissió és <guilabel
>Cap</guilabel
>, però podeu escollir <guilabel
>Previ</guilabel
> per a fer que l'últim usuari que ha accedit sigui l'usuari per omissió a &kdm;, o podeu escollir <guilabel
>Especifica</guilabel
> i especificar un usuari en concret per a que sempre estigui seleccionat en la llista. També podeu fer que el focus de &kdm; es situï en el camp de la contrasenya, de manera que quan s'arribi a la pantalla d'accés es pugui escriure la contrasenya de manera immediata.</para>

<para
>L'opció <guilabel
>Accedir automàticament altra vegada després d'una petada del servidor X</guilabel
> us permetrà saltar el procediment d'autenticació quan el vostre servidor X peti accidentalment.</para>

</sect3>

</sect2>

</sect1>

</chapter>

&kdmrc-ref;

<!-- ************************************************************ -->   
<chapter id="configuring-your-system-for-kdm">
<title
>Configurar el vostre sistema per a usar &kdm;</title>

<para
>Aquest capítol assumeix que el vostre sistema ja està configurat per a executar el &X-Window;, i que tan sols necessiteu reconfigurar-lo per a permetre l'accés gràfic.</para>

<sect1 id="setting-up-kdm">
<title
>Configurar &kdm;</title>

<para
>L'aspecte fonamental que controla si el vostre ordinador arrenca en mode consola o en mode gràfic és el nivell d'execució per omissió. El nivell d'execució és establert pel programa <application
> <ulink url="man:init"
>/sbin/init</ulink
></application
> sota el control del fitxer de configuració <filename
>/etc/inittab</filename
>. Els nivells d'execució per omissió usats per diferents sistemes &UNIX; (i diferents distribucions de &Linux;) varia, però si feu una ullada a <filename
>/etc/inittab</filename
> l'inici s'hauria d'assemblar a això:</para>

<screen
># Default runlevel. The runlevels used by RHS are:
# 0 - halt (Do NOT set initdefault to this)
# 1 - Single user mode
# 2 - Multiuser, without NFS
# 3 - Full multiuser mode
# 4 - unused
# 5 - X11
# 6 - reboot (Do NOT set initdefault to this)

id:3:initdefault:  
</screen>

<para
>Tot excepte l'última línia són comentaris. Els comentaris mostren que el nivell d'execució 5 s'usa per a X11 i que el nivell d'execució 3 s'usa per al mode multiusuari sense X11 (mode consola). La línia final especifica el nivell d'execució per omissió del sistema que és el 3 (mode consola). Si el vostre sistema usa actualment un accés gràfic (per exemple, usa &xdm;) el seu nivell d'execució coincidirà amb el nivell d'execució especificat per a X11.</para>

<para
>El nivell d'execució amb accés gràfic (&xdm;) per a algunes distribucions &Linux; comuns és:</para>

<itemizedlist>
<listitem
><para
>5 per a &RedHat; 3.x i posteriors, i per a &Mandrake;</para
></listitem>
<listitem
><para
>4 per a Slackware</para
></listitem>
<listitem
><para
>3 per a &SuSE;. 4.x i 5.x</para
></listitem>
</itemizedlist>

<para
>La primera passa en la configuració del vostre sistema és assegurar que podeu iniciar &kdm; des de la línia de comandaments. Una vegada funciona això, podeu canviar la configuració del vostre sistema de manera que &kdm; iniciï automàticament cada vegada que arrenqui el vostre sistema.</para>

<para
>Per a provar &kdm;, primer haureu de passar el vostre sistema a un nivell d'execució a on no s'executi &kdm;. Per a fer-ho, executeu el següent comandament:</para>

<screen
><command
>/sbin/init <option
>3</option
></command
></screen>

<para
>En comptes del número <option
>3</option
> haureu d'especificar el nivell d'execució adequat per al mode consola en el vostre sistema.</para>

<para
>Si el vostre sistema usa mòduls d'autenticació en connectors (<abbrev
>PAM</abbrev
>), el qual és normal en sistemes &Linux; recents i &Solaris;, haureu de comprovar que la vostra configuració <abbrev
>PAM</abbrev
> permet l'accés a través del servei anomenat <literal
>kde</literal
>. Si heu usat &xdm; anteriorment amb èxit, no us caldrà fer cap canvi a la vostra configuració <abbrev
>PAM</abbrev
> per a usar &kdm;. <filename
>/etc/pam.conf</filename
> o <filename
>/etc/pam.d/xdm</filename
>. La informació de com configurar <abbrev
>PAM</abbrev
> està més enllà d'aquest manual, però <abbrev
>PAM</abbrev
> conté documentació força clara. (Intenteu cercar en <filename
>/usr/share/doc/*pam*/html</filename
>).</para>

<para
>Ara és hora de provar &kdm; introduint el següent comandament:</para>

<screen
><command
>kdm <option
>-nodaemon</option
></command
>
</screen>

<para
>Si obteniu un diàleg d'accés de &kdm; i sou capaç d'accedir, la cosa va bé. El principal problema és que l'enllaçador en temps d'execució podria no trobar les biblioteques compartides de &Qt; o de &kde;. Si teniu una distribució binaria de les biblioteques de &kde;, assegureu-vos que &kdm; està instal·lat a on creuen les biblioteques que està instal·lat el &kde; i intenteu establir algunes variables d'entorn que apuntin cap a les vostres biblioteques de &kde; i de &Qt;.</para>

<para
>Per exemple:</para>

<screen
><command
>export 
<option
>KDEDIR=<replaceable
>/opt/kde</replaceable
></option
></command>
<command
>export 
<option
>QTDIR=<replaceable
>/usr/lib/qt2</replaceable
></option
></command>
<command
>export 
<option
>PATH=<replaceable
>$KDEDIR/bin:$QTDIR/bin:$PATH</replaceable
></option
></command>
<command
>export 
<option
>LD_LIBRARY_PATH=<replaceable
>$KDEDIR/lib:$QTDIR/lib</replaceable
></option
></command
>
</screen>

<para
>Si encara no teniu èxit, intenteu iniciar &xdm; en el seu lloc, per assegurar-vos que no esteu sofrint un problema de configuració de X més seriós.</para>

<para
>Quan sigueu capaç d'iniciar &kdm; amb èxit, podeu començar a substituir &xdm; per &kdm;. Altra vegada això depèn de la distribució.</para>

<itemizedlist>
<listitem>
<para
>Per a &RedHat;, editeu <filename
>/etc/inittab</filename
> i cerqueu aquesta línia:</para>
<screen
>x:5:respawn:/usr/X11/bin/xdm -nodaemon</screen>
<para
>i substituïu-la amb:</para>
<screen
>x:5:respawn:/opt/kde/bin/kdm</screen>
<para
>Això li diu a <command
>init</command
>(8) que reinicii &kdm; quan el sistema estigui en el nivell d'execució 5. Tingueu present que &kdm; no necessita l'opció <option
>-nodaemon</option
>.</para>
</listitem>
<listitem>
<para
>Per a &Mandrake; el nivell d'execució de X11 en el <filename
>/etc/inittab</filename
> invoca l'script <filename
>/etc/X11/prefdm</filename
>, el qual està configurat per a seleccionar entre diversos gestors de pantalla, inclòs &kdm;. Assegureu-vos de que totes les rutes són correctes per a la vostra instal·lació.</para
> 
</listitem>
<listitem>
<para
>Per a &SuSE;, editeu <filename
>/sbin/init.d/xdm</filename
> per afegir una primera línia:</para>

<screen
>. /etc/rc.config
DISPLAYMANAGER=kdm
export DISPLAYMANAGER</screen>
</listitem>
<listitem
><para
>Per a FreeBSD, editeu <filename
>/etc/ttys</filename
> i cerqueu una línia com aquesta:</para>
<screen
>ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</screen>
<para
>i editeu-la a això:</para>
<screen
>ttyv8   "/usr/local/bin/kdm"  xterm   on secure</screen>
</listitem>

<listitem
><para
>La majoria de les altres distribucions són variacions d'un d'aquests casos.</para
></listitem>
</itemizedlist>

<para
>En aquesta etapa, podeu provar &kdm; una altra vegada passant el vostre sistema al nivell d'execució que ha d'executar ara &kdm;. Per a fer-ho, introduïu un comandament com aquest:</para>

<screen
><command
>/sbin/init <option
>5</option
></command
>
</screen>

<para
>En comptes del número <option
>5</option
> haureu d'especificar el nivell d'execució adequat per a executar X11 en el vostre sistema.</para>

<para
>La passa final és editar l'entrada <parameter
>initdefault</parameter
> en <filename
>/etc/inittab</filename
> per a especificar el nivell d'execució adequat per a X11.</para>

<warning
><para
>Abans de fer aquest canvi, assegureu-vos de que teniu un mitjà per a reiniciar el vostre sistema si es produeix un problema. Ho podreu fer amb un disquet de <quote
>rescat</quote
> proveït per la distribució del vostre sistema o un disquet de <quote
>rescate</quote
> dissenyat especialment, tal com <literal
>tomsrtbt</literal
>. Ignorar aquest avís és sota la vostra responsabilitat.</para
></warning>

<para
>Això sol implicar canvis en la línia:</para>
<screen
>id:3:initdefault:</screen>
<para
>a</para>
<screen
>id:5:initdefault:</screen>

<para
>Quan reinicieu el vostre sistema, haurà d'acabar apareguen el diàleg d'accés gràfic &kdm;.</para>

<para
>Si aquesta passa no te èxit, el problema més probable és que l'entorn usat en el moment de l'arrencada difereix de l'entorn que useu per a provar a la línia de comandaments. Si esteu intentant fer coexistir dues versions de &kde;, tingueu especial cura per a que les opcions de configuració de les vostres variables d'entorn <envar
>PATH</envar
> i <envar
>LD_LIBRARY_PATH</envar
> siguin consistents, i que els scripts d'inici no se les salten d'alguna manera.</para>

</sect1>

</chapter>

<chapter id="different-window-managers-with-kdm">
<title
>Suportar múltiples gestors de finestra</title>

<para
>&kdm; detecta la majoria dels gestors de finestra i entorns d'escriptori quan s'executa. Instal·lar-ne un de nou farà que aquest estigui disponible en el diàleg principal de &kdm; <guilabel
>Tipus de sessió:</guilabel
>.</para>

<para
>Si teniu un gestor de finestres molt nou, o &kdm; no suporta alguna cosa, el primer que haureu de comprovar és que l'aplicació que aneu a executar es troba en la variable d'entorn <envar
>PATH</envar
> i que no s'ha renomenat durant la instal·lació en alguna cosa no esperada.</para>

<para
>Si el cas és que l'aplicació és massa nova i no està encara suportada per &kdm; tan sols haureu d'afegir una nova sessió.</para>

<para
>La sessió es defineix en els fitxers <firstterm
>.desktop</firstterm
> en <filename class="directory"
>$<envar
>KDEDIR</envar
>/share/apps/kdm/sessions</filename
>. És pot afegir simplement un nom apropiat al fitxer <literal role="extension"
>.desktop</literal
> en aquest directori. Els camps són:</para>

<programlisting
>[Desktop Entry]
Encoding=UTF-8 <lineannotation
>Estableix la codificació a <option
>UTF-8</option>
i es pot ometre</lineannotation>
Type=XSession <lineannotation
>Estableix el tipus de sessió a <option
>XSession</option>
i es pot ometre</lineannotation>
Exec=<replaceable
>nom executable</replaceable
> <lineannotation
>Es passa a
<command
>eval exec</command
> en un intèrpret de comandaments Bourne</lineannotation>
TryExec=<replaceable
>nombre del executable</replaceable
> <lineannotation
>Suportat però no es necessari</lineannotation>
Name=<replaceable
>nombre que es mostra en la llista de sessions de &kdm;</replaceable
></programlisting>

<para
>Hi ha tres maneres <quote
>màgiques</quote
>:</para>

<variablelist>
<varlistentry>
<term
>default</term>
<listitem>
<para
>La sessió per omissió per a &kdm; normalment és &kde; però la pot configurar l'administrador del sistema. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>custom</term>
<listitem>
<para
>La sessió personalitzada executarà el ~/.xsession dels usuaris, si existeix. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>failsafe</term>
<listitem>
<para
>A prova d'errors executa un sessió totalment plana, i és útil tan sols per a la depuració. </para>
</listitem>
</varlistentry>
</variablelist>

<para
>Per a canviar el tipus de sessió, copieu el fitxer .desktop del directori de dades al de configuració i editeu-lo. Eliminar els tipus de sessió es pot aconseguir <quote
>ocultant-los</quote
> en fitxers .desktop que continguin Hidden=true. Per als tipus de sessió anteriors no hi ha tipus de fitxer .desktop per omissió, però &kdm; pretén que ho siguin, de manera que els podreu solapar per qualsevol altra tipus. Espero que sabeu com afegir un nou tipus de sessió. :-)</para>

</chapter>

<chapter id="xdmcp-with-kdm">
<title
>Usar &kdm; per a accessos remots (&XDMCP;)</title>

<para
>&XDMCP; és un estàndard del Open Group el <quote
>X Display Manager Control Protocol -protocol de control de gestió de la pantalla X-</quote
>. S'usa per a configurar les connexions entre sistemes remots a través de la xarxa.</para>

<para
>&XDMCP; és útil en situacions multiusuari en les que hi ha usuaris amb estaciones de treball i un servidor molt potent que pot proveir els recursos per a executar múltiples sessions X. Per exemple, &XDMCP; és una bona manera de reusar vells ordinadors -un Pentium i fins i tot un 486 amb 16Mb de RAM és suficient per a executar X i usar el &XDMCP; com a un ordinador que pot executar sessions del modern &kde; des d'un servidor. Per part del servidor, una vegada s'està executant una sessió de &kde; (un altra entorn), executar una altra requerirà de molts pocs recursos extra.</para>

<para
>De tota manera, permetre altres mètodes d'accés a la vostra màquina, òbviament, te implicacions de seguretat. Hauríeu d'executar aquest servei tan sols si necessiteu permetre l'accés a servidors X remots per a que iniciïn sessions d'accés en el vostre sistema. Els usuaris amb un únic ordinador amb &UNIX; no necessiten executar això.</para>

</chapter>

<chapter id="advanced-topics">
<title
>Consells avançats</title>

<sect1 id="command-sockets">
<title
>Comandaments de sockets</title>

<para
>Aquesta és una característica que podeu usar per a controlar &kdm; en mode remot. La majoria de les vegades s'usa per a &ksmserver; i &kdesktop; des d'una sessió en execució, però també són possibles altres aplicacions.</para>

<para
>Els sockets són connexions de domini &UNIX; que es troben en els subdirectoris especificats per <option
>FifoDir</option
>=. El subdirectori és la clau del direccionament i la seguretat; tots els sockets tenen el nom de <filename
>socket</filename
> i els permisos de fitxer <literal
>rw-rw-rw-</literal
> (0666). Això es deu a que alguns sistemes no cuiden els permisos de fitxer dels fitxers de socket.</para>

<para
>Hi ha dos tipus de connexions: Una global (dmctl) i una altra per a la pantalla (dmctl-&lt;pantalla&gt;).</para>

<para
>El subdirectori global és propietat de root, els subdirectoris per a la pantalla són propietat de l'usuari propietari de la sessió (el root o l'usuari que ha accedit). El grup propietari dels subdirectoris pot ser configurat a través de FifoGroup=, o a través de root. Els permisos del fitxer dels subdirectoris són rwxr-x--- (0750).</para>

<para
>Els camps d'un comandament són separats per tabulacions (<token
>\t</token
>), els camps d'una llista es separen per espais, els espais en els camps de les llistes es denoten amb <token
>\s</token
>.</para>

<para
>El comandament finalitza en una nova línia (<token
>\n</token
>).</para>

<para
>El mateix s'aplica a les respostes. La resposta en cas d'èxit és <returnvalue
>ok</returnvalue
>, possiblement seguit de la informació requerida. La resposta en cas d'error és una paraula amb l'estil de número d'error (&pex; <returnvalue
>perm</returnvalue
>, <returnvalue
>noent</returnvalue
>, &etc;) seguit per una llarga explicació.</para>

<variablelist>
<title
>Comandaments globals:</title>
<varlistentry>
<term
><command
>login</command
> <option
>display</option
> (<parameter
>now</parameter
> | <parameter
>calendari</parameter
>) <parameter
>usuari</parameter
> <parameter
>contrasenya</parameter
> [arguments_de_sessió]</term>
<listitem>
<para
>Accedeix l'usuari a la pantalla especificada. Si està especificat <parameter
>now</parameter
>, es tanca una possible sessió en execució, d'altra manera l'accés s'efectuarà al sortir de la sessió. Els arguments_de_sessió són continguts que s'imprimeixen escapats per .dmrc. S'usaran els valors desats prèviament per a les claus no llistades.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Comandaments per a la pantalla:</title>
<varlistentry>
<term
><command
>lock</command
></term>
<listitem>
<para
>La pantalla està marcada com a blocada. Si peta el &X-Server; en aquest estat, no es podrà tornar a accedir altra vegada encara que estigui activada aquesta opció.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>unlock</command
></term>
<listitem>
<para
>Reverteix l'efecte de <command
>lock</command
>, i torna a habilitar l'accés automàtic altra vegada.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>suicide</command
></term>
<listitem>
<para
>La sessió que en actualment en execució finalitzarà a la força. No s'intenta de nou l'accés, però sí s'executarà un comandament d'"accés" programat.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Comandaments per a tots els sockets</title>
<varlistentry>
<term
><command
>caps</command
></term>
<listitem>
<para
>Retorna una llista de les capacitats d'aquest socket:</para>

<variablelist>
<varlistentry>
<term
><returnvalue
>&kdm;</returnvalue
></term>
<listitem>
<para
>Identifica &kdm;, en el cas que algun altra DM també implementi aquest protocol</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>list</returnvalue
>, <returnvalue
>lock</returnvalue
>, <returnvalue
>suicide</returnvalue
>, <returnvalue
>login</returnvalue
></term>
<listitem>
<para
>Estan suportats els comandaments respectius</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>bootoptions</returnvalue
></term>
<listitem>
<para
>Estan suportats els comandaments <command
>listbootoptions</command
> i <option
>=</option
> a <command
>shutdown</command
></para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>shutdown &lt;llista&gt;</returnvalue
></term>
<listitem>
<para
><command
>shutdown</command
> està suportada i es permet per als usuaris llistats (una llista separada per comes). <returnvalue
>*</returnvalue
> equival a tots els usuaris autenticats.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke &lt;llista&gt;</returnvalue
></term>
<listitem>
<para
>L'aturada pot ser realitzada pels usuaris llistats.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke</returnvalue
></term>
<listitem>
<para
>L'aturada pot ser realitzada per tothom</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>reserve &lt;número&gt;</returnvalue
></term>
<listitem>
<para
>Es reserva les pantalles a configurar, de manera que <returnvalue
>número</returnvalue
> restaran disponibles</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>list</command
> [<parameter
>all</parameter
> | <parameter
>alllocal</parameter
>]</term>
<listitem>
<para
>Retorna una llista de sessions en execució. Per omissió es llisten totes les sessions actives. Si s'especifica <parameter
>all</parameter
>, també es llisten les sessions passives, si s'especifica <parameter
>alllocal</parameter
>, també es llistaran les sessions passives, però es saltaran totes les sessions remotes entrants.</para>
<para
>Cada entrada de la sessió és un grup de contenidors separats per comes:</para>
<itemizedlist>
<listitem
><para
>Nom de la pantalla o TTY</para
></listitem>
<listitem
><para
>Nom VT per a les sessions locals</para
></listitem>
<listitem
><para
>Nom d'usuari per a l'accés, buit per a sessions passives i sessions remotes de sortida (mode de selecció local)</para
></listitem>
<listitem
><para
>Tipus de sessió o <quote
>&lt;remote&gt;</quote
> per a sessions remotes de sortida, buida per a sessions passives.</para
></listitem>
<listitem
><para
>Un camp marcat:</para>
<itemizedlist
><listitem
><para
><literal
>*</literal
> per a la pantalla que pertany al socket requerit.</para
></listitem>
<listitem
><para
><literal
>!</literal
> per a les sessions que no puguin ser mortes per un requeriment de socket.</para
></listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<para
>En el futur s'hi afegiran nous camps.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>reserve</command
> [<parameter
>temps en segons</parameter
>]</term>
<listitem>
<para
>Inicia una pantalla d'accés reservada. Si ningú accedeix en el temps especificat (per omissió un minut), s'eliminarà la pantalla. També s'eliminarà quan es surti de la sessió.</para>
<para
>Tan sols permès sobre sockets de pantalles locals i el socket global.</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>activate</command
> (<parameter
>vt</parameter
>|<parameter
>display</parameter
>)</term>
<listitem>
<para
>Canvia a un VT en particular (terminal virtual). El VT es pot especificar be directament (&pex; <parameter
>vt3</parameter
>) o be usant aquesta pantalla (&pex; <parameter
>:2</parameter
>).</para>
<para
>Tan sols permès sobre sockets de pantalles locals i el socket global.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>listbootoptions</command
></term>
<listitem>
<para
>Llista les opcions d'arrencada disponibles.</para>
<!--FIXME: "ok" list default current
    default and current are indices into the list and are -1 if unset or
    undeterminable. -->
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown</command
> (<parameter
>reboot</parameter
> | <parameter
>halt</parameter
>) [<parameter
>=<replaceable
>opció_arrencada</replaceable
></parameter
>] (<parameter
>ask</parameter
>|<parameter
>trynow</parameter
>|<parameter
>forcenow</parameter
>|<parameter
>schedule</parameter
>|<parameter
>start (<parameter
>-1</parameter
>|<parameter
>end (<parameter
>force</parameter
>|<parameter
>forcemy</parameter
>|<parameter
>cancel)</parameter
>)</parameter
>)</parameter
>)</term>
<listitem>
<para
>Requereix una aturada del sistema, be reiniciant o aturant/apagant.</para>
<para
>Una elecció de SO per a la següent arrencada s'ha d'especificar a partir de la llista retornada per <command
>listbootoptions</command
></para>
<para
>Els requeriments d'aturada des dels sockets de la pantalla s'executen quan es tanca la sessió actual. El requeriment pot fer aparèixer un diàleg emergent demanant-li confirmació i/o autenticació</para>
<para
><parameter
>start</parameter
> és l'hora a la que està programada l'aturada. Si comença per un signe més, s'afegeix al temps actual. Cero vol dir immediatament.</para>
<para
><parameter
>end</parameter
> és l'última hora a la que l'aturada s'hauria de realitzar si les sessions actives encara s'estan executant. Si comença amb un signe més s'afegeix al temps d'inici. -1 vol dir espera indefinida. Si end està en sessions actives encara en execució, &kdm; farà una de les següents coses:</para>
<itemizedlist>
<listitem
><para
><parameter
>cancel</parameter
> - Anul·la l'aturada</para
></listitem>
<listitem
><para
><parameter
>force</parameter
> - Atura a pesar de tot</para
></listitem>
<listitem
><para
><parameter
>forcemy</parameter
> - Atura a pesar de tot si totes les sessions actives pertanyen a l'usuari que ha fet el requeriment. Tan sols per als sockets a la pantalla.</para
></listitem>
</itemizedlist>
<para
><parameter
>start</parameter
> i <parameter
>end</parameter
> s'especifiquen en segons des de l'època &UNIX;.</para>
<para
><parameter
>trynow</parameter
> és un sinònim per a <parameter
>0 0 cancel</parameter
>, <parameter
>forcenow</parameter
> per a <parameter
>0 0 force</parameter
> i <parameter
>schedule</parameter
> per a <parameter
>0 -1</parameter
>.</para>
<para
><parameter
>ask</parameter
> intenta l'aturada de manera immediata i interactua amb l'usuari si encara hi ha sessions actives en execució. Tan sols per als sockets a la pantalla.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown cancel</command
> [<parameter
>local</parameter
>|<parameter
>global</parameter
>}</term>
<listitem>
<para
>Cancel·la una aturada programada. El socket global sempre cancel·la totes les aturades pendents, mentre que els sockets a la pantalla per omissió cancel·laran la seva cua de requeriments.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown status</command
></term>
<listitem>
<para
>Retorna una llista amb informació sobre les aturades.</para>
<para
>Les entrades són un conjunt de components separats per comes:</para>
<itemizedlist>
<listitem>
<para
>(<returnvalue
>global</returnvalue
>|<returnvalue
>local</returnvalue
>) - pendent front a cua d'aturada. Una entrada local tan sols pot ser retornada per un socket a la pantalla.</para>
</listitem>
<listitem
><para
>(<returnvalue
>halt</returnvalue
>|<returnvalue
>reboot</returnvalue
>)</para
></listitem>
<listitem
><para
>start</para
></listitem>
<listitem
><para
>end</para
></listitem>
<listitem
><para
>("ask"|"force"|"forcemy"|"cancel")</para
></listitem>
<listitem
><para
>Identificador numèric d'usuari del requeriment de l'usuari, -1 per al socket global.</para
></listitem>
<listitem
><para
>L'elecció del SO a la següent arrencada o "-" per a cap.</para
></listitem>
</itemizedlist>
<para
>Després s'hi afegiran nous camps</para>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</varlistentry>
</variablelist>
<para
>Hi ha dues maneres d'usar els sockets:</para>
<itemizedlist>
<listitem>
<para
>Connectar directament. S'exporta FifoDir com a $<envar
>DM_CONTROL</envar
>. El nom dels sockets a la pantalla es poden derivar de $<envar
>DISPLAY</envar
>.</para>
</listitem>
<listitem>
<para
>Usar el comandament <command
>kdmctl</command
> (&pex;, en un intèrpret de comandaments). Intenteu <command
>kdmctl</command
> <option
>-h</option
> per a obtenir més informació.</para>
</listitem>
</itemizedlist>

<para
>Aquí hi ha un exemple d'script en bash <quote
>reinicia dins de FreeBSD</quote
>:</para>

<programlisting
>if kdmctl | grep -q shutdown; then
  IFS=$'\t'
  set -- `kdmctl listbootoptions`
  if [ "$1" = ok ]; then
        fbsd=$(echo "$2" | tr ' ' '\n' | sed -ne 's,\\s, ,g;/freebsd/I{p;q}')
        if [ -n "$fbsd" ]; then
      kdmctl shutdown reboot "=$fbsd" ask &gt; /dev/null
        else
          echo "FreeBSD boot unavailable."
        fi
  else
    echo "Boot options unavailable."
  fi
else
  echo "Cannot reboot system."
fi</programlisting>

</sect1>
<!-- Riddell: so there's no GUI you need to edit kdmrc to say UseTheme=true and Theme=/path/to/theme.xml
[13:31] <Riddell
> jriddell.org/programs has an example theme 

<sect1 id="dm-themes">
<title
>Themes</title>

&kdm; has limited support for desktop manager themes.  You may enable them
by adding <userinput
>UseTheme=true</userinput
> to <filename
>kdmrc</filename>
and <userinput
>Theme=/path/to/theme.xml</userinput
>.  
</sect1>
-->
</chapter>

<chapter id="Other-Information">
<title
>Altres fonts d'informació</title>

<para
>Atès que &kdm; descendeix de &xdm;, la <ulink url="man:xdm"
>pàgina man de &xdm;</ulink
> podria proveir informació útil. Per a problemes relacionats amb X intenteu consultar les pàgines man <ulink url="man:X"
>X</ulink
> i <ulink url="man:startx"
>startx</ulink
>. Si teniu preguntes quant a &kdm; que no es responen en aquest manual, aprofiteu el fet que &kdm; està sota els termes de la Llicencia Pública General de &GNU;: Mireu el codi font. </para>

</chapter>


<chapter id="credits"
><title
>Crèdits i llicència</title>

<para
>&kdm; deriva de, i inclou codi de &xdm; (C) Keith Packard, MIT X Consortium.</para>

<para
>&kdm; 0.1 fou escrit per &Matthias.Ettrich;. Les versions posteriors per a &kde; 2.0.x les va escriure &Steffen.Hansen;. Algunes noves característiques per a &kde; 2.1.x i una reescriptura major per a &kde; 2.2.x la va fer &Oswald.Buddenhagen;.</para>

<para
>Altres parts del codi per a &kdm; són copyright dels seus autors, i estan sota els termes de la <ulink url="common/gpl-license.html"
>&GNU; GPL</ulink
>. Qualsevol persona te permís per a modificar &kdm; i redistribuir el resultat sempre i quan es mencioni el nom dels autors.</para>

<para
>&kdm; requereix la biblioteca &Qt;, la qual és copyright de Troll Tech AS.</para>

<para
>Col·laboradors de la documentació: <itemizedlist>

<listitem
><para
>Documentació escrita per &Steffen.Hansen; <email
>stefh@dit.ou.dk</email
></para
></listitem>

<listitem
><para
>Documentació estesa per Gregor Zumstein <email
>zumstein@ssd.ethz.ch</email
>. Última actualització el 9 d'agost de 1998</para
></listitem>

<listitem
><para
>Documentació revisada per a &kde; 2 per &Neal.Crook; &Neal.Crook.mail;. Última actualització el 06 d'agost del 2000</para
></listitem>

<listitem
><para
>Documentació estesa i revisada per a &kde; 2.2 per &Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;. Última actualització a l'agost del 2001</para
></listitem>

</itemizedlist
></para>

<para
>Copyright de la documentació: &Steffen.Hansen;, Gregor Zumstein, &Neal.Crook; i &Oswald.Buddenhagen;. Aquest document també inclou àmplies parts de les pàgines man de &xdm;, amb drets d'autor &copy; d'en Keith Packard.</para>
&underFDL; &underGPL; </chapter>

<glossary id="glossary">
<title
>Glossari</title>

<glossentry id="gloss-greeter">
<glossterm
>benvinguda</glossterm>
<glossdef
><para
>La benvinguda és el diàleg d'accés, &ead;, la part de &kdm; que els usuaris veuen.</para>
</glossdef>
</glossentry>

<glossentry>
<glossterm id="gloss-entropy"
>entropia</glossterm>
<glossdef
><para
>La entropia d'un sistema és la mesura de la seva impredictibilitat. S'usa durant la generació de números aleatoris.</para
></glossdef>
</glossentry>

</glossary>
</book>
<!--
Local Variables:
mode: xml
sgml-omittag: nil
sgml-shorttag: t
End:
-->

