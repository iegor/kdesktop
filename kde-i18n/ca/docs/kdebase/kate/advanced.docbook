<chapter id="advanced-editing-tools">
<chapterinfo>
<authorgroup>
<author
>&Anders.Lund; &Anders.Lund.mail;</author>
<author
>&Dominik.Haumann; &Dominik.Haumann.mail;</author>
&traductor.Antoni.Bella; 
</authorgroup>
</chapterinfo>
<title
>Eines d'edició avançades</title>

<sect1 id="advanced-editing-tools-comment">

<title
>Comenta/descomenta</title>

<para
>Els comandaments Comenta i Descomenta, disponibles des del menú <guimenu
>Eines</guimenu
> us permeten afegir o eliminar marques de comentari per a la selecció, o de la línia actual si no hi ha cap selecció. El format dels comentaris dependrà del format del text que esteu editant.</para>

<para
>Les regles que determinen com hauran de ser els comentaris s'estableixen en les definicions de sintaxi, de manera que si no s'usa el ressaltat de sintaxi, no serà possible fer això. </para>

<para
>Alguns formats defineixen marques de comentaris d'una sola línia, d'altres de múltiples línies i d'altres usen ambdues possibilitats. Si no estan disponibles les marques de comentaris de diverses línies, no serà possible comentar una selecció en que l'última línia d'aquesta no estigui inclosa completament.</para>

<para
>Si està disponible una marca de comentari d'una sola línia, es preferible comentar les línies individualment, atès que així s'eviten problemes de comentaris aniuats.</para>

<para
>En eliminar les marques de comentari, s'haurà de seleccionar el text sense comentar. En eliminar les marques de comentari multi-línia d'una selecció, s'ignorarà qualsevol espai en blanc que quedi fora de les marques de comentari.</para>

<para
><indexterm
><primary
>comentar</primary
></indexterm
> Per a posar marques de comentari, useu l'ítem del menú <menuchoice
><guimenu
>Eines</guimenu
><guimenuitem
>Comenta</guimenuitem
></menuchoice
> o la drecera de teclat corresponent, per omissió és <keycombo action="simul"
>&Ctrl;<keycap
>D</keycap
></keycombo
>.</para>

<para
><indexterm
><primary
>descomentar</primary
></indexterm
> Per eliminar les marques de comentari, useu l'ítem del menú <menuchoice
><guimenu
>Eines</guimenu
><guimenuitem
>Descomenta</guimenuitem
></menuchoice
> o la drecera de teclat corresponent, per omissió és <keycombo action="simul"
>&Ctrl;&Maj;<keycap
>D</keycap
></keycombo
>.</para>

</sect1>

<sect1 id="advanced-editing-tools-commandline">
<title
>El component línia de comandaments de l'editor</title>

<para
>L'editor Kate té un component que és una línia de comandaments interna, permetent-vos dur a terme vàries accions des d'una interfície gràfica mínima. La línia de comandaments és una entrada de text en la part inferior de l'àrea d'edició, i per a veure-la tan sols haureu de seleccionar <menuchoice
><guimenu
>Visualitza</guimenu
> <guimenuitem
>Canvia a línia de comandaments</guimenuitem
></menuchoice
> o usar la drecera (per omissió és <keycombo action="simul"
><keycap
>F7</keycap
></keycombo
>). L'editor proveeix un joc de comandaments com els que es documenten a continuació, així com aquells altres que es poden proveir a partir de connectors.</para>

<para
>Per a executar un comandament, escriviu-lo i després premeu la tecla &Intro;. La línia de comandaments indicarà què ha succeït mostrant un possible missatge. Si entreu a la línia de comandaments i premeu <keycap
>F7</keycap
> aquest missatge s'ocultarà automàticament després d'uns segons. Per esborrar el missatge i introduir un nou comandament, premeu <keycap
>F7</keycap
> altra vegada.</para>

<para
>La línia de comandaments té un sistema d'ajuda encastat, escriviu el comandament <command
>help</command
> per a iniciar-lo. Per a veure una llista de tots els comandaments disponibles escriviu <command
>help list</command
>, per a veure l'ajuda específica d'un comandament, escriviu <command
>help <replaceable
>comandament</replaceable
></command
>.</para>

<para
>La línia de comandaments té integrat un historial, de manera que podreu tornar a usar els comandaments ja teclejats. Per a navegar a través de l'historial, useu les tecles <keycap
>Amunt</keycap
> i <keycap
>Avall</keycap
>. Quan es mostrin els comandaments de l'historial, restarà seleccionada la part de l'argument, permetent-vos tronar a escriure'ls amb facilitat.</para>

<sect2 id="advanced-editing-tools-commandline-commands">
<title
>Comandaments estàndard de la línia de comandaments</title>

<sect3 id="advanced-editing-tools-commandline-commands-configure">
<title
>Comandaments per a configurar l'editor</title>

<para
>Aquests comandaments són els que proveeix el component editor, i us permeten configurar només la vista i el document actiu. Això és especialment pràctic si voleu usar una configuració diferent a la per omissió, per exemple per al sagnat. </para>

<variablelist>
<title
>Tipus d'arguments</title>

<varlistentry>
<term
>BOOLEAN</term>
<listitem
><para
>Aquest s'usa amb comandaments que activen o desactiven coses. Els valors acceptats són: <userinput
>on</userinput
>, <userinput
>off</userinput
>, <userinput
>true</userinput
>, <userinput
>false</userinput
>, <userinput
>1</userinput
> o <userinput
>0</userinput
></para
></listitem>
</varlistentry>

<varlistentry>
<term
>INTEGER</term>
<listitem
><para
>Un número enter.</para
></listitem>
</varlistentry>

<varlistentry>
<term
>STRING</term>
<listitem
><para
>Una cadena.</para
></listitem>
</varlistentry>

</variablelist>

<variablelist>

<varlistentry>
<term
><cmdsynopsis
><command
>set-tab-width</command
><arg
>INTEGER amplada</arg
></cmdsynopsis
></term>
<listitem
><para
>Estableix l'amplada de la pestanya al número <userinput
>amplada</userinput
></para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-width</command
><arg
>INTEGER amplada</arg
></cmdsynopsis
></term>
<listitem
><para
>Estableix l'amplada del sagnat al número <userinput
>amplada</userinput
>. Tan sols s'usa si esteu sagnant amb espais.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-word-wrap-column</command
><arg
>INTEGER amplada</arg
></cmdsynopsis
></term>
<listitem
><para
>Estableix l'amplada per a l'ajust de línia al número <userinput
>amplada</userinput
>. Tan sols s'usa si teniu l'ajust de línia automàtic.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-icon-border</command
><arg
>BOOLEAN enable</arg
> </cmdsynopsis
></term>
<listitem
><para
>Estableix la visibilitat de la vora d'icones.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-folding-markers</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Estableix la visibilitat del plafó de marques de plegat.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-line-numbers</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Estableix la visibilitat dels números de línia al plafó.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-replace-tabs</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Si està habilitat, es substitueixen els espais de tabulació per espais normals mentre aneu escrivint. </para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-remove-trailing-space</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Si està habilitat, els espais en blanc de marca seran eliminats en el moment en que el cursor surti d'una línia.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-show-tabs</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Si està habilitat, els caràcters de tabulació i espais en blanc de marca es veuran com un punt petit.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-spaces</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Si està habilitat, l'editor farà un sagnat amb <option
>indent-width</option
> espais per a cada nivell de sagnat, en comptes de amb un caràcter de tabulació.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-mixed-indent</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Si està habilitat, el kate usarà una mescla de tabulacions i espais per al sagnat. Cada nivell de sagnat serà <option
>indent-width</option
> d'amplada, i els diferents nivells de sagnat s'optimitzaran usant el màxim de caràcters de tabulació com sigui possible.</para>
<para
>Quan s'executa, aquest comandament habilita el sagnat amb espais, i si no s'especifica l'amplada se li assignarà un valor igual a la meitat de <option
>tab-width</option
> per al document en temps d'execució.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-word-wrap</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Habilita l'ajust de línia dinàmic d'acord amb el valor de <userinput
>habilita</userinput
></para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-replace-tabs-save</command
><arg
>BOOLEAN enable </arg
></cmdsynopsis
></term>
<listitem
><para
>Quan està habilitat, les tabulacions seran substituïdes amb espais en blanc al desar el document.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-remove-trailing-space-save</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Quan està habilitat, s'eliminen els espais de marca de cada línia al desar el document.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-mode</command
><arg
>nom</arg
></cmdsynopsis
></term>
<listitem
><para
>Estableix el mode de sagnat automàtic a <userinput
>nom</userinput
>. Si <userinput
>nom</userinput
> és desconegut, el mode seleccionat serà 'none'. Els modes vàlids són 'cstyle', 'csands', 'xml', 'python', 'varindent' i 'none'.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-highlight</command
><arg
>highlight</arg
></cmdsynopsis
></term>
<listitem
><para
>Estableix el sistema de ressaltat de sintaxi per al document. L'argument haurà de ser un nom de ressaltat vàlid, com aquells que es poden veure en el menú <menuchoice
><guimenu
>Eines</guimenu
><guisubmenu
>Ressaltat</guisubmenu
></menuchoice
>. Aquest comandament proveeix una llista de completat automàtic per als seus arguments.</para
></listitem>
</varlistentry>

</variablelist>

</sect3>

<sect3 id="advanced-editing-tools-commandline-commands-edit">
<title
>Comandaments per a l'edició</title>

<para
>Aquests comandaments modifiquen el document actual.</para>

<variablelist>
<varlistentry>
<term
><cmdsynopsis
><command
>indent</command
></cmdsynopsis
></term>
<listitem
><para
>Sagna les línies seleccionades o la línia actual.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>unindent</command
></cmdsynopsis
></term>
<listitem
><para
>Treu el sagnat de les línies seleccionades o la línia actual.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>cleanindent</command
></cmdsynopsis
></term>
<listitem
><para
>Treu el sagnat de les línies seleccionades o la línia actual d'acord amb les opcions de sagnat que tingueu establertes al document. </para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>comment</command
></cmdsynopsis
></term>
<listitem
><para
>Insereix marques de comentari fent que la selecció, les línies seleccionades o la línia actual siguin un comentari d'acord amb el format de text que s'hagi definit a la sintaxi de ressaltat per al document.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>uncomment</command
></cmdsynopsis
></term>
<listitem
><para
>Elimina les marques de comentari de la selecció, de les línies seleccionades o la línia actual, d'acord amb el format del text tal i com és definit per la definició de ressaltat de sintaxi per al document.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>kill-line</command
></cmdsynopsis
></term>
<listitem
><para
>Elimina la línia actual.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>replace</command
><arg
>patró</arg
><arg
>substitució</arg
></cmdsynopsis
></term>
<listitem
><para
>Substitueix el text en que coincideixi el <userinput
>patró</userinput
> amb el valor de <userinput
>substitució</userinput
>. Si voleu incloure espais en blanc en el <userinput
>patró</userinput
>, haureu de posar entre cometes tan el <userinput
>patró</userinput
> com la <userinput
>substitució</userinput
> amb cometes simples o dobles. Si els arguments no són entre cometes, la primera paraula s'usarà com a <userinput
>patró</userinput
> i la resta com a <userinput
>substitució</userinput
>. Si la <userinput
>substitució</userinput
> és buida, cada ocurrència de <userinput
>patró</userinput
> serà eliminada.</para>
<para
>Podeu establir etiquetes per a configurar la recerca afegint dos punts, seguits d'una o més lletres cadascuna de les quals representa una configuració, quedant de la forma <userinput
>replace:opcions patró substitució</userinput
>. Les opcions disponibles són: <variablelist>

<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Cerca enrere.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Cerca des de la posició del cursor.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>e</userinput
></term>
<listitem
><para
>Cerca tan sols en el text seleccionat.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Cerca usant una expressió regular. Si està establerta, podeu usar <userinput
>\N</userinput
> a on N serà un número per a representar captures en la cadena de substitució.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Cerca distingint majúscules i minúscules.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>p</userinput
></term>
<listitem
><para
>Demana permís per a substituir la següent ocurrència.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>w</userinput
></term>
<listitem
><para
>Tan sols coincidiran paraules senceres.</para
></listitem>
</varlistentry>

</variablelist>

</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>date</command
><arg
>format</arg
></cmdsynopsis
></term>
<listitem
><para
>Insereix una cadena de data/hora definida d'acord al <userinput
>format</userinput
>, o si aquest no s'especifica s'usarà el format <quote
>aaaa-MM-dd hh:mm:ss</quote
>. La interpretació del <userinput
>format</userinput
> serà la següent: <informaltable
> <tgroup cols="2"
> <tbody>
<row
><entry
><literal
>d</literal
></entry
><entry
>El dia com a número sense ceros a l'esquerra (1-31).</entry
></row>
<row
><entry
><literal
>dd</literal
></entry
><entry
>El dia com a número amb dos dígits (01-31).</entry
></row>
<row
><entry
><literal
>ddd</literal
></entry
><entry
>L'abreujament del nom del dia segons la localització (&pex;, 'Dl'..'Dg').</entry
></row>
<row
><entry
><literal
>dddd</literal
></entry
><entry
>El nom complet del dia segons la la localització (&pex;, 'Dilluns'..'Diumenge').</entry
></row>
<row
><entry
><literal
>M</literal
></entry
><entry
>El mes com a número sense ceros a l'esquerra (1-31).</entry
></row>
<row
><entry
><literal
>MM</literal
></entry
><entry
>El mes com a número amb dos dígits (01-31).</entry
></row>
<row
><entry
><literal
>MMM</literal
></entry
><entry
>L'abreujament del nom del mes segons la localització (&pex;, 'Gen'..'Dec').</entry
></row>
<row
><entry
><literal
>yy</literal
></entry
><entry
>L'any amb un número de dos dígits (00-99).</entry
></row>
<row
><entry
><literal
>yyyy</literal
></entry
><entry
>L'any amb un número de quatre dígits (1752-8000).</entry
></row>
<row
><entry
><literal
>h</literal
></entry
><entry
>L'hora sense ceros a l'esquerra (0..23 o 1..12 si es mostra AM/PM).</entry
></row>
<row
><entry
><literal
>hh</literal
></entry
><entry
>L'hora amb dos dígits (00..23 o 01..12 si es mostra AM/PM).</entry
></row>
<row
><entry
><literal
>m</literal
></entry
><entry
>Els minuts sense ceros a l'esquerra (0..59).</entry
></row>
<row
><entry
><literal
>mm</literal
></entry
><entry
>Els minuts amb dos dígits (00..59).</entry
></row>
<row
><entry
><literal
>s</literal
></entry
><entry
>Els segons sense ceros a l'esquerra (0..59).</entry
></row>
<row
><entry
><literal
>ss</literal
></entry
><entry
>Els segons amb dos dígits (00..59).</entry
></row>
<row
><entry
><literal
>z</literal
></entry
><entry
>Els milisegons sense ceros a l'esquerra (0..999).</entry
></row>
<row
><entry
><literal
>zzz</literal
></entry
><entry
>Els milisegons amb tres dígits (000..999).</entry
></row>
<row
><entry
><literal
>AP</literal
></entry
><entry
>S'usa per a mostrar AM/PM. AP serà substituït per "AM" o "PM".</entry
></row>
<row
><entry
><literal
>ap</literal
></entry
><entry
>S'usa per a mostrar am/pm. ap serà substituït per "am" o "pm".</entry
></row>

</tbody>
</tgroup>
</informaltable>

</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>char</command
><arg
>identificador</arg
></cmdsynopsis
></term>
<listitem>
<para
>Aquest comandament us permet inserir caràcters literals pel seu identificador numèric, en format decimal, octal o hexadecimal. Per a usar-lo llanceu el diàleg Comandament d'edició i escriviu <userinput
>char: [número]</userinput
> en la caixa d'entrada, després premeu <guibutton
>Bé</guibutton
>.</para>

<example>
<title
>Exemples de <command
>char</command
></title>

<para
>Entrada: <userinput
>char:234</userinput
></para>
<para
>Eixida: <computeroutput
>&#234;</computeroutput
></para>
<para
>Entrada: <userinput
>char:0x1234</userinput
></para>
<para
>Eixida: <computeroutput
>&#x1234;</computeroutput
></para>
</example>

</listitem>
</varlistentry>

<varlistentry>
<term>
<indexterm
><primary
>substitueix, estil sed</primary>
<secondary
>cerca, estil sed</secondary
></indexterm>
<command
>s///[ig]</command
> <command
>%s///[ig]</command
></term>

<listitem>
<para
>Aquest comandament realitzarà una operació de recerca/substitució similar a les de sed sobre la línia actual o en tot el fitxer (<command
>%s///</command
>).</para>

<para
>Abreujat, es cerca en el text alguna cadena que coincideixi amb el <emphasis
>patró de recerca</emphasis
>, l'expressió regular entre la primera i la segona barra, i quan es troba una coincidència, la part coincident del text és substituïda per l'expressió continguda entre les barres central i última de la cadena. Els parèntesis en el patró de recerca creen <emphasis
>referències enrere</emphasis
>, és a dir, que el comandament recorda quina part de la coincidència es troba entre parèntesis; aquestes cadenes es poden tornar a usar en el patró de substitució, referint-se a elles com a <userinput
>\1</userinput
> per al primer conjunt de parèntesis, <userinput
>\2</userinput
> per al segon i així successivament.</para>

<para
>Per a fer una recerca literal de <literal
>(</literal
> o <literal
>)</literal
>, haureu d'<emphasis
>escapar</emphasis
> el caràcter emprant un altre caràcter de barra invertida: <userinput
>\(\)</userinput
></para>

<para
>Si poseu una <userinput
>i</userinput
> al final de l'expressió, les coincidències seran sensibles a majúscules i minúscules. Si poseu una <userinput
>g</userinput
> al final, es substituiran totes les ocurrències del patró, en qualsevol altre cas tan sols es substituirà la primera ocurrència.</para>

<example>

<title
>Substitució de text en la línia actual</title>

<para
>El vostre bon amic l'ordinador s'ha aturat, dient que la classe <classname
>myClass</classname
> mencionada en la línia 3902 del fitxer font no està definida.</para>

<para
>&quot;Llamps i trons!&quot; Pensareu. Per descomptat és <classname
>MyClass</classname
>. Anireu fins la línia 3902 i en comptes d'intentar cercar la paraula en el text, obrireu el diàleg Comandament d'edició, introduireu <userinput
>s/myclass/MyClass/i</userinput
>, premereu el botó <guibutton
>Bé</guibutton
>, desareu el fitxer i tornareu a compilar aquesta vegada sense l'error.</para>

</example>

<example>
<title
>Substitució de text en tot el fitxer</title>

<para
>Imagineu que teniu un fitxer, en el que mencioneu a <quote
>Miss Jensen</quote
> vàries vegades, quan resulta que algú ve i us diu que s'acaba de casar amb <quote
>Mr Jones</quote
>. Per descomptat, voldreu substituir cada ocurrència de <quote
>Miss Jensen</quote
> per <quote
>Ms Jones</quote
>.</para>

<para
>Entreu a la línia de comandaments, escriviu el comandament <userinput
>%s/Miss Jensen/Ms Jones/</userinput
>, una vegada que premeu &Intro; ja estarà fet.</para>

</example>

<example>
<title
>Un exemple més avançat</title>

<para
>Aquest exemple fa ús de <emphasis
>referències enrere</emphasis
> així com d'una <emphasis
>classe de caràcter</emphasis
> (si no sabeu què és això, si us plau, consulteu la documentació mencionada a sota).</para>

<para
>Suposeu que teniu la següent línia: <programlisting
>void MyClass::DoStringOps( String      &amp;foo, String &amp;bar String *p, int  &amp;a, int &amp;b )</programlisting>
</para>
<para
>Però us adoneu de que aquest codi no està bé i decidiu que voleu usar la paraula clau <constant
>const</constant
> per a tots els arguments <quote
>adreça de</quote
>, que es caracteritzen per tenir un operador &amp; al davant del nom de l'argument. També voldreu simplificar l'espai en blanc, de manera que només n'hi hagi un entre cada paraula.</para>

<para
>Obriu el diàleg Comandament d'edició i introduïu: <userinput
>s/\s+(\w+)\s+(&amp;)/ const \1 \2/g</userinput
>, i després premeu el botó <guibutton
>Bé</guibutton
>. La <userinput
>g</userinput
> al final de l'expressió fa que l'expressió regular recompili cada coincidència per a desar les <emphasis
>referències enrere</emphasis
>.</para>

<para
>Eixida: <computeroutput
>void MyClass::DoStringOps( const String &amp;foo, const String &amp;bar String *p, const int &amp;a, const int &amp;b )</computeroutput
></para>

<para
>Missió completada! Ara, què ha passat? Vaja, doncs hems cercat algun espai en blanc (<literal
>\s+</literal
>) seguit d'un o més caràcters alfabètics (<literal
>\w+</literal
>) seguits d'algun espai en blanc (<literal
>\s+</literal
>) seguit del símbol <quote
>&amp;</quote
>, i en el procés hem desat el bloc alfabètic i el caràcter <quote
>&amp;</quote
> per a tornar a usar-los en l'operació de substitució. Llavores hem substituït la part coincident de la nostra línia per un espai en blanc seguit de <quote
>const</quote
> seguit d'un espai en blanc seguit del nostre bloc alfabètic (<literal
>\1</literal
>) seguit d'un espai en blanc seguit del nostre caràcter <quote
>&amp;</quote
> emmagatzemat (<literal
>\2</literal
>)</para>

<para
>En alguns casos el bloc alfabètic era <quote
>String</quote
>, en d'altres <quote
>int</quote
>, de manera que emprant la classe de caràcter <literal
>\w</literal
> i el quantificador <literal
>+</literal
> ens ha proveït d'un valuós actiu.</para>

</example>

</listitem>

</varlistentry>

</variablelist>

</sect3>

<sect3 id="advanced-editing-tools-commandline-commands-navigation">
<title
>Comandaments per a navegar</title>

<variablelist>

<varlistentry>
<term
><cmdsynopsis
><command
>goto</command
><arg
>INT línia</arg
></cmdsynopsis
></term>
<listitem
><para
>Aquest comandament va a la línia especificada.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>find</command
><arg
>patró</arg
></cmdsynopsis
></term>
<listitem
><para
>Aquest comandament navega fins la primera ocurrència del <userinput
>patró</userinput
> d'acord amb la configuració. Les següents ocurrències es poden trobar usant <menuchoice
><guimenu
>Edita</guimenu
><guimenuitem
>Cerca següent</guimenuitem
></menuchoice
> (la drecera per omissió és <keycap
>F3</keycap
>).</para>
<para
>El comandament find pot configurar-se afegint dos punts seguits per una o més opcions, el format serà <userinput
>find:opcions patró</userinput
>. Estan suportades les següents opcions: <variablelist>

<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Cerca enrere.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Cerca des de la posició del cursor.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>e</userinput
></term>
<listitem
><para
>Cerca tan sols en el text seleccionat.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Cerca usant una expressió regular. Si està establerta, podeu usar <userinput
>\N</userinput
> a on N serà un número per a representar captures en la cadena de substitució.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Cerca distingint majúscules i minúscules.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>w</userinput
></term>
<listitem
><para
>Tan sols coincidiran paraules senceres.</para
></listitem>
</varlistentry>

</variablelist>

</para>

</listitem>

</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>ifind</command
><arg
>patró</arg
></cmdsynopsis
></term>
<listitem
><para
>Aquest comandament proveeix recerca <quote
>quan-escriviu</quote
>. Podeu configurar-ne el comportament o la recerca afegint dos punts seguits per a una o més opcions, de forma similar a: <userinput
>ifind:patró d'opcions</userinput
>. Les opcions permeses són: <variablelist>
<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Cerca enrere.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Cerca mitjançant expressions regulars.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Cerca distingint majúscules i minúscules.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Cerca des de la posició del cursor.</para
></listitem>
</varlistentry>

</variablelist>
</para
></listitem>
</varlistentry>

</variablelist>

</sect3>

</sect2>

</sect1>

<sect1 id="advanced-editing-tools-code-folding">
<title
>Usar el plegat de codi</title>

<para
>El plegat de codi us permet ocultar parts d'un document en l'editor, facilitant la visió de documents llargs. En &kate; les regions plegables es calculen usant regles definides en les definicions de ressaltat de sintaxi, i per tant només està disponible en alguns formats (típicament codi font de programes, tals com el de marques XML i similars). La majoria de les definicions de ressaltat suporten plegat de codi i també us permeten definir manualment regions plegables, generalment usant les paraules clau <userinput
>BEGIN</userinput
> i <userinput
>END</userinput
>.</para>

<para
>Per a usar la característica del plegat de codi, activa les marques de plegat usant l'ítem de menú <menuchoice
><guimenu
>Visualitza</guimenu
><guimenuitem
>Mostra les marques de plegat de codi</guimenuitem
></menuchoice
> si no estan visibles. El plafó de marques de plegat a la part esquerra de la pantalla mostra una vista gràfica de les regions plegables, amb els signes +/- per a indicar la possible operació en una certa regió: Un - vol dir que la regió està desplegada, fent clic sobre seu es plegarà i sobre un + es tornarà a mostrar.</para>

<para
>Es proveeixen quatre comandaments per a manipular l'estat de les regions plegables, consulteu la <link linkend="view-code-folding"
>documentació del menú</link
>. </para>

<para
>Si no desitgeu usar la característica de plegat de codi, podeu deshabilitar l'opció <guilabel
>Mostra les marques de plegat (si estan disponibles)</guilabel
> en la <link linkend="config-dialog-editor-appearance"
>pàgina Aparença de configuració de l'editor</link
></para>

</sect1>

<sect1 id="advanced-editing-tools-scripting">

<title
>El component d'edició d'scripts amb JavaScript</title>

<sect2 id="advanced-editing-tools-scripting-introduction">

<title
>Introducció</title>

<para
>Començat amb la versió 2.5, el component editor de &kate; suporta la creació d'scripts amb ECMA, i també conegut com a JavaScript.</para>

<para
>Els scripts tan sols es poden usar a través de <link linkend="advanced-editing-tools-commandline"
>la línia de comandaments</link
>. Els requeriments són que l'script es situï en una carpeta a on &kate; el pugui trobar, junt amb un fitxer opcional .desktop que defineix les propietats relacionades. La carpeta vàlida s'ha d'anomenar <filename
>katepart/scripts</filename
> i haurà d'estar en les carpetes de dades de &kde;. Les podeu trobar executant el comandament <command
>kde-config <option
>--path</option
> <parameter
>dada</parameter
></command
>. Usualment almenys tindreu una carpeta de dades personal i una altra del sistema. Per descomptat, els scripts en la carpeta de dades del sistema estaran disponible per a tots els usuaris del sistema, mentre que els de la carpeta personal tan sols estaran disponibles per a vos.</para>

<note
><para
>Aquesta característica és experimental i rebrà canvis durant el seu desenvolupament futur.</para>
<para
>Coneixem que molts estareu decebuts perquè no podeu afegir els vostres propis scripts al menú o assignar-los dreceres. Ho sentim, però esperem que en el futur això també sigui possible.</para>
<para
>Encara tampoc no és possible passar arguments als vostres scripts. Tingueu paciència, i podria afegir-s'hi en un futur brillant ;)</para>
</note>

</sect2>

<sect2 id="advanced-editing-tools-scripting-reference">

<title
>La API JavaScript de Kate</title>

<para
>Aquí es llista el conjunt complet de funcions i propietats disponibles en els objectes <type
>document</type
> i <type
>view</type
>. També podeu usar tots els objectes estàndard com <type
>Math</type
>, <type
>String</type
> <type
>Regex</type
> i així successivament.</para>

<para
>Quan s'executi un script, l'objecte <classname
>document</classname
> és el document actual, i l'objecte <classname
>view</classname
> és la vista actual.</para>

<note
><para
>Els tipus d'arguments de moment no s'usen en JavaScript, tan sols hi són per a indicar quin tipus de valor esperen les funcions.</para
></note>

<variablelist id="advanced-editing-tools-scripting-global">
<title
>Funcions globals</title>
<varlistentry>
<term
><function
>debug( <parameter
><replaceable
>cadena</replaceable
></parameter
>) [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>paràmetres</title>
<listitem
><para
><parameter
>cadena</parameter
> és la cadena de sortida</para>
</listitem>
</itemizedlist>
<para
>Fa que les sortides vagin cap a <acronym
>STDERR</acronym
> usant <function
>kdDebug()</function
>. Per a la sortida s'usa una àrea de sortida dedicada, i començarà per <computeroutput
>Kate (KJS Scripts):</computeroutput
> </para>
</listitem>
</varlistentry>
</variablelist>

<variablelist id="advanced-editing-tools-scripting-document">
<title
>La API <classname
>document</classname
></title>

<varlistentry>
<term
><function
>document.attribute( <parameter
><replaceable
>línia</replaceable
> </parameter
>, <parameter
><replaceable
>columna</replaceable
></parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>uint línia</parameter
> La línia de la posició per a la que es cerca l'atribut.</para
></listitem>
<listitem
><para
><parameter
>uint columna</parameter
> La columna de la posició per a la que es cerca l'atribut.</para
></listitem>
</itemizedlist>
<para
>Retorna l'ID numèric de l'atribut per a la posició del document [<parameter
>línia</parameter
>,<parameter
>columna</parameter
>]. L'atribut representa l'aparença visual o l'estil del text, i també es pot usar per a calcular el ressaltat de sintaxi per a una part específica del text, com en els formats HTML o PHP.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.canBreakAt( <parameter
>Char c</parameter
>, <parameter
>uint atribut</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>c</parameter
> El caràcter a comprovar.</para
></listitem>
<listitem
><para
><parameter
>atribut</parameter
> L'atribut en la posició de <parameter
>c</parameter
>.</para
></listitem>
</itemizedlist>
<para
>El valor retornat indica si està permès dividir la línia en un caràcter c amb un atribut. El resultat es decideix preguntant l'atribut propietari del ressaltat quins caràcters poden dividir la línia.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.canComment( <parameter
>uint atribut_inici</parameter
>, <parameter
>uint atribut_final</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>atribut_inici</parameter
> L'atribut a l'inici del rang que es convertirà en un comentari.</para
></listitem>
<listitem
><para
><parameter
>atribut_final</parameter
> L'atribut al final del rang que es convertirà en un comentari.</para
></listitem>
</itemizedlist>
<para
>El valor retornat indica si atribut_inici i atribut_final pertanyen al mateix sistema de ressaltat de sintaxi. Si ho són, és correcte. </para>
<example>
<title
>usar canComment</title>
<programlisting
>if ( document.canComment( document.attribute(1,0), document.attribute(5,0) ) ) {
    // 1,0 i 5,0 pertanyen al mateix sistema de ressaltat de sintaxi
}
</programlisting>
</example>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.clear(); [funció]</function
></term>
<listitem
><para
>Neteja el document.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentStart( <parameter
>uint atribut</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>atribut</parameter
> L'atribut del text per al qual s'obtindrà la cadena commentStart.</para
></listitem>
</itemizedlist>
<para
>Retorna la cadena requerida per a iniciar un comentari multi-línia per a un text amb atribut, o una cadena buida si el comentari multi-línia no està suportat per a aquest text.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentMarker( <parameter
>uint atribut</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>atribut</parameter
> L'atribut del text per al qual s'ha obtingut la cadena commentMarker.</para
></listitem>
</itemizedlist>
<para
>Retorna la cadena usada per a marcar la resta de la línia com a un comentari per a un text amb atribut o una cadena buida si no estan suportats els comentaris d'una sola línia.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentEnd( <parameter
>uint atribut</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>atribut</parameter
> L'atribut del text per al qual s'ha obtingut la cadena commentEnd.</para
></listitem>
</itemizedlist>
<para
>Retorna la cadena requerida al final d'un comentari multi-línia per a un text amb atribut, o una cadena buida si els comentaris multi-línia no estan suportats per a aquest text.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.editBegin(); [funció]</function
></term>
<listitem>
<para
>Inicia un grup d'edició. Totes les accions realitzades fins que es cridi a editEnd() seran agrupades com a una acció per a desfer.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.editEnd(); [funció]</function
></term>
<listitem>
<para
>Finalitza un grup d'edició.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.highlightMode; [propietat:tan sols lectura]</function
></term>
<listitem>
<para
>El nom del mode de ressaltat del document, tal com JavaScript o C++. Si no hi ha mode de ressaltat de sintaxi seleccionat per al document, el valor és none (cap). Tingueu present que necessitareu usar un nom en anglès en els casos en que difereixi del traduït.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.indentMode; [propietat:tan sols lectura]</function
></term>
<listitem>
<para
>El nom del mode de sagnat del document, com per exemple <literal
>normal</literal
> o <literal
>cstyle</literal
>. Recordeu que si no hi ha seleccionat un mode de sagnat, el valor serà <literal
>none</literal
>. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.indentWidth; [propietat:tan sols lectura]</function
></term>
<listitem>
<para
>Estableix l'amplada del sagnat per al document. Això s'usa si el sagnat està habilitat.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.insertLine( <parameter
>uint línia</parameter
>, <parameter
>string text</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>línia</parameter
> número de línia al document.</para>
</listitem>
<listitem
><para
><parameter
>text</parameter
> text a inserir.</para
></listitem>
</itemizedlist>
<para
>Insereix una nova línia amb el text <parameter
>text</parameter
> a la línia <parameter
>línia</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.insertText( <parameter
>uint línia</parameter
>, <parameter
>uint columna</parameter
>, <parameter
>string text</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>línia</parameter
> el número de línia.</para
></listitem>
<listitem
><para
><parameter
>columna</parameter
> la columna.</para
></listitem>
<listitem
><para
><parameter
>text</parameter
> el text que serà inserit.</para
></listitem>
</itemizedlist>
<para
>Insereix el text <parameter
>text</parameter
> en la línia <parameter
>línia</parameter
> i a la columna <parameter
>columna</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.length(); [funció]</term>
<listitem>
<para
>Retorna la mida del document en octets.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.lines(); [funció]</function
></term>
<listitem>
<para
>Retorna el nombre de línies en el document.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.mixedIndent; [propietat:tan sols lectura]</term>
<listitem>
<para
>Una propietat booleana indicant que el sagnat mesclat està habilitat per al document. Si és així, el sagnat està optimitzat per a contenir una mescla de tabulacions i espais similars als usats per l'editor Emacs.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.removeLine( <parameter
>uint línia</parameter
> ); [funció]</term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>línia</parameter
> número de línia.</para
></listitem>
</itemizedlist>
<para
>Elimina la línia del document.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.removeText( <parameter
>uint líniaInicial</parameter
>, <parameter
>uint columnaInicial</parameter
>, <parameter
>uint líniaFinal</parameter
>, <parameter
>uint columnaFinal</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>líniaInicial</parameter
> especifica la línia inicial.</para
></listitem>
<listitem
><para
><parameter
>columnaInicial</parameter
> especifica la columna inicial.</para
></listitem>
<listitem
><para
><parameter
>líniaFinal</parameter
> especifica la línia final.</para
></listitem>
<listitem
><para
><parameter
>columnaFinal</parameter
> especifica la columna final.</para
></listitem>
</itemizedlist>
<para
>Elimina el text des de la línia <parameter
>líniaInicial</parameter
> i la columna <parameter
>columnaFinal</parameter
> fins a la línia <parameter
>líniaFinal</parameter
> i la columna <parameter
>columnaFinal</parameter
>. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.setText( <parameter
>string text</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>text</parameter
> text del document.</para
></listitem>
</itemizedlist>
<para
>Estableix el contingut de tot el document a <parameter
>text</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.spaceIndent; [propietat:tan sols lectura]</function
></term>
<listitem>
<para
>És una propietat booleana que indica si el sagnat amb espais està habilitat per al document. D'aquesta manera els nivells del document es sagnen amb espais, en cas contrari s'usaran les tabulacions.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textFull(); [funció]</function
></term>
<listitem>
<para
>Retorna el text de tot el document. Si el text ocupa diverses línies el caràcter de salt de línia és <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textLine( uint línia ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>línia</parameter
> la línia.</para
></listitem>
</itemizedlist>
<para
>Retorna el text de la línia <parameter
>línia</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textRange( <parameter
>uint líniaInicial</parameter
>, <parameter
>uint columnaInicial</parameter
>, <parameter
>uint líniaFinal</parameter
>, <parameter
>uint columnaFinal</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>líniaInicial</parameter
> especifica la línia inicial.</para
></listitem>
<listitem
><para
><parameter
>columnaInicial</parameter
> especifica la columna inicial.</para
></listitem>
<listitem
><para
><parameter
>líniaFinal</parameter
> especifica la línia final.</para>
</listitem>
<listitem
><para
><parameter
>columnaFinal</parameter
> especifica la columna final.</para
></listitem>
</itemizedlist>
<para
>Retorna el rang de text especificat. Si el rang ocupa diverses línies el caràcter de salto de línia és <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

</variablelist
><!--/ document API -->

<variablelist id="advanced-editing-tools-scripting-view">
<title
>La API <classname
>view</classname
></title>

<varlistentry>
<term
><function
>view.clearSelection(); [funció]</function
></term>
<listitem>
<para
>Deseleccionar tot el text.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorColumn(); [funció]</function
></term>
<listitem>
<para
>Retorna la columna del cursor actual (els caràcters de TAB són expandits).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorColumnReal(); [funció]</function
></term>
<listitem>
<para
>Retorna la columna del cursor real actual (els caràcters de TAB es comptes com a un).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorLine(); [funció]</function
></term>
<listitem>
<para
>Retorna la línia actual del cursor.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.hasSelection(); [funció]</function
></term>
<listitem>
<para
>Retorna <constant
>true</constant
> (verdader) si la vista conté el text seleccionat, en cas contrari retornarà <constant
>false</constant
> (fals).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.removeSelectedText(); [funció]</function
></term>
<listitem>
<para
>Elimina el text seleccionat, si la vista te una selecció.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectAll(); [funció]</function
></term>
<listitem>
<para
>Deselecciona tot el text.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selection(); [funció]</function
></term>
<listitem>
<para
>Retorna el text seleccionat. Si la selecció inclou diverses línies el caràcter de salt de línia és <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionEndColumn; [propietat:tan sols lectura]</function
></term>
<listitem>
<para
>Retorna la columna final de la selecció.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionEndLine; [propietat:tan sols lectura]</function
></term>
<listitem>
<para
>Retorna la línia final de la selecció.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionStartColumn; [propietat:tan sols lectura]</function
></term>
<listitem>
<para
>Retorna la columna inicial de la selecció.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionStartLine; [propietat:tan sols lectura]</function
></term>
<listitem>
<para
>Retorna la línia inicial de la selecció.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setCursorPosition( <parameter
>uint línia</parameter
>, <parameter
>uint columna</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>línia</parameter
> Especifica la línia per al cursor.</para
></listitem>
<listitem
><para
><parameter
>columna</parameter
> Especifica la columna per al cursor.</para
></listitem>
</itemizedlist>
<para
>Estableix la posició d'entrada del cursor en la vista a [<parameter
>línia</parameter
>, <parameter
>columna</parameter
>]. El qual estableix la posició del cursor de manera visual, això serà que el caràcter de TAB es desplaça <replaceable
>amplada_tabulador</replaceable
> depenent de la posició dins de la línia. La posició del cursor s'ha fet visible. Tant la línia com la columna tenen base cero.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setCursorPositionReal( <parameter
>uint línia</parameter
>, <parameter
>uint columna</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>línia</parameter
> Especifica la línia per al cursor.</para
></listitem>
<listitem
><para
><parameter
>columna</parameter
> Especifica la columna per al cursor.</para
></listitem>
</itemizedlist>
<para
>Estableix la posició d'entrada del cursor en la vista a [<parameter
>línia</parameter
>, <parameter
>columna</parameter
>]. El qual estableix la posició del cursor, això serà que un caràcter de TAB compta 1. La posició del cursor s'ha fet visible. Tant la línia com la columna tenen base cero.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setSelection( <parameter
>uint líniaInicial</parameter
>, <parameter
>uint columnaInicial</parameter
>, <parameter
>uint líniaFinal</parameter
>, <parameter
>uint columnaFinal</parameter
> ); [funció]</function
></term>
<listitem>
<itemizedlist>
<title
>Paràmetres</title>
<listitem
><para
><parameter
>líniaInicial</parameter
> especifica la línia inicial.</para
></listitem>
<listitem
><para
><parameter
>columnaInicial</parameter
> especifica la columna inicial.</para
></listitem>
<listitem
><para
><parameter
>líniaFinal</parameter
> especifica la línia final.</para
></listitem>
<listitem
><para
><parameter
>columnaFinal</parameter
> especifica la columna final.</para
></listitem>
</itemizedlist>
<para
>Estableix una selecció des de la línia <parameter
>uint líniaInicial</parameter
> i la columna <parameter
>columnaInicial</parameter
> fins a la línia <parameter
>líniaFinal</parameter
> i la columna <parameter
>columnaFinal</parameter
>.</para>
</listitem>
</varlistentry>

</variablelist>

<example id="advanced-editing-tools-scripting-example">

<title
>Un script de mostra</title>
<para
>Com a exemple crearem un petit script que canvia a majúscules la selecció. El primer que necessitarem és comprovar que la selecció existeix, obtenir el text, canviar les minúscules i substituir-les per les majúscules. Una implementació podria semblar-se a això:</para>

<programlisting
>if ( view.hasSelection() )
{
  // selecció de majúscules
  column = view.selectionStartColumn;
  line = view.selectionStartLine;

  selection = view.selection().toUpperCase();

  document.editBegin();
  view.removeSelectedText();
  document.insertText( line, column, selection );
  document.editEnd();
}
</programlisting>

<para
>Per agrupar aquesta acció i que es reverteixi amb una simple activació de <guimenuitem
>Desfés</guimenuitem
> haureu de encapsular les línies <programlisting
>view.removeSelectedText()</programlisting
> i <programlisting
>document.insertText()</programlisting
> amb un <programlisting
>document.editBegin()</programlisting
> i un <programlisting
>document.editEnd()</programlisting
>.</para>

</example>

<example id="advanced-editing-tools-desktop-example">
<title
>Un fitxer <filename
>.desktop</filename
> de mostra</title>

<para
>Aquest és un fitxer de mostra que acompanya a l'script anterior.</para>

<programlisting
># Exemple d'un fitxer .desktop
[Desktop Entry]
Encoding=UTF-8
Name=Kate Part JavaScript Uppercase
Comment=Script to uppercase the selection
X-Kate-Command=uppercase-selection
X-Kate-Help=&lt;p&gt;Usage: &lt;code&gt;uppercase-selection&lt;/code&gt;&lt;/p&gt;
</programlisting>

<para
>Tal i com es veu podeu definir la codificació, establir un nom, un comentari, un text d'ajuda usant X-Kate-Help i la línia de comandaments a través de X-Kate-Command. Les entrades nom, comentari i X-Kate-Help es tradueixen automàticament a d'altres idiomes per part dels equips de traducció de KDE, si els fitxers es troben en el repositori SVN del KDE.</para>

</example>

<sect3>
<title
>Col·locar-los junts</title>

<para
>&kate; cercarà les carpetes d'scripts (consulteu <link linkend="advanced-editing-tools-scripting-introduction"
>anteriors</link
>) per als fitxers <filename
>*.js</filename
>. Per a cada fitxer comprova si hi ha el corresponent fitxer <filename
>.desktop</filename
>, així per exemple per a uppercase.js haurà de cercar uppercase.desktop. </para>
<para
>Si un fitxer <filename
>.desktop</filename
> no pot trobar l'script haurà de ser registrat en la línia de comandaments de la katepart amb el nom de fitxer sense l'extensió .js, de manera que en el nostre exemple hauria de ser <literal
>uppercase</literal
>. Si el nom del comandament està afinat i no necessita les característiques extra que proveeix el fitxer <filename
>.desktop</filename
>, no necessitareu cap fitxer <filename
>.desktop</filename
>. </para>
<para
>Si hi ha un fitxer <filename
>.desktop</filename
> la katepart llegirà el nom sota el qual l'script serà registrat des de l'entrada X-Kate-Command del fitxer .desktop, per exemple seria X-Kate-Command=uppercase-selection.</para>

</sect3>

</sect2>

</sect1>

</chapter>
