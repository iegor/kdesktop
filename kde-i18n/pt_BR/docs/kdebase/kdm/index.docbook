<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN"
"dtd/kdex.dtd" [
  <!ENTITY kappname "&kdm;">
  <!ENTITY package "kdebase">
  <!ENTITY kdmrc "<filename
>kdmrc</filename
>">
  <!ENTITY ksmserver "<application
>ksmserver</application
>">
  <!ENTITY kdesktop "<application
>kdesktop</application
>">
  <!ENTITY XDMCP "<acronym
>XDMCP</acronym
>">
  <!ENTITY xdm "<application
>xdm</application
>">
  <!ENTITY kdmrc-ref SYSTEM "kdmrc-ref.docbook">
  <!ENTITY % addindex "INCLUDE">
  <!ENTITY % Brazilian-Portuguese "INCLUDE"
> <!-- change language only here -->
]>

<book lang="&language;">
<bookinfo>
<title
>O Manual do &kdm;</title>

<authorgroup>
<author
>&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail; </author
><!-- 
<othercredit role="developer">
&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;
<contrib
>Developer</contrib>
</othercredit>
<othercredit role="reviewer">
&Lauri.Watts; &Lauri.Watts.mail;
<contrib
>Reviewer</contrib>
</othercredit
> -->

<othercredit role="translator"
><firstname
>Marcus</firstname
><surname
>Gama</surname
><affiliation
><address
><email
>marcus.gama@gmail.com</email
></address
></affiliation
><contrib
>Tradução</contrib
></othercredit
> 

</authorgroup>

<copyright>
<year
>2000</year>
<holder
>&Neal.Crook;</holder>
</copyright>

<copyright>
<year
>2002</year>
<holder
>&Oswald.Buddenhagen;</holder>
</copyright>

<copyright>
<year
>2003</year>
<holder
>&Lauri.Watts;</holder>
</copyright>

<date
>2003-03-01</date>
<releaseinfo
>0.05.02</releaseinfo>

<abstract>
<para
>Esta documentação descreve o &kdm;, o Gerenciador de Tela do &kde;. O &kdm; é também conhecido como <quote
>Gerenciador de Login</quote
>.</para>
</abstract>

<keywordset>
<keyword
>KDE</keyword>
<keyword
>kdm</keyword>
<keyword
>xdm</keyword>
<keyword
>gerenciador de tela</keyword>
<keyword
>gerenciador de login</keyword>
</keywordset>
</bookinfo>

<!-- ********************************************************************** -->  
<chapter id="introduction">
<title
>Introdução</title>

<para
>O &kdm; fornece uma interface gráfica que permite-lhe logar num sistema. Ele pede um login (nome do usuário) e senha, autentica o usuário e inicia uma <quote
>sessão</quote
>. O &kdm; é superior ao &xdm;, o Gerenciador de Tela do X, em diversos aspectos.</para>

</chapter>

<!-- Chapters to write -->
<!-- * Just enough config to get it to run and login to KDE 
     * Adding more session types (GNOME, etc)
     * Adding other customizations to XSession (ssh/gpg-agent, etc)
     * Further customization to KDM (via the kcontrol module, and by 
       hand)
     * XDMCP by query
     * XDMCP by broadcast
     * Sound transparency (if Ade can tell me how!)
     * Document all Keys in the Config File
     * Pull in all options from the KControl Module
     * More resources
-->

<chapter id="quickstart">
<title
>Guia de Inicialização Rápida</title>

<para
>Este é um guia de inicialização rápida para os usuários que se encaixam nas seguintes condições:</para>

<itemizedlist>
<listitem>
<para
>O X está configurado e funcionando com o comando <command
>startx</command
> a partir da linha de comando.</para>
</listitem>
<listitem>
<para
>Cada usuário geralmente usará um único gerenciador de janelas ou ambiente desktop, e não mudará sua escolha muito freqüentemente, ou é mais fácil editar um arquivo de texto simples ao invés de mudar sua escolha.</para>
</listitem>
</itemizedlist>

<para
>Este cenário será suficiente para muitos ambientes onde um usuário único ou diversos usuários normalmente iniciam o computador e logam-se no seu ambiente preferido.</para>

<procedure>
<title
>Configurando uma Sessão Padrão</title>
<step>
<para
>Criar ou abrir o arquivo <filename
>~/.xinitrc</filename
></para>
<para
>Se você já possui um <filename
>~/.xinitrc</filename
> funcional, vá para o próximo passo</para>
</step>
<step>
<para
>Se ele ainda não existe, adicione uma linha ao <filename
>~/.xinitrc</filename
> para iniciar seu gerenciador de janelas ou ambiente desktop preferido.</para>
<para
>Para o &kde; você deve inserir:</para>
<screen
><userinput
>startkde</userinput
></screen>
<para
>Para outros gerenciadores de janelas ou ambientes desktop, você deve procurar em suas documentações pelo comando correto.</para>
</step>
<step
><para
>Cria uma ligação como a seguinte:</para>
<screen
><userinput
><command
>ln</command
> <option
>-s</option
> <parameter
>~/.xinitrc ~/.xsession</parameter
></userinput
></screen>
</step>
</procedure>

<para
>Neste ponto, digitar <userinput
><command
>startx</command
></userinput
> na linha de comando deve iniciar o X com uma sessão &kde;. A próxima tarefa é testar o &kdm;.</para>

<para
>Como <systemitem class="username"
>root</systemitem
>, digite <userinput
><command
>kdm</command
></userinput
> na linha de comando</para>

<para
>Você deve ver uma janela de login, que é descrita mais completamente em <xref linkend="login"/>.</para>

<para
>Digitando seu nome de usuário normal e senha nos campos fornecidos, e deixando <option
>padrão</option
> selecionado como tipo de sessão deve agora abrir uma sessão &kde; para seu usuário.</para>

<para
>Se você tiver outros usuários para configurar, você deve repetir o procedimento acima para cada um deles.</para>

<note>
<para
>Este é um guia rápido para poder em poucos passos ter o gerenciador funcional. Você provavelmente desejará personalizar o &kdm; posteriormente, por exemplo, para ocultar os nomes das contas de sistema, para permitir sessões adicionais, e muito mais. Por favor, leia o resto deste manual para descobrir como fazer estas coisas.</para>
</note>

</chapter>

<chapter id="login"
> 
<title
>A Janela de Login</title
> 

<para
>A interface com o usuário do &kdm; consiste de duas caixas de diálogo. A caixa de diálogo principal possui estes controles:</para>

<itemizedlist
> 
<listitem>
<para
>Um campo <guilabel
>Nome do usuário:</guilabel
> para você inserir seu nome de usuário.</para>
</listitem>

<listitem>
<para
>Um campo de <guilabel
>Senha:</guilabel
> para você inserir sua senha.</para>
</listitem>

<listitem>
<para
>(Opcionalmente) uma imagem gráfica para cada usuário (por exemplo, uma fotografia digitalizada). Clicar na imagem é equivalente a digitar o nome de usuário associado à ela no campo <guilabel
>Nome do usuário:</guilabel
>. (Este recurso é uma imitação da caixa de login do &IRIX;).</para
> 
</listitem>

<listitem>
<para
>Uma caixa combinada <guilabel
>Menu</guilabel
> que permite ao &kdm; ser usado para iniciar sessões com vários gerenciadores de janelas ou ambientes de desktop instalados no sistema.</para>
</listitem>

<listitem>
<para
>(Opcionalmente) uma região à direita dos campos <guilabel
>Nome do usuário:</guilabel
>, <guilabel
>Senha:</guilabel
> e <guilabel
>Tipo de Sessão:</guilabel
> que pode ser usada para exibir tanto uma imagem estática como um relógio analógico.</para>
</listitem>

<listitem>
<para
>Um botão <guibutton
>Entrar</guibutton
> que valida a combinação nome de usuário/senha e tenta iniciar uma sessão do tipo selecionado.</para>
</listitem>

<listitem>
<para
>Um botão <guibutton
>Limpar</guibutton
> que limpa o texto dos campos <guilabel
>Login</guilabel
> e <guilabel
>Senha</guilabel
>.</para>
</listitem
> 

<listitem>
<para
>Um botão <guibutton
>Menu</guibutton
> que abre um menu de ações com os seguintes ítens:</para>
 
<itemizedlist>
<listitem>
<para
>(Em telas locais) Um ítem <guimenuitem
>Reiniciar Servidor X</guimenuitem
> que termina o &X-Server; atualmente em execução, inicia um novo e exibe o diálogo de login novamente. Você pode usar isto se o conteúdo da tela parece estar com algum problema.</para>
</listitem>

<listitem>
<para
>(Em telas remotas) Um ítem <guimenuitem
>Fechar Conexão</guimenuitem
> que fecha a conexão com o servidor &XDMCP; ao qual está atualmente conectado. Se você obteve este servidor através de um buscador de máquina, isto trará de volta este buscador, caso contrário isto somente reiniciará o &X-Server; e trará de volta o diálogo de login novamente.</para>
</listitem>

<listitem>
<para
>(Opcionalmente nas telas locais) Um item <guimenuitem
>Modo de Console</guimenuitem
> que termina o &X-Server; atualmente em execução e deixa-o de volta no login do console de texto. O &kdm; irá voltar para o login gráfico se ninguém se logar na console durante algum tempo.</para>
</listitem>
</itemizedlist>
</listitem>

<listitem>
<para
>(Opcionalmente) Um botão <guibutton
>Desligar</guibutton
> que exibe a caixa de diálogo <guilabel
>Desligar</guilabel
>.</para>
</listitem>
</itemizedlist>

<para
>A caixa de diálogo <guilabel
>Desligar</guilabel
> exibe um conjunto de botões de opção que permitem que uma destas opções seja selecionada:</para>

<variablelist>
<varlistentry>
<term
>Desligar</term
> 
<listitem>
<para
>Desliga o sistema de uma maneira controlada, deixando-o pronto para desligar a força.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Reiniciar</term>
<listitem>
<para
>Desliga o sistema e reinicia. Para sistemas que usam o <application
>Lilo</application
>, uma caixa combinada opcional permite-lhe selecionar um sistema operacional em particular a ser usado para o reinício.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Reiniciar Servidor X</term
> 
<listitem>
<para
>Para e então reinicia o servidor X. Normalmente, você deve precisar usar esta opção se você mudou sua configuração do X11 de alguma maneira.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Modo Console</term>
<listitem>
<para
>Para o &X-Server; e retorna ao sistema no modo console. Este é obtido mudando o nível de execução para 3. Tipicamente, o gerenciador de sistema deve precisar usar esta opção antes de atualizar ou reconfigurar o software X11.</para
> 
</listitem>
</varlistentry>
</variablelist>

<para
>Pressionar o botão <guibutton
>OK</guibutton
> inicia a ação selecionada; pressionar o botão <guibutton
>Cancelar</guibutton
> retorna à caixa de diálogo principal do &kdm;. </para>

</chapter>

<!-- *********************************************************************** -->
<chapter id="configuring-kdm">
<title
>Configurando o &kdm;</title>

<para
>Este capítulo considera que o &kdm; já esteja instalado e funcionando em seu sistema, e que você simplesmente deseja mudar seu comportamento de algum modo.</para>

<para
>Quando o &kdm; se inicia, ele lê seu arquivo de configuração a partir da pasta <filename class="directory"
>$KDEDIR/share/config/kdm/</filename
> (ele pode estar em <filename class="directory"
>/etc/kde3/kdm/</filename
> ou em algum outro lugar no seu sistema).</para>

<para
>O arquivo de configuração principal é o &kdmrc;; todos os outros arquivos são referenciados a partir dele e podem ser armazenados com qualquer nome e em qualquer lugar no sistema - mas normalmente colocá-los em outro lugar não faz muito sentido por razões óbvias (uma exceção particular é a referência aos arquivos de configuração de um &xdm; já instalado; - de fato quando um novo &kdm; é instalado, ele atualmente fará uso dessa possibilidade se ele encontrar um &xdm; já instalado).</para>

<para
>Uma vez que o &kdm; deve ser executado antes de qualquer usuário estar logado, ele não é associado à nenhum usuário em particular. Por isso, não é possível ter arquivos de configuração específicos por usuário; todos os usuários compartilham o mesmo &kdmrc;. Em virtude disto a configuração do &kdm; só pode ser alterada por usuários que tenha acesso de escrita ao <filename
>$<envar
>KDEDIR</envar
>/share/config/kdm/kdmrc</filename
> (normalmente somente o administrador do sistema logado como <systemitem class="username"
>root</systemitem
>).</para>

<para
>Você pode ver o arquivo &kdmrc; atualmente em uso no seu sistema, e você pode configurar o &kdm; editando este arquivo. Alternativamente, você pode usar a ferramenta de configuração gráfica fornecida pelo &kcontrolcenter; (sob o menu  <menuchoice
><guisubmenu
>Administração do Sistema</guisubmenu
> <guimenuitem
>Gerenciador de Login</guimenuitem
></menuchoice
>), que é descrita nos <ulink url="help:/kcontrol/login-manager.html"
>os arquivos de ajuda do &kcontrolcenter;</ulink
>. </para>

<para
>O restante deste capítulo descreve a configuração do &kdm; através do módulo do &kcontrolcenter;, e o <link linkend="kdm-files"
>próximo capítulo</link
> descreve as opções disponíveis no &kdmrc; propriamente dito. Se você somente precisa configurar para usuários locais, o módulo do &kcontrolcenter; deve atender todas as suas necessidades. Se você precisa configurar logins remotos, ou possui múltiplas sessões do &kdm; em execução, você precisará ler o restante da documentação.</para>

<sect1 id="kdm-kcontrol-module">
<sect1info>
<authorgroup>
<author
>&Thomas.Tanghus; &Thomas.Tanghus.mail;</author>
<author
>&Steffen.Hansen; &Steffen.Hansen.mail;</author>
<author
>&Mike.McBride; &Mike.McBride.mail;</author>
</authorgroup>
</sect1info>

<title
>O Módulo do Gerenciador de Login do &kcontrolcenter;</title>

<para
>Usando este módulo, você pode configurar o gerenciador de login gráfico do &kde;, o &kdm;. Você pode mudar como a tela de login se parece, que tem acesso usando o gerenciador de login e quem pode desligar o computador.</para>

<note
><para
>Todas as configurações serão gravadas no arquivo de configuração &kdmrc;, que em seu estado original possui muitos comentários para auxiliá-lo a configurar o &kdm;. Usar este módulo do &kcontrolcenter; removerá estes comentários do arquivo. Todas as opções disponíveis no &kdmrc; são abordadas em <xref linkend="kdm-files"/>.</para>

<para
>As opções listadas neste capítulo são referenciadas com suas equivalentes no &kdmrc;. Todas as opções disponíveis no módulo do &kcontrol; estão também disponíveis diretamente no &kdmrc;, mas o inverso não é verdadeiro.</para
></note>

<para
>Para organizar todas estas opções, este módulo é dividido em diversas seções <link linkend="kdmconfig-appearance"
><guilabel
>Aparência</guilabel
></link
>, <link linkend="kdmconfig-font"
><guilabel
>Fonte</guilabel
></link
>, <link linkend="kdmconfig-background"
><guilabel
>Fundo</guilabel
></link
>, <link linkend="kdmconfig-users"
><guilabel
>Usuários</guilabel
></link
> e <link linkend="kdmconfig-convenience"
><guilabel
>Conveniência</guilabel
></link
>.</para>

<para
>Você pode alternar entre as sessões usando as abas no topo da janela.</para>

<note
><para
>Se você não está atualmente logado como super-usuário, você precisará clicar o Botão <guibutton
>Modo Administrador...</guibutton
>. Você então deverá informar a senha do super-usuário. Inserir a senha correta permitirá à você modificar as configurações neste módulo.</para
></note>

<sect2 id="kdmconfig-appearance">
<title
>Aparência</title>

<para
>A partir desta página você pode mudar a aparência visual do &kdm;, o gerenciador de login gráfico do &kde;.</para>

<para
>A <guilabel
>Saudação:</guilabel
> é o título da tela de login. Configurar isto é especialmente útil se você tem muitos usuários de servidores que podem logar-se. Você pode usar vários coringas descritos mais à frente com a chave correspondente <link linkend="option-greetstring"
><option
>GreetString</option
></link
> no &kdmrc;. </para>

<para
>Você pode então escolher entre mostrar a hora atual do sistema, um logotipo ou nada em especial na caixa de login. Faça sua escolha nos botões de opção rotulados <guilabel
>Área de logotipo</guilabel
>. Isto corresponde ao <link linkend="option-logoarea"
><option
>LogoArea</option
></link
> no &kdmrc;</para>

<para
>Se você escolher <guilabel
>Exibir logotipo</guilabel
> você pode agora escolher um logotipo:</para>

<itemizedlist>
<listitem>
<para
>Arrastando um arquivo de imagem para o botão de imagem.</para>
</listitem>
<listitem>
<para
>Clicando no botão de imagem e selecionando uma nova imagem a partir do diálogo de seleção de imagem.</para>
</listitem>
</itemizedlist>

<para
>Se você não especificar um logotipo o padrão <filename
>$<envar
>KDEDIR</envar
>/share/apps/kdm/pics/kdelogo.xpm</filename
> será exibido.</para>

<para
>Normalmente a caixa de login é centralizada na tela. Use as opções de <guilabel
>Posição</guilabel
> se você deseja que ela apareça em outra posição na tela. Você pode especificar a posição relativa (percentagem do tamanho da tela) para o centro da janela de login, relativos ao canto superior e esquerdo do monitor, nos campos rotulados <guilabel
>X:</guilabel
> e <guilabel
>Y:</guilabel
> respectivamente. Isto corresponde à chave <link linkend="option-greeterpos"
><option
>GreeterPos</option
></link
> no &kdmrc;.</para>

<para
>Enquanto o estilo do &kde; depende das configurações do usuário logado, o estilo usado pelo &kdm; pode ser configurado usando as opções <guilabel
>Estilo da Interface:</guilabel
> e <guilabel
>Esquema de Cores:</guilabel
>. Isto corresponde às chaves <link linkend="option-guistyle"
><option
>GUIStyle</option
></link
> e <link linkend="option-colorscheme"
><option
>ColorScheme</option
></link
> no &kdmrc; respectivamente.</para>

<para
>Abaixo disto, você tem uma caixa combinada para escolher o idioma para sua caixa de login, correspondendo à configuração <option
>Language</option
> no &kdmrc;.</para>

</sect2>

<sect2 id="kdmconfig-font">
<title
>Fonte</title>

<para
>A partir desta seção do módulo você pode escolher as fontes usadas na janela de login. Somente fontes disponíveis para todos os usuários aparecerão aqui, desconsiderando as fontes que você tenha instalado para uso por um usuário específico.</para>

<para
>Você pode selecionar três estilos de fonte diferentes a partir da caixa combinada (<guilabel
>Geral:</guilabel
>, <guilabel
>Falhas:</guilabel
>, <guilabel
>Saudação:</guilabel
>). Quando você clica no botão <guibutton
>Escolher...</guibutton
> um diálogo aparece a partir do qual você pode selecionar as novas características para o estilo da fonte.</para>

<itemizedlist>
<listitem>
<para
>A fonte <guilabel
>Geral:</guilabel
> é usada em todos os outros lugares na janela de login.</para>
</listitem>
<listitem>
<para
>A fonte de <guilabel
>Falhas:</guilabel
> é usada quando um login falha.</para>
</listitem>
<listitem>
<para
>A fonte de <guilabel
>Saudação:</guilabel
> é a fonte usada para o título (String de Saudação).</para>
</listitem>
</itemizedlist>

<para
>Você poderá também ativar a opção <guilabel
>Usar anti-aliasing para fontes</guilabel
> se você quiser fontes suavizadas na janela de login.</para>

</sect2>

<sect2 id="kdmconfig-background">
<title
>Fundo</title>

<para
>Aqui você pode mudar o fundo do área de trabalho que será exibido antes de um usuário logar-se. Você pode ter uma cor simples ou uma imagem como fundo. Se você tiver uma imagem como fundo e selecionar centralizar, a cor de fundo selecionada será usada ao redor da imagem se ela não for grande o bastante para cobrir toda a área de trabalho.</para>

<para
>As cores de fundo e efeitos são controlados por opções na aba rotulada <guilabel
>Fundo</guilabel
> e você seleciona uma imagem de fundo e suas opções de posicionamento na aba rotulada <guilabel
>Papel de parede</guilabel
>.</para>

<para
>Para mudar a cor de fundo padrão, simplesmente clique nos botões de cores e selecione uma nova cor.</para>

<para
>A caixa combinada acima dos botões de cores oferece-lhe diversos efeitos de gradiente. Escolha um da lista, e ele será exibido no pequeno monitor no topo da janela. Suas opções são:</para>

<variablelist>
<varlistentry>
<term
>Uniforme</term>
<listitem
><para
>Escolhendo este modo, você seleciona uma cor (usando o botão de cor rotulado <guibutton
>Cor 1</guibutton
>), e todo o fundo será preenchido com esta única cor.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Padrão</term>
<listitem
><para
>Escolhendo este modo, você seleciona duas cores (usando ambos os botões de cores). </para
> <para
>Você então seleciona um padrão clicando em <guilabel
>Configurar</guilabel
>. Isto abrirá uma nova janela de diálogo, que lhe dará a oportunidade de selecionar um padrão. Simplesmente clique num padrão de sua preferência, e então clique em <guilabel
>OK</guilabel
>, e o &kde; renderizará o padrão que você selecionou usando as duas cores selecionadas. Para mais informações sobre padrões, veja a seção <ulink url="help:/kcontrol/background/index.html#bkgnd-patterns"
>Fundo: Adicionando, Removendo e Modificando Padrões</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Programa de Fundo</term>
<listitem
><para
>Selecionando esta opção, você pode fazer com que o &kde; use um programa externo para determinar o fundo. Isto pode ser qualquer programa de sua escolha. Para mais informações sobre esta opção, veja a seção intitulada <ulink url="help:/kcontrol/background/index.html#bkgnd-programs"
>Fundo: Usando um programa externo</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Gradiente Horizontal</term>
<listitem
><para
>Escolhendo este modo, você seleciona duas cores (usando ambos os botões de cores). O &kde; então iniciará com a cor selecionada em <guilabel
>Cor 1</guilabel
> no lado esquerdo da tela, e lentamente a transformará na cor selecionada em <guilabel
>Cor 2</guilabel
> de modo que ela apareça no lado direito da tela.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Gradiente Vertical</term>
<listitem
><para
>Escolhendo este modo, você seleciona duas cores (usando ambos os botões de cores). O &kde; então iniciará com a cor selecionada em <guilabel
>Cor 1</guilabel
> no lado superior da tela, e lentamente a transformará na cor selecionada em <guilabel
>Cor 2</guilabel
> de modo que ela apareça no lado inferior da tela.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Gradiente em Pirâmide</term>
<listitem
><para
>Escolhendo este modo, você seleciona duas cores (usando ambos os botões de cores). O &kde; então iniciará com a cor selecionada em <guilabel
>Cor 1</guilabel
> em cada canto da tela, e lentamente a transformará na cor selecionada em <guilabel
>Cor 2</guilabel
> conforme se move para o centro da tela.</para
></listitem
> 
</varlistentry>
<varlistentry>
<term
>Gradiente em Forma de Cruz</term>
<listitem
><para
>Escolhendo este modo, você seleciona duas cores (usando ambos os botões de cores). O &kde; então iniciará com a cor selecionada em <guilabel
>Cor 1</guilabel
> em cada canto da tela, e lentamente a transformará na cor selecionada em <guilabel
>Cor 2</guilabel
> conforme se move para o centro da tela. A <quote
>forma</quote
> deste gradiente é diferente da do gradiente em pirâmide.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Gradiente Elíptico</term>
<listitem
><para
>Escolhendo este modo, você seleciona duas cores (usando ambos os botões de cores). O &kde; então iniciará com a cor selecionada em <guilabel
>Cor 2</guilabel
> no centro da tela, e lentamente a transformará na cor selecionada em <guilabel
>Cor 1</guilabel
> conforme se move para os lados, num padrão elíptico.</para
></listitem
> 
</varlistentry>
</variablelist>

<para
>O botão de configuração somente é necessário se você selecionar <guilabel
>Programa de fundo</guilabel
> ou <guilabel
>Padrão</guilabel
>. Nestes casos, outra janela aparecerá para configurar as opções específicas.</para>
<para
><emphasis
>Papel de Parede</emphasis
></para>
<para
>Inicialmente, para selecionar uma nova imagem de fundo clique na aba <guilabel
>Papel de parede</guilabel
>, então você pode selecionar uma imagem da caixa combinada rotulada <guilabel
>Papel de parede</guilabel
> ou selecionar <guibutton
>Navegar...</guibutton
> e selecionar um arquivo de imagem a partir de um selecionador de arquivo.</para>

<para
>A imagem pode ser exibida em seis diferentes maneiras:</para>
<variablelist>
<varlistentry>
<term
>Sem papel de parede</term
> 
<listitem
><para
>Nenhuma imagem é exibida. Apenas as cores de fundo.</para>
</listitem
></varlistentry>
<varlistentry>
<term
>Centrado</term
> 
<listitem
><para
>A imagem será centralizada na tela. As cores de fundo estarão presentes em qualquer parte não coberta pela imagem.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Ladrilhado</term>
<listitem
><para
>A imagem será duplicada até preencher todo o ambiente de trabalho. A primeira imagem será colocada no canto superior esquerdo da tela, e duplicada para baixo e para a direita.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Ladrilhado Centrado</term>
<listitem
><para
>A imagem será duplicada até preencher todo o ambiente de trabalho. A primeira imagem será colocada no centro da tela, eduplicada para cima, para baixo, para a direita e para a esquerda.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Maxpect Centrado</term>
<listitem
><para
>A imagem será colocada no centro da tela. Ela será então escalonada para preencher todo o ambiente de trabalho, mas não será mudada a proporção da imagem original. Isto fornecerá uma imagem que não estará distorcida. </para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Escalonado</term>
<listitem
><para
>A imagem será escalonada para preencher o ambiente de trabalho. Ele será ajustada para preencher todos os quatro cantos.</para
> </listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="kdmconfig-shutdown">
<title
><guilabel
>Desligar</guilabel
></title>

<para
><guilabel
>Permitir Desligamento</guilabel
></para>
<para
>Use estas listas para escolher quem tem permissão para desligar a máquina:</para>
<itemizedlist>
<listitem>
<para
><guilabel
>Ninguém</guilabel
>: Ninguém pode desligar o computador usando o &kdm;. Você deverá logar-se, e executar um comando.</para>
</listitem>
<listitem>
<para
><guilabel
>Todos</guilabel
>: Todos poderão desligar o computador usando o &kdm;.</para>
</listitem>
<listitem
><para
><guilabel
>Somente Root</guilabel
>: o &kdm; necessitará que a senha do <systemitem
>root</systemitem
> seja inserida antes de desligar o computador.</para
></listitem
> 
</itemizedlist>

<para
>Você pode configurar de maneira independente quem terá permissão para desligar a máquina para usuário <guilabel
>Local:</guilabel
> e <guilabel
>Remoto:</guilabel
>.</para>

<para
><emphasis
>Comandos</emphasis
></para
> <para
>Use estas campos de texto para definir o comando exato de desligamento.</para
> <para
>O comando padrão para <guilabel
>Parar:</guilabel
> é <command
>/sbin/halt</command
>. O comando padrão para <guilabel
>Reiniciar:</guilabel
> é <command
>/sbin/reboot</command
>.</para>

<para
>Quando o <guilabel
>Mostrar opções de boot</guilabel
> está ativo, o &kdm; irá exibir as opções de boot para o gerenciador de boot LILO. Para este recurso funcionar, você precisa inserir as localizações corretas do seu comando <command
>lilo</command
> e do arquivo 'map' do LILO. Lembre-se que esta opção não está disponível em todos os sistemas operacionais.</para>

</sect2>

<sect2 id="kdmconfig-users">
<title
>Usuários</title>

<para
>A partir daqui você pode mudar o modo como os usuários são representados na janela de login.</para>

<para
>Você pode desabilitar totalmente a lista de usuários do &kdm; na seção <guilabel
>Mostrar Usuários</guilabel
>. Você pode escolher entre:</para>

<variablelist>
<varlistentry>
<term
><guilabel
>Mostrar Lista</guilabel
></term>
<listitem>
<para
>Só são mostrados os usuários que você ativou especificamente na lista ao lado</para>
<para
>Se não assinalar esta opção, não será mostrada qualquer lista. Esta é a forma mais segura, uma vez que um atacante teria aí que adivinhar um usuário válido além da sua senha. É também a forma ideal se você tiver muitos usuários para listar, uma vez que a lista propriamente dita não caberia toda na tela.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Seleção inversa</guilabel
></term>
<listitem>
<para
>Permite-lhe selecionar uma lista dos usuários que <emphasis
>não</emphasis
> deverão ser mostrados; todos os outros usuários serão então apresentados.</para>
</listitem>
</varlistentry>
</variablelist>

<para
>Independentemente dos usuários que você especificar pelo nome, você pode usar os <guilabel
>UIDs de Sistema</guilabel
> para especificar um intervalo de <acronym
>UID</acronym
>s válidos que serão mostrados na lista. Por padrão usuários com id abaixo de 1000, que freqüentemente são usuários de sistema ou de serviço, e usuários com id acima de 65000, não são mostrados.</para>

<para
>Você também pode ativar a opção <guilabel
>Ordenar usuários</guilabel
>, para que a lista apareça ordenada alfabeticamente. Se estiver desligada, os usuários irão aparecer pela ordem em que estão descritos no arquivo de senhas. O &kdm; irá também completar automaticamente os nomes dos usuários se você ativar a opção de <guilabel
>Complementação Automática</guilabel
>.</para>

<para
>Se você escolher mostrar usuários, então a janela de login mostrará imagens (que você selecionou), de uma lista de usuários. Quando alguém estiver pronto para logar-se, ele pode selecionar seu nome de usuário/imagem, inserir sua senha, e ter então acesso ao sistema.</para>

<para
>Se você permitir uma imagem do usuário, eles poderão configurar a fonte para estas imagens.</para>

<para
>Você pode configurar a figura do administrador aqui, para cada usuário no sistema. Dependendo da ordem selecionada acima, usuários podem ser capazes de sobrepor-se a sua seleção.</para>

<para
>Se você escolher não mostrar usuários, então a janela de login será mais tradicional. Usuários precisarão digitar seus nomes de usuário e senhas para obter acesso. Este é o modo recomendado se você possui muitos usuários neste terminal.</para>

</sect2>

<sect2 id="kdmconfig-convenience">
<title
>Conveniência</title>

<para
>Na aba <guilabel
>conveniência</guilabel
> você pode configurar algumas opções para tornar a vida mais fácil para pessoas preguiçosas, como login automático ou login sem senha.</para>

<important
><para
>Por favor pense mais de duas vezes antes de usar estas opções. Cada opção na aba <guilabel
>Conveniência</guilabel
> serve muito bem para comprometer seriamente a segurança de seu sistema. Praticamente, estas opção somente devem ser usadas em ambientes não críticos, &eg; um computador pessoal em sua casa. </para
></important>

<sect3 id="loginmanager-convenience-autologin">
<title
>Login Automático</title>

<para
>A login automático irá dar acesso a qualquer um para uma determinada conta do seu sistema, sem efetuar nenhuma autenticação. Você poderá ativar esta opção em <guilabel
>Habilitar login automático</guilabel
>.</para>

<para
>Você pode escolher a conta a ser usada para login automático na lista rotulada <guilabel
>Usuário:</guilabel
>.</para>

</sect3>

<sect3 id="loginmanager-convenience-nopasswd">
<title
><guilabel
>Login sem Senha</guilabel
></title>

<para
>Se usar esta funcionalidade, você poderá permitir a certos usuários logarem-se sem precisar inserir as suas senhas. Ative esta opção em <guilabel
>Habilitar logins sem senha</guilabel
>.</para>

<para
>Abaixo desta opção você verá uma lista de usuários do sistema. Habilite o login sem senha para usuários específicos selecionando as caixas de verificação ao lado de seus nomes de login. Por padrão, este recurso está desabilitado para todos os usuários.</para>

<important
><para
>Novamente, esta opção deve ser usada somente num ambiente seguro. Se você habilitá-la num sistema muito público você deve tomar cuidado para que somente usuários com pesadas restrições de acesso possam logar-se sem senha, &eg; <systemitem
>guest</systemitem
>.</para
></important>

<para
>Você pode também escolher que usuário é <quote
>pré-selecionado</quote
> quando o &kdm; inicia. O padrão é <guilabel
>Nenhum</guilabel
>, mas você pode escolher <guilabel
>Anterior</guilabel
> para fazer que o padrão do &kdm; seja o último usuário que se logou com sucesso, ou você pode <guilabel
>Especificar</guilabel
> um usuário em particular que sempre será selecionado na lista. Você pode também fazer com que o &kdm; coloque o foco no campo senha, de modo que quando você obter a tela de login do &kdm;, você possa inserir a senha imediatamente.</para>

<para
>A opção <guilabel
>Fazer re-login automático após falha do X</guilabel
> permite-lhe pular o processo de autenticação quando seu servidor X acidentalmente travar.</para>

</sect3>

</sect2>

</sect1>

</chapter>

&kdmrc-ref;

<!-- ************************************************************ -->   
<chapter id="configuring-your-system-for-kdm">
<title
>Configurando seu sistema para usar o &kdm;</title>

<para
>Este capítulo considera que seu sistema já está configurado para rodar o &X-Window;, e que você somente precisa reconfigurá-lo para permitir o login gráfico.</para>

<sect1 id="setting-up-kdm">
<title
>Configurando o &kdm;</title>

<para
>O que fundamentalmente controla se seu computador inicia com um login em terminal (modo console) ou com um login gráfico e o nível de execução padrão. O nível de execução é configurado pelo programa <application
> <ulink url="man:init"
>/sbin/init</ulink
></application
> sob o controle do arquivo de configuração <filename
>/etc/inittab</filename
>. O nível de execução padrão usado pelos diferentes sistemas &UNIX; (e diferentes distribuições &Linux;) varia, mas se você der uma olhada em <filename
>/etc/inittab</filename
> o início dele deve ser algo como isto:</para>

<screen
># Default runlevel. The runlevels used by RHS are:
# 0 - halt (Do NOT set initdefault to this)
# 1 - Single user mode
# 2 - Multiuser, without NFS
# 3 - Full multiuser mode
# 4 - unused
# 5 - X11
# 6 - reboot (Do NOT set initdefault to this)

id:3:initdefault:  
</screen>

<para
>Tudo menos a última linha deste extrato são comentários. Os comentários mostram que o nível de execução 5 é usado para o X11 e que o nível de execução 3 é usado para modo multi-usuário sem o X11 (modo console). A linha final especifica que o nível de execução padrão do sistema é o 3 (modo console). Se seu sistema atualmente usa login gráfico (por exemplo, usando o &xdm;), seu nível de execução padrão deverá corresponder ao especificado para o X11.</para>

<para
>O nível de execução com login gráfico (&xdm;) para algumas das distribuições comuns do &Linux; é:</para>

<itemizedlist>
<listitem
><para
>5 para &RedHat; 3.x e superior, e para o &Mandrake;</para
></listitem>
<listitem
><para
>4 para o Slackware</para
></listitem>
<listitem
><para
>3 para o &SuSE;. 4.x e 5.x</para
></listitem>
</itemizedlist>

<para
>O primeiro passo na configuração do seu sistema é certificar-se de que você pode iniciar o &kdm; a partir da linha de comando. Uma vez que isto esteja funcionando, você pode mudar sua configuração do sistema de modo que o &kdm; inicie automaticamente toda vez que você reiniciar seu sistema.</para>

<para
>Para testar o &kdm; você deve primeiro trazer seu sistema para um nível de execução que não execute o &xdm;. Para fazer isto, execute um comando como este:</para>

<screen
><command
>/sbin/init <option
>3</option
></command
></screen>

<para
>Ao invés do número <option
>3</option
> você deve especificar o nível de execução apropriado para o modo console no seu sistema.</para>

<para
>Se seu sistema usa Módulos Plugáveis de Autenticação (<abbrev
>PAM</abbrev
>). que é normal em sistemas recentes &Linux; e &Solaris;, você deve verificar para que sua configuração do <abbrev
>PAM</abbrev
> permita login através do serviço nomeado <literal
>kde</literal
>. Se você usava anteriormente o &xdm; com sucesso, você não deve precisar fazer nenhuma mudança na configuração do seu <abbrev
>PAM</abbrev
> para permitir o uso do &kdm;. <filename
>/etc/pam.conf</filename
> ou <filename
>/etc/pam.d/kde</filename
>. Informações sobre configuração do <abbrev
>PAM</abbrev
> está fora do escopo deste manual, mas o <abbrev
>PAM</abbrev
> vem com uma documentação bastante elucidativa (dê uma olhada em <filename
>/usr/share/doc/*pam*/html</filename
>).</para>

<para
>Agora é hora de você testar o &kdm; digitando o seguinte comando:</para>

<screen
><command
>kdm <option
>-nodaemon</option
></command
>
</screen>

<para
>Se você obtiver um diálogo de login do &kdm; e você for capaz de logar-se, as coisas estão indo bem. A principal coisa que pode dar errado aqui é que o lincador em tempo de execução pode não encontrar as bibliotecas compartilhadas do &Qt; ou &kde;. Se você tiver uma distribuição binária das bibliotecas do &kde;, certifique-se de que o &kdm; está instalado onde as bibliotecas acreditam que o &kde; está instalado e tente configurar alguma variável de ambiente para apontar para suas bibliotecas &kde; e &Qt;.</para>

<para
>Por exemplo:</para>

<screen
><command
>export 
<option
>KDEDIR=<replaceable
>/opt/kde</replaceable
></option
></command>
<command
>export 
<option
>QTDIR=<replaceable
>/usr/lib/qt2</replaceable
></option
></command>
<command
>export 
<option
>PATH=<replaceable
>$KDEDIR/bin:$QTDIR/bin:$PATH</replaceable
></option
></command>
<command
>export 
<option
>LD_LIBRARY_PATH=<replaceable
>$KDEDIR/lib:$QTDIR/lib</replaceable
></option
></command
>
</screen>

<para
>Se você ainda não está tendo sucesso, tente iniciar o &xdm;, para ter certeza de que você não está sofrendo de um problema de configuração mais sério no X.</para>

<para
>Quando você for capaz de iniciar o &kdm; com sucesso, você pode iniciar a substituição do &xdm; pelo &kdm;. Novamente, isto depende da sua distribuição.</para>

<itemizedlist>
<listitem>
<para
>No caso do &RedHat;, edite o <filename
>/etc/inittab</filename
>, procure esta linha:</para>
<screen
>x:5:respawn:/usr/X11/bin/xdm -nodaemon</screen>
<para
>e substitua por:</para>
<screen
>x:5:respawn:/opt/kde/bin/kdm</screen>
<para
>Isto indica ao <command
>init</command
>(8) para reiniciar o &kdm; quando o sistema estiver no nível de execução ('runlevel') 5. Repare que o &kdm; não precisa da opção <option
>-nodaemon</option
>.</para>
</listitem>
<listitem>
<para
>Para o &Mandrake;, o nível de execução do X11 no <filename
>/etc/inittab</filename
> invoca um script do shell <filename
>/etc/X11/prefdm</filename
>, que é configurado para selecionar a partir de diversos gerenciadores de tela, incluindo o &kdm;. Certifique-se de que todos os caminhos estão corretos para sua instalação.</para
> 
</listitem>
<listitem>
<para
>Para o &SuSE;, edite o <filename
>/sbin/init.d/xdm</filename
> para adicionar uma primeira linha:</para>

<screen
>. /etc/rc.config
DISPLAYMANAGER=kdm
export DISPLAYMANAGER</screen>
</listitem>
<listitem
><para
>No caso do FreeBSD, edite o <filename
>/etc/ttys</filename
> e encontre a seguinte linha:</para>
<screen
>ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</screen>
<para
>e mude-a para o seguinte:</para>
<screen
>ttyv8   "/usr/local/bin/kdm"  xterm   on secure</screen>
</listitem>

<listitem
><para
>A maioria das outras distribuições são variações de uma destas acima.</para
></listitem>
</itemizedlist>

<para
>Neste estágio, você pode testar o &kdm; novamente levando o seu sistema para o nível de execução que deve agora executar o &kdm;. Para fazer isto, digite um comando como este:</para>

<screen
><command
>/sbin/init <option
>5</option
></command
>
</screen>

<para
>Ao invés do número <option
>5</option
> você deve especificar o nível de execução apropriado para executar o X11 em seu sistema.</para>

<para
>O passo final é editar a entrada <parameter
>initdefault</parameter
> no <filename
>/etc/inittab</filename
> para especificar o nível de execução apropriado para o X11.</para>

<warning
><para
>Antes de você fazer esta mudança, certifique-se de que você tem uma maneira de reiniciar seu sistema se algum problema ocorrer. Pode ser um disquete de <quote
>emergência</quote
> fornecido pelo sistema operacional de sua distribuição ou um disquete de <quote
>emergência</quote
> criado especialmente para isto, como o <literal
>tomsrtbt</literal
>. Ignore este aviso por conta e risco.</para
></warning>

<para
>Isto normalmente exige mudar a linha:</para>
<screen
>id:3:initdefault:</screen>
<para
>para</para>
<screen
>id:5:initdefault:</screen>

<para
>Quando você reiniciar seu sistema, você deve terminar num diálogo de login gráfico do &kdm;.</para>

<para
>Se este passo não for bem sucedido, o problema possível será que o ambiente usado durante a inicialização difere do ambiente que usou para testar na linha de comando. Se você está tentando fazer duas versões do KDE coexistam, tenha um cuidado especial com as configurações que fizer das suas variáveis de ambiente <envar
>PATH</envar
> e <envar
>LD_LIBRARY_PATH</envar
>, de modo que sejam consistentes e que os programas de inicialização não as modifiquem de alguma forma.</para>

</sect1>

</chapter>

<chapter id="different-window-managers-with-kdm">
<title
>Suportando gerenciadores de janela múltiplos</title>

<para
>O &kdm; detecta a maioria dos gerenciadores de janelas e ambientes de trabalho quando ele é executado. Ao instalar um novo, ele se tornará disponível automaticamente no diálogo principal do &kdm; em <guilabel
>Tipo de Sessão:</guilabel
>.</para>

<para
>Se você tiver um gerenciador de janelas muito recente, ou algo que o &kdm; não suporte, a primeira coisa que você deve verificar é que o aplicativo a ser executado deve estar no <envar
>PATH</envar
> e não deve ser renomeado durante a instalação para algo não esperado.</para>

<para
>Se este aplicativo for tão novo que ainda não seja suportado pelo &kdm;, você pode simplesmente adicionar uma nova sessão.</para>

<para
>As sessões são definidas em arquivos <firstterm
>.desktop</firstterm
> em <filename class="directory"
>$<envar
>KDEDIR</envar
>/share/apps/kdm/sessions</filename
>. Você pode simplesmente adicionar um nome arquivo <literal role="extension"
>.desktop</literal
> apropriado neste diretório. Os campos são:</para>

<programlisting
>[Desktop Entry]
Encoding=UTF-8 <lineannotation
>Isto é fixo para <option
>UTF-8</option
> e 
pode ser omitido</lineannotation>
Type=XSession <lineannotation
>Isto é fixo para <option
>XSession</option
> e 
pode ser omitido</lineannotation>
Exec=<replaceable
>nome do executável</replaceable
> <lineannotation
>Passado para
<command
>eval exec</command
> no shell Bourne</lineannotation>
TryExec=<replaceable
>nome do executável</replaceable
> <lineannotation
>Suportado
mas não necessário</lineannotation>
Name=<replaceable
>nome mostrado na lista de sessão do &kdm;</replaceable
></programlisting>

<para
>Existem também três sessões <quote
>mágicas</quote
>:</para>

<variablelist>
<varlistentry>
<term
>padrão</term>
<listitem>
<para
>A sessão padrão para o &kdm; é, normalmente, o &kde;, mas ela pode ser configurada pelo administrador de sistemas. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>personalizada</term>
<listitem>
<para
>A sessão 'personalizada' irá executar o arquivo ~/.xsession do usuário, se existir. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>failsafe</term>
<listitem>
<para
>O modo de 'emergência' irá rodar uma sessão muito simples e é apenas útil para fins de depuração. </para>
</listitem>
</varlistentry>
</variablelist>

<para
>Para sobrepor um tipo de sessão, copie o arquivo '.desktop' da pasta de dados para a pasta de configuração e altere-o de acordo com a sua vontade. Para remover os tipos de sessão fornecidos, você poderá <quote
>ocultá-los</quote
> com arquivos '.desktop' que contenham o texto "Hidden=true". Para as sessões 'mágicas' não existem arquivos '.desktop' padrão, mas o &kdm; finge que eles existem, permitindo assim que você os sobreponha como outro tipo qualquer. Eu espero que você já saiba então como adicionar um tipo novo de sessão, agora ;-)</para>

</chapter>

<chapter id="xdmcp-with-kdm">
<title
>Usando o &kdm; para Logins Remotos (&XDMCP;)</title>

<para
>O &XDMCP; é o padrão do Grupo Aberto, o <quote
>Protocolo de Controle do Gerenciador de Terminal X</quote
>. Ele é usado para configurar conexões entre sistemas remotos numa rede.</para>

<para
>O &XDMCP; é útil sem situações de multi-usuário onde existem usuários em estações de trabalho e um servidor mais poderoso que pode fornecer os recursos para executar múltiplas sessões X. Por exemplo, o &XDMCP; é uma boa maneira de reusar computadores antigos - um computador Pentium ou mesmo 486 com 16 Mb de RAM é suficiente para executar o X propriamente dito, e usar o &XDMCP; como um computador que pode rodar uma sessão completa do moderno &kde; a partir de um servidor. No lado do servidor, uma vez que uma sessão simples do &kde; (ou outro ambiente) é iniciada, a execução de outra requer bem menos recursos extras.</para>

<para
>No entanto, permitir outro método de login à sua máquina obviamente gera implicações de segurança. Você deve executar este serviço somente se você precisa permitir que Servidores X remotos iniciem o login de sessões em seu sistema. Usuários com um computador simples &UNIX; não devem precisar executar isto.</para>

</chapter>

<chapter id="advanced-topics">
<title
>Tópicos Avançados</title>

<sect1 id="command-sockets">
<title
>'Sockets' de Comandos</title>

<para
>Esta é uma funcionalidade que você poderá usar para controlar remotamente o &kdm;. É principalmente usada pelo &ksmserver; e pelo &kdesktop;, a partir de uma sessão em execução, mas poderá ser usada por outras aplicações.</para>

<para
>Os 'sockets' são do domínio &UNIX; e estão nas sub-pastas da pasta indicada em <option
>FifoDir</option
>=. A sub-pasta é a chave de endereçamento e segurança; os 'sockets' têm todos o nome de arquivo <filename
>socket</filename
> e as permissões de arquivos <literal
>rw-rw-rw-</literal
> (0666). Isto deve-se ao fato de alguns sistemas não levarem em conta as permissões dos arquivos dos 'sockets'.</para>

<para
>Existem dois tipos de 'sockets': o global (dmctl) e os que são usados por tela (dmctl-&lt;ecrã&gt;).</para>

<para
>A sub-pasta do global pertence ao 'root', enquanto as sub-pastas por tela pertencem ao usuário que está na sessão ('root' ou o usuário autenticado). O grupo que possui as sub-pastas pode ser definido com o FifoGroup=, caso contrário é o 'root'. As permissões dos arquivos das sub-pastas são rwxr-x--- (0750).</para>

<para
>Os campos de um comando são separados por tabulações (<token
>\t</token
>), enquanto os campos de uma lista são separados por espaços. Os espaços verdadeiros nos campos da lista são identificados por <token
>\s</token
>.</para>

<para
>O comando termina numa mudança de linha (<token
>\n</token
>).</para>

<para
>O mesmo se aplica às respostas. A resposta no caso de sucesso é <returnvalue
>ok</returnvalue
>, seguida provavelmente da informação desejada. A resposta, em caso de erro, é uma palavra do tipo 'errno' (&eg; <returnvalue
>perm</returnvalue
>, <returnvalue
>noent</returnvalue
>, &etc;), seguida de uma explicação mais descritiva.</para>

<variablelist>
<title
>Comandos globais:</title>
<varlistentry>
<term
><command
>login</command
> <option
>tela</option
> (<parameter
>now</parameter
> | <parameter
>schedule</parameter
>) <parameter
>usuário</parameter
> <parameter
>senha</parameter
> [argumentos_sessão]</term>
<listitem>
<para
>o usuário autenticado na tela indicada. Se for passado o parâmetro <parameter
>now</parameter
> , a sessão em execução possível é encerrada, caso contrário a autenticação é feita após a saída da sessão. Os argumentos da sessão são formatados como o tipo do 'printf' para o .dmrc. As chaves sem listas irão usar os valores previamente salvos.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Comandos por tela:</title>
<varlistentry>
<term
><command
>lock</command
></term>
<listitem>
<para
>A tela é marcada como bloqueada. Se o &X-Server; travar neste estado, não será feita nenhum login automático, mesmo que a opção esteja ativa.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>unlock</command
></term>
<listitem>
<para
>Inverte o efeito do <command
>lock</command
> e ativa de novo o login automático.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>suicide</command
></term>
<listitem>
<para
>A sessão atualmente em execução é terminada de forma forçada. Não será tentado um login automático, embora seja agendado para execução um comando "login".</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Comandos para todos os 'sockets'</title>
<varlistentry>
<term
><command
>caps</command
></term>
<listitem>
<para
>Devolve uma lista das capacidades deste 'socket':</para>

<variablelist>
<varlistentry>
<term
><returnvalue
>&kdm;</returnvalue
></term>
<listitem>
<para
>identifica o &kdm;, no caso de algum outro gerenciador de autenticação implementar também este protocolo</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>list</returnvalue
>, <returnvalue
>lock</returnvalue
>, <returnvalue
>suicide</returnvalue
>, <returnvalue
>login</returnvalue
></term>
<listitem>
<para
>O comando respectivo é suportado</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>bootoptions</returnvalue
></term>
<listitem>
<para
>O comando <command
>listbootoptions</command
> e o <option
>=</option
> para <command
>shutdown</command
> são suportados</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>shutdown &lt;lista&gt;</returnvalue
></term>
<listitem>
<para
>O <command
>shutdown</command
> é suportado e é permitido para os usuários indicados (por uma lista separada por vírgulas). O <returnvalue
>*</returnvalue
> corresponde a todos os usuários autenticados.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke &lt;lista&gt;</returnvalue
></term>
<listitem>
<para
>O encerramento forçado da sessão poderá ser efetuado para os usuários indicados.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke</returnvalue
></term>
<listitem>
<para
>O encerramento forçado da sessão poderá ser efetuado para todos os usuários</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>reserve &lt;número&gt;</returnvalue
></term>
<listitem>
<para
>As telas de reserva são configuradas e o <returnvalue
>número</returnvalue
> fica disponível neste momento</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>list</command
> [<parameter
>all</parameter
> | <parameter
>alllocal</parameter
>]</term>
<listitem>
<para
>Devolve uma lista com todas as sessões em execução. Por padrão, todas as sessões ativas são listadas. Se for indicado o parâmetro <parameter
>all</parameter
>, as sessões passivas também são indicadas. Se for passado o <parameter
>alllocal</parameter
>, as sessões passivas também são listadas, mas as sessões remotas recebidas serão ignoradas.</para>
<para
>Cada item de sessão é uma lista, separada por vírgulas, de:</para>
<itemizedlist>
<listitem
><para
>Nome da tela ou TTY</para
></listitem>
<listitem
><para
>Nome do Terminal Virtual para as sessões locais</para
></listitem>
<listitem
><para
>O nome do usuário logado, sendo vazio para as sessões passivas e para as sessões remotas externas (modo de seletor local)</para
></listitem>
<listitem
><para
>O tipo de sessão ou <quote
>&lt;remote&gt;</quote
> para as sessões remotas externas, ou ainda vazio para as sessões passivas.</para
></listitem>
<listitem
><para
>Um campo de Opções:</para>
<itemizedlist
><listitem
><para
><literal
>*</literal
> para a tela que pertence ao 'socket' do pedido.</para
></listitem>
<listitem
><para
><literal
>!</literal
> para as sessões que não podem ser terminadas pelo 'socket' do pedido.</para
></listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<para
>Poderão ser adicionados campos novos no futuro.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>reserve</command
> [<parameter
>tempo em segundos</parameter
>]</term>
<listitem>
<para
>Inicia uma tela de login de reserva. Se ninguém se logar dentro do período de tempo indicado (um minuto, por padrão), a tela é removida novamente. Quando a sessão na tela terminar, a tela é também removida.</para>
<para
>Só é permitido nos 'sockets' das telas locais e no 'socket' global.</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>ativate</command
> (<parameter
>vt</parameter
>|<parameter
>tela</parameter
>)</term>
<listitem>
<para
>Muda para um VT (terminal virtual) em particular. O VT pode tanto ser indicado diretamente (&eg; <parameter
>vt3</parameter
>) como pela tela que o usa (eg; <parameter
>:2</parameter
>).</para>
<para
>Só é permitido nos 'sockets' das telas locais e no 'socket' global.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>listbootoptions</command
></term>
<listitem>
<para
>Lista as opções de boot disponíveis.</para>
<!--FIXME: "ok" list default current
    default and current are indices into the list and are -1 if unset or
    undeterminable. -->
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown</command
> (<parameter
>reboot</parameter
> | <parameter
>halt</parameter
>) [<parameter
>=<replaceable
>bootchoice</replaceable
></parameter
>] (<parameter
>ask</parameter
>|<parameter
>trynow</parameter
>|<parameter
>forcenow</parameter
>|<parameter
>schedule</parameter
>|<parameter
>início (<parameter
>-1</parameter
>|<parameter
>fim (<parameter
>force</parameter
>|<parameter
>forcemy</parameter
>|<parameter
>cancel)</parameter
>)</parameter
>)</parameter
>)</term>
<listitem>
<para
>Faz um pedido de encerramento do sistema, seja um reinício (reboot) ou um encerramento total (halt/poweroff).</para>
<para
>Poderá ser indicada uma opção do SO para a próxima inicialização na lista que é devolvida pelo <command
>listbootoptions</command
></para>
<para
>Os encerramentos pedidos nos 'sockets' por tela são executados quando a sessão atual nessa tela terminar. Esse pedido poderá disparar uma janela que peça a confirmação e/ou autenticação</para>
<para
>O <parameter
>início</parameter
> é a hora para a qual o encerramento fica agendado. Se começar por um sinal de mais, a hora atual é adicionada. O zero corresponde à execução imediata.</para>
<para
>O <parameter
>fim</parameter
> é a última hora a que o encerramento deverá ser executado, se existirem sessões ativas em execução. Se começar por um sinal de mais, a hora final é adicionada. O -1 corresponde a uma espera infinita. Se ainda não tiver atingido o fim e existirem sessões ativas, o &kdm; poderá fazer uma das seguintes coisas:</para>
<itemizedlist>
<listitem
><para
><parameter
>cancel</parameter
> - desiste do encerramento</para
></listitem>
<listitem
><para
><parameter
>force</parameter
> - encerra incondicionalmente</para
></listitem>
<listitem
><para
><parameter
>forcemy</parameter
> - desliga imediatamente, se todas as sessões ativas pertencerem ao usuário que fez o pedido. Apenas para os 'sockets' por tela.</para
></listitem>
</itemizedlist>
<para
>O <parameter
>início</parameter
> e o <parameter
>fim</parameter
> são indicados em segundos desde o início da contagem do &UNIX; ('epoch').</para>
<para
>O <parameter
>trynow</parameter
> é um sinónimo para <parameter
>0 0 cancel</parameter
>, o <parameter
>forcenow</parameter
> para <parameter
>0 0 force</parameter
> e o <parameter
>schedule</parameter
> para <parameter
>0 -1</parameter
>.</para>
<para
>O <parameter
>ask</parameter
> tenta um encerramento imediato e interage com o usuário, se existirem sessões ativas. Só para os 'sockets' por tela.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown cancel</command
> [<parameter
>local</parameter
>|<parameter
>global</parameter
>}</term>
<listitem>
<para
>Cancela um encerramento escalonado. O 'socket' global cancela sempre o encerramento pendente, enquanto os 'sockets' por tela cancelam por padrão o seu pedido em fila de espera.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown status</command
></term>
<listitem>
<para
>Devolve uma lista com informações sobre os encerramentos.</para>
<para
>Os itens são uma lista, separada por vírgulas, de:</para>
<itemizedlist>
<listitem>
<para
>(<returnvalue
>global</returnvalue
>|<returnvalue
>local</returnvalue
>) - encerramento pendente vs. em espera. Um item local pode ser devolvido apenas para um 'socket' por tela.</para>
</listitem>
<listitem
><para
>(<returnvalue
>halt</returnvalue
>|<returnvalue
>reboot</returnvalue
>)</para
></listitem>
<listitem
><para
>start</para
></listitem>
<listitem
><para
>end</para
></listitem>
<listitem
><para
>("ask"|"force"|"forcemy"|"cancel")</para
></listitem>
<listitem
><para
>O ID numérico do usuário que fez o pedido, sendo -1 para o 'socket' global.</para
></listitem>
<listitem
><para
>A opção de SO do próximo boot ou "-" para nenhuma.</para
></listitem>
</itemizedlist>
<para
>Novos campos poderão ser adicionados mais tarde</para>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</varlistentry>
</variablelist>
<para
>Existem duas formas de usar os 'sockets':</para>
<itemizedlist>
<listitem>
<para
>Conectar-se diretamente a eles. A FifoDir é exportada como $<envar
>DM_CONTROL</envar
>; o nome dos 'sockets' por tela através do $<envar
>DISPLAY</envar
>.</para>
</listitem>
<listitem>
<para
>Usando o comando <command
>kdmctl</command
> (&eg;, a partir de um 'shell script'). Tente o <command
>kdmctl</command
> <option
>-h</option
> para descobrir mais.</para>
</listitem>
</itemizedlist>

<para
>Aqui está um programa de exemplo que <quote
>reinicia para o FreeBSD</quote
>:</para>

<programlisting
>if kdmctl | grep -q shutdown; then
  IFS=$'\t'
  set -- `kdmctl listbootoptions`
  if [ "$1" = ok ]; then
        fbsd=$(echo "$2" | tr ' ' '\n' | sed -ne 's,\\s, ,g;/freebsd/I{p;q}')
        if [ -n "$fbsd" ]; then
      kdmctl shutdown reboot "=$fbsd" ask &gt; /dev/null
        else
          echo "Boot para FreeBSD indisponível."
        fi
  else
    echo "Opções de boot indisponíveis."
  fi
else
  echo "Não é possível reiniciar o sistema."
fi</programlisting>

</sect1>
<!-- Riddell: so there's no GUI you need to edit kdmrc to say UseTheme=true and Theme=/path/to/theme.xml
[13:31] <Riddell
> jriddell.org/programs has an example theme 

<sect1 id="dm-themes">
<title
>Themes</title>

&kdm; has limited support for desktop manager themes.  You may enable them
by adding <userinput
>UseTheme=true</userinput
> to <filename
>kdmrc</filename>
and <userinput
>Theme=/path/to/theme.xml</userinput
>.  
</sect1>
-->
</chapter>

<chapter id="Other-Information">
<title
>Outras fontes de informação</title>

<para
>Uma vez que o &kdm; é um descendente do &xdm;, a <ulink url="man:xdm"
>página de manual do &xdm;</ulink
> pode fornecer informações básicas úteis. Para problemas relacionados ao X tente as páginas de manual do <ulink url="man:X"
>X</ulink
> e <ulink url="man:startx"
>startx</ulink
>. Se você tiver questões sobre o &kdm; que não tiverem sido respondidas neste manual, aproveite-se do fato do &kdm; ser fornecido sob os termos da Licença Pública <abbrev
>&GNU;</abbrev
> Licença Geral Pública: dê uma olhada no código fonte. </para>

</chapter>


<chapter id="credits"
><title
>Créditos e Licença</title>

<para
>O &kdm; é derivado de, e inclui código de, &xdm; (C) Keith Packard, MIT X Consortium.</para>

<para
>&kdm; 0.1 foi escrito por &Matthias.Ettrich;. Versões posteriores até o &kde; 2.0.x foram escritas por &Steffen.Hansen;. Alguns novos recursos para o &kde; 2.1.x e uma grande reescrita para o &kde; 2.2.x foi feita por &Oswald.Buddenhagen;.</para>

<para
>Outras partes do código do &kdm; possuem direitos de cópia por seus autores, e são licenciadas sob os termos da <ulink url="common/gpl-license.html"
> GP&GNU;L</ulink
>. A qualquer um é permitido mudar o &kdm; e redistribuir o resultado desde que os nomes dos autores sejam mencionados.</para>

<para
>O &kdm; necessita da biblioteca &Qt;, que possui direito autorais para Troll Tech AS.</para>

<para
>Contribuidores da documentação: <itemizedlist>

<listitem
><para
>Documentação escrita por &Steffen.Hansen; <email
>stefh@dit.ou.dk</email
></para
></listitem>

<listitem
><para
>Documentação estendida por Gregor Zumstein<email
>zumstein@ssd.ethz.ch</email
>. Última atualização em 09 de Agosto de 1998</para
></listitem>

<listitem
><para
>Documentação revisada para o &kde; 2 por &Neal.Crook; &Neal.Crook.mail;. Última atualização em 06 de Agosto de 2000</para
></listitem>

<listitem
><para
>Documentação estendida e revisada para o &kde; 2.2 por &Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;. Última atualização em Agosto de 2001</para
></listitem>

</itemizedlist
></para>

<para
>Direito autorais da documentação para &Steffen.Hansen;, Gregor Zumstein, &Neal.Crook; e &Oswald.Buddenhagen;. Este documento também inclui muitas partes da página de manual do &xdm;, que é de &copy; para Keith Packard.</para>
&underFDL; &underGPL; </chapter>

<glossary id="glossary">
<title
>Glossário</title>

<glossentry id="gloss-greeter">
<glossterm
>saudação</glossterm>
<glossdef
><para
>A saudação é o diálogo de login, &ie; a parte do &kdm; que o usuário vê.</para>
</glossdef>
</glossentry>

<glossentry>
<glossterm id="gloss-entropy"
>entropia</glossterm>
<glossdef
><para
>A entropia de um sistema é a medida de sua imprevisibilidade. Isto é usado durante a geração de números aleatórios.</para
></glossdef>
</glossentry>

</glossary>
</book>
<!--
Local Variables:
mode: xml
sgml-omittag: nil
sgml-shorttag: t
End:
-->

