<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.1.2-Based Variant V1.1//EN"
 "dtd/kdex.dtd" [
  <!ENTITY kappname "&kdvi;">
  <!ENTITY package "kdegraphics">
  <!ENTITY % addindex "IGNORE">
  <!ENTITY % Brazilian-Portuguese "INCLUDE"
><!-- change language only here -->
]>

<book lang="&language;">
  <bookinfo>
    <title
>O Manual do &kdvi;</title>
    <authorgroup>
      <author
><firstname
>Stefan</firstname
> <surname
>Kebekus</surname
> <affiliation
> <address
> <email
>kebekus@kde.org</email>
          </address>
	</affiliation>
      </author>
      <othercredit role="translator"
><firstname
>João</firstname
><surname
>Emanuel</surname
><contrib
>Tradução inicial</contrib
></othercredit
><othercredit role="translator"
><firstname
>Marcus</firstname
><surname
>Gama</surname
><affiliation
><address
><email
>marcus_gama@uol.com.br</email
></address
></affiliation
><contrib
>Revisão e tradução atual</contrib
></othercredit
> 
    </authorgroup>
    
    <copyright>
      <year
>2001-2004</year>
      <holder
>Stefan Kebekus</holder>
    </copyright>
    
    <legalnotice
>&FDLNotice;</legalnotice>
    
    <date
>2004-02-27</date>
    <releaseinfo
>1.11.00</releaseinfo>

    <abstract>
      <para
>Este documento descreve &kdvi; versão 1.1</para>
    </abstract>

    <keywordset>
      <keyword
>KDE</keyword>
      <keyword
>linux</keyword>
      <keyword
>TeX</keyword>
      <keyword
>DVI</keyword>
    </keywordset>

  </bookinfo>

  <chapter id="introduction">
    <title
>Introdução</title>

    <para
>O &kdvi; é um plugin para o programa &kviewshell; que permite ao &kviewshell; mostrar arquivos-&DVI; (<literal role="extension"
>.dvi</literal
>) que é produzido pelo sistema de escrita TeX. O &kdvi; suporta várias extensões do padrão &DVI; como por exemplo a inclusão dos gráficos e hiperligações &PostScript;. Mais detalhes, exemplos e todas especificações técnicas podem ser encontrados no arquivo <filename
>KDVI-features.dvi</filename
> (ou veja <filename
>KDVI-features.tex</filename
> para o fonte TeX deste arquivo).</para>

    <para
>Para informações atualizadas, consulte a <ulink url="http://devel-home.kde.org/~kdvi"
>página web do &kdvi;</ulink
>. </para>

    <para
>O TeX é um sistema de escrita de alto nível voltado para documentação científica, e particularmente escrita matemática. Mais informações sobre TeX e &DVI; podem ser encontradas na <ulink url="http://www.tug.org"
>página web do grupo de usuários TeX</ulink
> ou o Alemão <ulink url="http:// www.dante.de"
>e.V. DANTE Alemão</ulink
>. </para>
  </chapter>


  <chapter id="starting">
    <title
>Iniciando &kdvi;</title>
    
    <para
>Na maioria das vezes o &kdvi; será inicializado simplesmente clicando em um arquivo <literal role="extension"
>.dvi</literal
> no gerenciador de arquivos. Por coveniência existirá um comando <command
>kdvi</command
> que chama o &kviewshell; com o plugin &kdvi; pré-carregado. O visualizador pode assim ser inicializado usando o comando <userinput
><command
>kdvi</command
> <parameter
>caminho/papel.dvi</parameter
></userinput
>. As linhas de comando <userinput
><command
>kdvi</command
><parameter
>caminho/papel</parameter
></userinput
> ou <userinput
><command
>kdvi</command
> <parameter
>caminho/papel.</parameter
></userinput
> irão também funcionar.Se você está conectado à internet, você pode acessar arquivos que reside em outro computador fornecendo uma &URL; como um paramêtro, como este: <userinput
><command
>kdvi</command
> <parameter
>http://caminho/papel.dvi</parameter
></userinput
> </para>
    
    <para
>Se você fornecer uma &URL; como paramêtro, você pode fazer com que &kdvi; salte diretamente para um local determinado do arquivo &DVI;. Por exemplo, <userinput
><command
>kdvi</command
> <parameter
>file:papel.dvi#43</parameter
></userinput
> irá fazer com que &kdvi; abra página 43. Se você incluir informações do arquivo fonte, um comando como <userinput
><command
>kdvi</command
> <parameter
>file:papel.dvi#src:43papel.tex</parameter
></userinput
> irá fazer com que &kdvi; pesquise pelo local no arquivo &DVI; que corresponde a linha 43 no arquivo TeX <parameter
>papel.tex</parameter
>. Você dificilmente irá usar estas opções você mesmo &mdash; leia a seção <link linkend="forward-search"
>pesquisa à frente</link
> para aprender como configurar seu editor para iniciar &kdvi; automaticamente. </para>

    <warning
><para
>Não esqueça o prefixo do <userinput
>file:</userinput
> ou ele irá apresentar resultados inesperados. Por exemplo, o comando <userinput
><command
>kdvi</command
> <parameter
>file:papel.dvi#43</parameter
></userinput
> irá abrir a página 43 do arquivo <filename
>papel.dvi</filename
>. O comando <userinput
><command
>kdvi</command
> <parameter
>papel.dvi#43</parameter
></userinput
> irá tentar abrir o arquivo <filename
>papel.dvi#43</filename
>.</para>
    </warning>

    <para
>Esta é outra opção que você provavelmente não irá precisar para especificar você mesmo. Se você digitar <userinput
><command
>kdvi</command
> <parameter
>--unique</parameter
> <parameter
>caminho/papel.dvi</parameter
></userinput
>, o &kdvi; irá carregar o arquivo se não existir outra instância em execução que já tenha o arquivo carregado. Se existir, esta instância do &kdvi; será exibida. Um comando como <userinput
><command
>kdvi</command
> <parameter
>--unique</parameter
> <parameter
>file:papel.dvi#43</parameter
></userinput
> pode ser usado nos sccripts do shell para fazer com que uma instância do &kdvi; em execução vá para a página 43.</para>

    <para
>Os paramêtros usuais identificados por aplicações &Qt; e &kde; também funcionam: <userinput
><command
>kdvi</command
> <option
>-style</option
> <parameter
>windows</parameter
> <option
>-display</option
> <parameter
>:0</parameter
> <option
>-geometry</option
> <parameter
>400x400+0+0</parameter
> <option
>-caption</option
> <parameter
>&quot;DVI&quot;</parameter
></userinput
> </para>
  </chapter>
  
  
  <chapter id="print">
    <title
>Imprimindo Arquivos &DVI;</title>
    
    <para
>O &kdvi; pode imprimir seus arquivos &DVI; usando a interface de impressão padrão do &kde;. Internamente, &kdvi; usa o programa <command
>dvips</command
> para gerar &PostScript;, que é então passado para a impressora. Particularmente, o <command
>dvips</command
> deve ser instalado se você deseja imprimir com &kdvi;. O programa <command
>dvips</command
> usa seus próprios arquivos de configuração e suas próprias definições, que estão definidas para propósitos genéricos. Porém, se você precisar para otimizar os resultados da impressão, você pode configurar <command
>dvips</command
> manualmente e certifique-se de definir um modo padrão MetaFont que se ajuste melhor a sua impressora &mdash; em muitos sistemas você encontrará uma <ulink url="info:/dvips"
> documentação GNU-texinfo do <command
>dvips</command
></ulink
> e você pode também dar uma olhada no arquivo chamado <filename
>dvips.dvi</filename
> ou similar.</para>
  </chapter>

  <chapter id="export">
    <title
>Exportando o arquivo &DVI; para outros formatos</title>

    <para
>Se você deseja salvar seu arquivo como &PostScript; ou no formato PDF, não é recomendado que você use a função de impressão e redirecione a saída da impressora para um arquivo. Ao invés disso, você pode usar as funções de exportação que produzem saída de qualidade melhor mantendo os vários dos recursos especiais do formato dvi e que aparecem melhor em várias dos aplicativos de visualização, tais como o <application
>Acrobat Reader</application
> da Adobe. Você irá encontrar as funções de exportação no menu <guimenu
>Arquivo</guimenu
>.</para>

    <section id="export-ps">
      <title
>Exportar para &PostScript;</title
> 

      <para
>Como na impressão, o comando externo <command
>dvips</command
> é usado para gerar o arquivo &PostScript;. Se o arquivo &DVI; contiver hiperligações, elas irão também ser incluídas no arquivo &PostScript;.Se você for um usuário avançado e preferir gerar uma saída otimizada para uma impressora específica, você pode iniciar o comando <command
>dvips</command
> manualmente e escolher o próprio modo MetaFont que deseja.</para>
    </section>

    <section id="export-pdf">
      <title
>Exportando para <acronym
>PDF</acronym
></title
> 

      <para
>Para produzir arquivos <acronym
>PDF</acronym
> de alta qualidade, o &kdvi; converte &DVI; para <acronym
>PDF</acronym
> usando o programa externo <command
>dvipdfm</command
>. Se você estiver trabalhando em uma máquina onde uma antiga distribuição do sistema de escrita TeX está instalada, pode ser que o programa <command
>dvipdfm</command
> não esteja instalado. Neste caso, você precisa usar a função de impressão para gerar a saída <acronym
>PDF</acronym
>.</para>

      <warning>
	<itemizedlist>
	  <listitem>
	    <para
>Se você usa uma instalação do TeX antiga, ou se está visualizando o arquivo gerado no <application
>Acrobat reader</application
>da Adobe, você pode muito bem achar que algumas das fontes parecem extremamente pobres, embora para uma impressão esteja bom, e embora o documento pareça não ter problemas no <application
>ghostview</application
>. Isto é um problema conhecido entre o <application
>Acrobat Reader</application
> e as fontes bitmap. Na hora de escrever, a única opção parece ser evitar de usar fontes bitmap, ou atualizar a instalação do TeX para uma versão mais recente. </para>
	  </listitem>
	  <listitem>
	    <para
>Apesar do comando <command
>dvipdfm</command
> produzir arquivos <acronym
>PDF</acronym
> de alta qualidade, o <command
>dvipdfm</command
> atualmente ingnora o &PostScript; que é embutido no arquivo &DVI;. O PostScript embutido é gerado por exemplo pelo pacote de macro <application
>xy</application
>, ou pela função "Embutir Arquivos PostScript" do &kdvi; descrita <link linkend="embed"
>abaixo</link
>. </para>
            <para
>Se você achar que no arquivo <acronym
>PDF</acronym
> gerado estão faltando dados gráficos, use a função de impressão do &kdvi; em substituição. </para>
	  </listitem>
	</itemizedlist>
      </warning>
    </section>


    <section id="export-text">
      <title
>Exportando para arquivos texto</title
> 

      <para
>O &kdvi; pode também salva seus arquivos &DVI; no formato texto.</para>

      <warning>
       <para
>O arquivo &DVI; padrão não foi desenvolvido com este tipo de funcionalidade em mente. Esta função consequentemente somente funciona bem com caracteres no padrão ASCII. Isto não funcionará com idiomas não-Europeus. Dependendo das fontes usadas nos arquivos, podem ocorrer problemas com caracteres acentuados ou cedilhas, e algumas vezes com caracteres especiais. </para>
      </warning>
    </section>
  </chapter>
  

  <chapter id="embed">
    <title
>Embutindo arquivos PostScript no &DVI;</title>

    <para
>O meio tradicional de usar gráficos com <application
>TeX</application
> não inclui os dados dos gráficos diretamente no arquivo &DVI;. Ao invés disso, o arquivo &DVI; contém somente uma ligação para um arquivo gráfico que se encontra no disco rígido. A vantagem deste procedimento é que o arquivo &DVI; se mantém pequeno e que o arquivo dos gráficos podem ser modificados independentes da fonte do documento <application
>TeX</application
>. O método, no entanto, torna-se inconveniente se você pretende arquivar o arquivo &DVI; ou se você deseja enviá-lo para alguém: ao invés de manipular apenas um único arquivo, você terá que negociar com uma multidão de arquivos, que precisam ser colocados exatamente no lugar especificado no arquivo &DVI; para tudo funcionar.</para>

    <para
>Por esta razão, o &kdvi; permite embutir arquivos &PostScript; externos no seu arquivo &DVI;. Para embutir todos arquivos &PostScript; em um arquivo &DVI; use a entrada do menu <guimenu
>Editar/Arquivos PostScript externos embutidos</guimenu
> </para>
    
    <warning
> <para
>Arquivos &DVI; com &PostScript; embutido trabalham bem com a maioria dos outros aplicativos de tratamento &DVI;, por exemplo o <application
>xdvi</application
>, <application
>dvips</application
> ou <application
>dvipdf</application
>. Uma exceção notável é o programa <application
>dvipdfm</application
>, que atualmente ignora o &PostScript; embutido. Uma vez que o <application
>dvipdfm</application
> é usado internamente pela função "Exportar para <acronym
>PDF</acronym
>" do &kdvi;, espere problemas quando você usar esta função. O mesmo problema surge com outro aplicativo que usa PostScript embutido, por exemplo, o pacote macro <application
>TeX</application
> <application
>xy</application
>.</para
> </warning>
  </chapter>
  

  <chapter id="inverse-search">
    <title
>Usando pesquisa inversa</title>
    <anchor id="inv-search"
></anchor>

    <para
>A pesquisa inversa é um recurso muito utilizado quando você está escrevendo um documento TeX você mesmo. Se tudo for corretamente definido, você pode clicar na janela do &kdvi; com o botão do <mousebutton
>meio</mousebutton
> do mouse (em alguns sistemas, quando você não tem um mouse de três botões, você pode usar simultaneamente o botão da <mousebutton
>esquerda</mousebutton
> e da <mousebutton
>right</mousebutton
>). Após isso, seu editor favorito será aberto, carregará o arquivo fonte TeX e acessará o parágrafo correspondente. Para usar a pesquisa inversa, faça o seguinte:</para>


    <procedure>
      <step>
	<para
>Produza um arquivo &DVI; que contenha as informações da pesquisa inversa. Isto é explanado na seção <link linkend="inverse-search-tex"
>Produzindo arquivos TeX para pesquisa inversa</link
> abaixo. Se você apenas deseja testar o recurso de pesquisa inversa, você pode também usar o arquivo exemplo <filename
>KDVI-features.dvi</filename
></para>
      </step>
      <step>
	<para
>Faça o &kdvi; saber que editor você gostaria de usar. Escolher um editor no diálogo <guilabel
>Preferências</guilabel
> (este diálogo pode ser encontrado escolhendo <guimenuitem
>Opções DVI</guimenuitem
> no menu <guimenu
>Configurações</guimenu
>). A próxima seção desta documentação, <link linkend="opt-rendering"
>Opções de Renderização</link
>, explica este diálogo com mais detalhes.</para>
      </step>
      <step>
	<para
>Alguns editores precisam ser inicializados manualmente ou precisam de configuração adicional. Você irá encontrar um descrição de todos editores suportados na seção <link linkend="inverse-search-editor"
>Configurando seu editor para pesquisa inversa</link
> abaixo.</para>
      </step>
      <step>
	<para
>Teste sua configuração. Abra seu arquivo &DVI; no &kdvi; e use o botão do <mousebutton
>meio</mousebutton
> do mouse para clicar no &kdvi;. O editor deve abrir e mostrar o arquivo TeX.</para>
      </step>
    </procedure>


    <section id="inverse-search-tex">
      <title
>Produzindo arquivos TeX para pesquisa inversa</title>
      <para
>Existem essencialmente duas maneiras de produzir arquivos &DVI; que contenham informações para pesquisa inversa: você pode usar um binário TeX/LaTeX que gera e inclui a informação necessária automaticamente ou você pode incluir um pacote extra que é escrito em TeX/LaTeX.</para>
      <itemizedlist>
	<listitem>
	  <para
>Um binário TeX que gera e inclui a informação necessária automaticamente é certamente o método preferido de incluir informação da pesquisa inversa. Se você usa a versão 2 ou superior da <ulink url="http://www.tug.org/teTeX/"
>Distribuição TeTeX TeX</ulink
>, você pode usar a opção de linha de comando 'src-specials' do comando tex ou latex, conforme se segue. <programlisting>
tex --src-specials meuarquivo.tex
</programlisting
> ou <programlisting
>latex --src-specials meuarquivo.tex
</programlisting>
	  </para>
	</listitem>
	<listitem>
	  <para
>Se você não possui um binário TeX que inclua informações de pesquisa inversa nativamente, copie os arquivos <ulink url="srcltx.sty"
> <filename
>srcltx.sty</filename
> </ulink
> e <ulink url="srctex.sty"
> <filename
>srctex.sty</filename
> </ulink
> para a pasta onde seu arquivo TeX se encontra (você pode fazer isto pressionando a tecla &Shift; e o &LMB; enquanto o ponteiro do mouse estiver sobre uma hiperligação). Se você usar o LaTeX, adicione a linha <programlisting>
\usepackage[active]{srcltx}
</programlisting
> ao preâmbulo do seu arquivo LaTeX. Se você usa TeX plano, a linha <programlisting>
\include{srctex}
</programlisting
> fará o truque.</para>
	</listitem>
      </itemizedlist>

      <tip>
	<para
>Apesar da pesquisa inversa ser extremamente útil ao digitar um documento você mesmo, pode ser uma boa idéia remover as informações de pesquisa inversa antes de enviar o arquivo &DVI; para alguém mais.</para>
      </tip>

    </section>

    <section id="inverse-search-editor">

    <title
>Configurando seu editor para pesquisa inversa</title>
    
    <para
>Apesar da pesquisa inversa trabalhar de uma maneira geral muito bem na maioria dos editores, alguns deles necessitam de uma pouco mais de cuidados adicionais. Esta seção explana como configurar seu editor.</para>

    <section id="editor-setup-emacs">
      <title
><application
>Emacs</application
></title>

      <para
>O <application
>Emacs</application
> trabalha bem com o &kdvi;. O comportamento atual do <application
>Emacs</application
> depende largamente da sua configuração. Como sempre, você pode personalizar o <application
>Emacs</application
> completamente, se você estiver disposto a lidar da sua maneira com o código Lisp.</para>

      <para
>O &kdvi; usa o programa <command
>emacsclient</command
> para controlar remotamente o <application
>Emacs</application
>.</para>
      <important>
	<para
>O programa <command
>emacsclient</command
> necessita que o <application
>Emacs</application
> esteja em execução, e que o programa <application
>Servidor do Emacs</application
> seja iniciado de dentro do <application
>Emacs</application
>. A pesquisa inversa não funcionará de maneira otimizada a menos que você tenha iniciado tanto o <application
>Emacs</application
> como o <application
>Servidor Emacs</application
>.</para>
      </important>

      <para
>Para iniciar o <application
>Servidor Emacs</application
>, você pode fazer uma das seguintes coisas:</para>
	<itemizedlist>
	<listitem>
	  <para
>No <application
>Emacs</application
>, inicie o <application
>Servidor Emacs</application
> digitando <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>server-start</command
></userinput
></para>
	</listitem>
	<listitem>
	  <para
>Adicione a linha <programlisting>
(server-start)
</programlisting
> ao seu arquivo <filename
>.emacs</filename
>. Reinicie o <application
>Emacs</application
></para>
	</listitem>
      </itemizedlist>

      
      <tip>
	<itemizedlist>
	  <listitem>
	      <para
>Certifique-se de que o <application
>Emacs</application
> está instalado. Tente iniciar o <command
>emacs</command
> a partir da linha de comando.</para>
	  </listitem>
	<listitem>
	      <para
>O &kdvi; usa o comando <command
>emacsclient</command
> para controlar remotamente o <application
>Emacs</application
>. Certifique-se de que o <command
>emacsclient</command
> está disponível na linha de comando tentando digitar o comando <userinput
><command
>emacsclient</command
> <parameter
>Nome de um arquivo texto</parameter
></userinput
>. Isto deve abrir um novo texto no editor <application
>Emacs</application
>.</para>
	</listitem>
	<listitem>
	      <para
>Se o <command
>emacsclient</command
> falhar com uma mensagem de erro como <computeroutput
>unable to connect to local</computeroutput
>, certifique-se de que o <application
>Emacs</application
> está rodando. Além disso, certifique-se de que o <application
>Servidor Emacs</application
> foi iniciado digitando <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>server-start</command
></userinput
>.</para>
	</listitem>
	<listitem>
	      <para
>Se você deseja que o quadro seja levantado automaticamente, adicione a função <function
>raise-frame</function
> ao <quote
>server-switch-hook</quote
> (faça <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>customize-variable</command
> <keycap
>RET</keycap
> <command
>server-switch-hook</command
></userinput
> e insira o nome da função no campo de texto.</para>
	</listitem>
	<listitem>
	      <para
>Se você tiver mudado o buffer desde seu último salvamento, o <application
>Emacs</application
> lhe perguntará: <computeroutput
>Reverter buffer a partir do arquivo ...? (sim ou não)</computeroutput
>. Você provavelmente sempre desejará dizer <emphasis
>não</emphasis
> aqui, uma vez que reverter significa que o arquivo será relido a partir do disco, <emphasis
>fazendo com que todas as suas mudanças desde o último salvamento sejam perdidas!</emphasis
></para>

	      <para
>O comportamento do <command
>gnuclient</command
> de recarregar silenciosamente o buffer mudado é provavelmente preferível &mdash; adicione as seguintes linhas ao seu arquivo <filename
>.emacs</filename
> para emular o comportamento do <command
>gnuclient</command
> com o <command
>emacsclient</command
>:</para>

<programlisting
>(defadvice server-visit-files (around save-buffers last activate)
  "Tenta emular o comportamento do gnuclient com o emacsclient.
Funciona somente para acessar um buffer por vez."
  (let* ((filen (car (car (ad-get-arg 0))))
         (buf (get-file-buffer filen))
         (this-buf-modified-p nil))
    ;;; o trecho a seguir é copiado do server-visit-files, com
    ;;; uma modificação para o teste `verify-visited-file-modtime'
    (if (and buf (set-buffer buf))
        (if (file-exists-p filen)
            ;;; se o arquivo tiver mudado no disco, recarrega-o
            ;;; usando `find-file-noselect'
            (if (not (verify-visited-file-modtime buf))
                (progn
                  (find-file-noselect filen)
                  ;;; se o usuário responder `no', reinicie modtime de qualquer jeito
                  ;;; assim que o server-visit-files não realizar a
                  ;;; diferença:
                  (set-visited-file-modtime)))
          ;;; se o arquivo não existir mais, nós deixamos server-visit-files
          ;;; negociar com ele
          t)
      (setq buf (find-file-noselect filen)))
    (setq this-buf-modified-p (buffer-modified-p buf))
    (set-buffer buf)
    (set-buffer-modified-p nil)
    ad-do-it
    (set-buffer-modified-p this-buf-modified-p)))
</programlisting>
        </listitem>
      </itemizedlist>
      </tip>
    </section>


    <section id="editor-setup-kate">
      <title
>&kate;</title
> 

      <para
>O editor &kate; do &kde; suporta pesquisa inversa muito bem. Nenhuma configuração adicional é necessária.</para
> </section>


    <section id="editor-setup-kile">
      <title
><application
>Kile</application
></title
> 

      <para
>O sistema de editor LaTex <application
>Kile</application
> suporta o KDVI muito bem. Nenhuma configuração adicional é necessária. Mais informações sobre o Kile podem ser encontradas na <ulink url="http://kile.sourceforge.net"
>página web do Kile</ulink
>. </para>
    </section>


    <section id="editor-setup-nedit">
      <title
><application
>NEdit</application
></title>

      <para
>O <application
>NEdit</application
> normalmente funciona muito bem. Clicar em um arquivo &DVI; deverá abrir uma nova janela. Se o arquivo TeX já estiver sendo usado em outra janela do <application
>NEdit</application
>, a nova janela aberta mostrará outra visão do buffer. Caso contrário, o arquivo TeX é carregado. Após abrir a janela, o <application
>NEdit</application
> destaca a primeira linha do parágrafo apropriado.</para>
      <tip>
          <para
>O &kdvi; usa o comando <command
>ncl</command
> para controlar remotamente o <application
>NEdit</application
>. Certifique-se de que o <command
>ncl</command
> está disponível na linha de comando tentando o comando <userinput
><command
>ncl</command
> <parameter
>-noask</parameter
></userinput
>. Isto deve abrir uma instância do editor <application
>NEdit</application
>. Se o <command
>ncl</command
> não estiver disponível, você deve estar usando uma versão antiga do <application
>NEdit</application
>. Neste caso, você deve atualizar para uma versão mais recente, ou usar a opção <guilabel
>Editor definido pelo usuário</guilabel
> no diálogo <guilabel
>Opções</guilabel
>.</para>
      </tip>
    </section>

    <section id="editor-setup-xemacs">
      <title
><application
>XEmacs</application
></title>

      <para
>O <application
>XEmacs</application
> funciona bem com o &kdvi;. O comportamento atual do <application
>XEmacs</application
> depende largamente de sua configuração. Como sempre, você pode personalizar o <application
>XEmacs</application
> completamente, se você estiver disposto a lidar da sua maneira com o código Lisp.</para>

      <para
>O &kdvi; usa o programa <command
>gnuclient</command
> para controlar remotamente o <application
>XEmacs</application
>.</para>
      <important>
        <para
>O programa <command
>gnuclient</command
> necessita que o <application
>XEmacs</application
> esteja rodando, e que o programa <application
>gnuserv</application
> seja iniciado de dentro do <application
>XEmacs</application
>. A pesquisa inversa não funcionará a menos que você tenha iniciado tanto o <application
>XEmacs</application
> como o <application
>gnuserv</application
>.</para>
      </important>

      <para
>Para iniciar o programa <application
>gnuserv</application
>, você pode fazer uma das seguintes coisas:</para>
      <itemizedlist>
        <listitem>
          <para
>No <application
>XEmacs</application
>, iniciar o <application
>gnuserv</application
> digitando <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>gnuserv-start</command
></userinput
></para>
        </listitem>
        <listitem>
          <para
>Adicionar a linha <programlisting>
(gnuserv-start)
</programlisting
> ao seu arquivo <filename
>.xemacs</filename
>. Se você usar uma versão mais recente do <application
>XEmacs</application
>, o <filename class="directory"
>.xemacs</filename
> será uma pasta. Neste caso, você deve adicionar a linha ao arquivo <filename
>.xemacs/init.el</filename
>. Reinicie o <application
>XEmacs</application
></para>
        </listitem>
      </itemizedlist>

      <para
>Se você não deseja abrir um novo quadro para cada chamada do editor, e deseja que o quadro seja levantado automaticamente, configure o <quote
>Quadro Frame</quote
> para <quote
>Usar quadro selecionado</quote
>, e adicione a função <function
>raise-frame</function
> ao <quote
>Visitar Gancho</quote
>. Faça <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>customize-group</command
> <keycap
>RET</keycap
> <command
>gnuserv</command
></userinput
> para criar estas configurações.</para>

      <tip>
        <itemizedlist>
          <listitem>
              <para
>Cerifique-se de que o <application
>XEmacs</application
> está instalado. Tente iniciar o <command
>xemacs</command
> a partir da linha de comando.</para>
          </listitem>
        <listitem>
              <para
>O &kdvi; usa o comando <application
>gnuserv</application
> para controlar remotamente o <application
>XEmacs</application
>. Certifique-se de que o <command
>gnuclient</command
> está disponível na linha de comando digitando o comando <userinput
><command
>gnuclient</command
> <parameter
>Nome de um arquivo texto</parameter
></userinput
>. Isto deve abrir um novo quadro no editor <application
>XEmacs</application
>.</para>
        </listitem>
        <listitem>
              <para
>Se o <application
>gnuserv</application
> falhar com uma mensagem como <computeroutput
>unable to connect to local</computeroutput
>, certifique-se de que o <application
>XEmacs</application
> está rodando. Além disso, certifique-se de que o <application
>gnuserv</application
> foi iniciado digitando <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>gnuserv-start</command
></userinput
>.</para>
        </listitem>
        <listitem>
              <para
>Se você não deseja abrir um novo quadro para cada chamado do editor,e deseja que o quadro seja levantado automaticamente, configure o <quote
>Quadro Gnuserv</quote
> para <quote
>Usar quadro selecionado</quote
>, e adicione a função <quote
>raise-frame</quote
> ao <quote
>Visitar Gancho</quote
>. Faça <userinput
><keycombo action="simul"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>customize-group</command
> <keycap
>RET</keycap
> <command
>gnuserv</command
></userinput
> para criar estas configurações.</para>
        </listitem>
      </itemizedlist>
      </tip>
    </section>

    <section id="editor-setup-gvim">
      <title
><application
>VI iMproved</application
> / &GUI;</title>

      <para
>A variante <application
>gvim</application
> do editor <application
>vi</application
> suporta a pesquisa inversa muito bem. Nenhuma configuração adicional é necessária.</para>
    </section>
    </section>
  </chapter>


  <chapter id="forward-search">
    <title
>Pesquisa à frente</title>

    <para
>As funções de pesquisa à frente permitem saltar de seu editor diretamente para a posição associada do arquivo &DVI;. Uma vez que a pesquisa à frente deve ser suportada por seu editor, somente o <application
>Emacs</application
> e o <application
>XEmacs</application
> são atualmente suportados. Outros editores juntarão-se felizmente a eles em breve.</para>

    <para
>Para usar a pesquisa à frente, você deve fazer o seguinte:</para>
    <itemizedlist>
      <listitem>
        <para
>Configurar seu editor &mdash; isto é descrito abaixo.</para>
      </listitem>
      <listitem>
        <para
>Adicione as informações do arquivo fonte ao seu arquivo &DVI;, &eg; usando o pacote <command
>srcltx</command
>. Isto é descrito na seção <link linkend="inverse-search-tex"
>Produzindo arquivos TeX para pesquisa inversa</link
>.</para>
      </listitem>
      <listitem>
        <para
>Se você usa o <application
>Emacs</application
> e tudo estiver corretamente configurado, você simplesmente pressiona <userinput
><keycombo action="simul"
>&Ctrl;<keycap
>X</keycap
></keycombo
> <keycombo action="simul"
>&Ctrl;<keycap
>J</keycap
> </keycombo
></userinput
>, e o &kdvi; aparece e salta para o local que corresponde ao local do arquivo TeX que você está atualmente editando.</para>
      </listitem>
    </itemizedlist>

    <section id="forward-search-editor">
      <title
>Configurando seu editor para pesquisa à frente</title>
      
      <section id="forw-editor-setup-emacs">
        <title
><application
>Emacs</application
></title>
        
        <para
>Para usar a pesquisa à frente no <application
>Emacs</application
>, siga estes passos:</para>

        <itemizedlist>
          <listitem>
                <para
>Baixe o seguinte script do <application
>Emacs</application
>, <ulink url="kdvi-search.el"
> <filename
>kdvi-search.el</filename
> </ulink
> (pressione &Shift; e &LMB; no nome do arquivo para baixá-lo) e armazene-o em um local onde o <application
>Emacs</application
> possa acessá-lo &mdash; nós recomendamos a pasta <filename class="directory"
>emacs-scripts</filename
>.</para>
          </listitem>
          <listitem>
            <para
>Adicione as linhas <programlisting>
(add-to-list 'load-path (expand-file-name "~/emacs-scripts/"))
(require 'kdvi-search)
(add-hook 'LaTeX-mode-hook (lambda () (local-set-key "\C-x\C-j" 'kdvi-jump-to-line)))
(add-hook 'tex-mode-hook (lambda () (local-set-key "\C-x\C-j" 'kdvi-jump-to-line)))
</programlisting
> ao seu arquivo <filename
>.emacs</filename
>. Reinicie o <application
>Emacs</application
>.</para>
          </listitem>

          <listitem>
            <para
>Abra o <application
>Emacs</application
>, carregue o arquivo TeX file, produza o arquivo &DVI; correspondente, e insira o comando <userinput
><keycombo action="simul"
><keycap
>M</keycap
><keycap
>x</keycap
> </keycombo
><command
>kdvi-jump-to-line</command
></userinput
> ou pressione <userinput
><keycombo action="seq"
><keycombo action="simul"
>&Ctrl;<keycap
>X</keycap
></keycombo
> <keycombo action="simul"
>&Ctrl;<keycap
>J</keycap
></keycombo
> </keycombo
></userinput
>. Isto pode fazer com que o <application
>Emacs</application
> peça pelo nome de um <quote
>arquivo mestre</quote
>. Isto é útil se você usa um arquivo TeX que inclui os outros. O <application
>Emacs</application
> talvez também peça para salvar o nome do arquivo mestre <quote
>como uma variável local</quote
>, &ie; como um comentário no final do arquivo. Digite <userinput
>sim</userinput
> ou <userinput
>não</userinput
> para continuar.</para
> 
            </listitem>
        </itemizedlist>

        <tip>
          <itemizedlist>
            <listitem>
              <para
>Certifique-se de que o <application
>Emacs</application
> está instalado. Tente iniciar o <command
>emacs</command
> a partir da linha de comando.</para>
            </listitem>
            <listitem>
              <para
>Se o <application
>Emacs</application
> falhar ao iniciar o &kdvi;, você pode encontrar sua saída no Buffer <guilabel
>kdvi-output</guilabel
>.</para>
            </listitem>
          </itemizedlist>
        </tip>
      </section>

      <section id="forw-editor-setup-kile">
        <title
><application
>Kile</application
></title>
                <para
>Se você usa o Kile, nenhuma configuração adicional é necessária. </para>
      </section>

      <section id="forw-editor-setup-xemacs">
        <title
><application
>XEmacs</application
></title>
        
        <para
>Para configurar o <application
>XEmacs</application
>, siga os passos para o <application
>Emacs</application
> <link linkend="forw-editor-setup-emacs"
>acima</link
>, mas modifique o seu arquivo <filename
>.xemacs</filename
> ao invés do seu <filename
>.emacs</filename
>. Se você usa uma versão mais recente do <application
>XEmacs</application
>, <filename class="directory"
>.xemacs</filename
> deve ser uma pasta. Neste caso, adicione as linhas ao <filename
>.xemacs/init.el</filename
>. </para>
      </section>

    </section>

  </chapter>

  <chapter id="preferences">
    <title
>O diálogo <guilabel
>Preferências</guilabel
></title>
    <anchor id="opts"
></anchor>

    <para
>O diálogo <guilabel
>Preferências</guilabel
> pode ser acionado escolhendo <guimenuitem
>Opções DVI</guimenuitem
> no menu <guimenu
>Configurações</guimenu
>.</para>

    <para
>O diálogo consiste de duas abas, <guilabel
>Fontes</guilabel
> e <guilabel
>Renderização</guilabel
>.</para>

    <sect1 id="opt-fonts">
      <title
>Opções de <guilabel
>Fontes</guilabel
></title>

      <para
>Tradicionalmente, o texto TeX usa fontes que são geradas pelo programa <command
>MetaFont</command
>. Estas fontes são armazenadas no formato PK. Enquanto um sistema <command
>MetaFont</command
> cuidadosamente configurado produz impressões de alta qualidade, sua configuração necessita de muito conhecimento, o <command
>MetaFont</command
> não é muito bom em produzir fontes aceitáveis para monitores de computador, e existem somente poucas fontes <command
>MetaFont</command
> disponíveis para os idiomas asiáticos. </para>
      
      <para
>Para resolver estes problemas, instalações mais recentes do TeX incluem fontes que são armazenadas no formato "PostScript Tipo '", que é um formatode fonte largamente usado em editoração eletrônica. O &kdvi; é capaz de usar ambos os formatos de fonte. </para>

      <para
>A seguinte figura mostra o diálogo de opções de fontes do &kdvi; que pode ser usado para controlar o uso do &kdvi; dos vários formatos de fontes. </para>

      <screenshot>
        <screeninfo
>A aba <guilabel
>Fontes</guilabel
></screeninfo>
        <mediaobject>
          <imageobject>
	    <imagedata fileref="optionrequester1.png" format="PNG"
></imagedata>
	  </imageobject>
          <textobject>
            <phrase
>A aba <guilabel
>Fontes</guilabel
></phrase>
          </textobject>
        </mediaobject
>        
      </screenshot>

      <variablelist>
        <varlistentry>
          <term
><guilabel
>Fontes PostScript Tipo 1</guilabel
> </term>
          <listitem>
	    <variablelist>
	      <varlistentry>
		<term
><guilabel
>Usa fontes Tipo 1 se disponíveis</guilabel
> </term>
		<listitem>
		  <para
>Usar estas fontes torna o &kdvi; mais rápido, e geralmente produz saída de alta qualidade. Você quase certamente desejará habilitar esta opção, a menos que ocorram problemas com a configuração de sua instalação TeX, ou com fonte com erro. </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term
><guilabel
>Usar dicas de fonte</guilabel
> </term>
		<listitem>
		  <para
>O "PostScript Tipo 1" frequentemente contém "dicas de fonte", isto é informações adicionais que supostamente auxiliam a produzir saída de melhor qualidade nas telas do computador. A qualidade das dicas de fonte variam de fonte para fonte, e você deve experimentar para ver se habilitar esta opção fornece melhores resultados. </para>
		</listitem>
	      </varlistentry>
	    </variablelist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term
><guilabel
>Fontes PK</guilabel
> </term>
          <listitem>
	    <variablelist>
	      <varlistentry>
		<term
><guilabel
>Modo Metafont</guilabel
> </term>
		<listitem>
		  <para
>Estas opções especificam as fontes que o &kdvi; usará para renderização. Através da otimização cuidadosa das configurações aqui será possível melhorar a exibição. No entanto, a menos que você seja um usuário avançado em <command
>MetaFont</command
> e saiba o que está fazendo, não é uma boa idéia mudar estas opções. Você pode desejar dar uma olhada na seção de <link linkend="mfmodes"
>Perguntas Frequentes</link
> deste manual. </para>
                  <para
>Valores seguros são <guilabel
>1200 dpi / Lexmark</guilabel
> para boa qualidade, ou <guilabel
>600 dpi / LaserJet 4</guilabel
> para qualidade média e exibição rápida. </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term
><guilabel
>Gerar fontes faltando</guilabel
> </term>
		<listitem>
		  <para
>Habilite isto se você deseja que o &kdvi; chame o programa <command
>MetaFont</command
> no caso do &kdvi; desejar exibir documentos que usam fontes que não foram ainda lidas. Você certamente desejará configurar esta opção. </para>
		</listitem>
	      </varlistentry>
	    </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect1>

    <sect1 id="opt-rendering">
      <title
>Opções <guilabel
>especiais do &DVI;</guilabel
></title>

      <para
>O &kdvi; suporta um grande número de extensões do formato &DVI; original, por exemplo hiperligações, inclusão de arquivos gráficos ou embutir informações do arquivo fonte. Estas extensões são conhecidas como "especiais do &DVI;". Um conjunto completo destas especiais suportadas pelo &kdvi; podem ser encontradas <ulink url="KDVI-features.dvi"
>neste documento</ulink
>. </para>

      <para
>O diálogo de especiais do &DVI; configuram o suporte a alguns especiais. </para>

      <screenshot>
        <screeninfo
>A aba <guilabel
>Renderização</guilabel
></screeninfo>
        <mediaobject>
          <imageobject>
            <imagedata fileref="optionrequester2.png"
            format="PNG"
></imagedata>
	  </imageobject>
          <textobject>
            <phrase
>A aba <guilabel
>Renderização</guilabel
></phrase>
          </textobject>
        </mediaobject>
      </screenshot>

      <variablelist>
        <varlistentry>
          <term
><guilabel
>Mostrar especiais PostScript</guilabel
></term>
          <listitem>
            <para
>Se esta opção estiver habilitada, o &kdvi; exibirá gráficos &PostScript; que estão embutidos no arquivo &DVI;. Você provavelmente desejará configurar esta opção.</para>

            <para
>Se um arquivo &PostScript; externo não puder ser encontrado, o &kdvi; desenhará um caixa de alerta vermelha em seu lugar. Infelizmente, a renderização de gráficos &PostScript; é muito lenta na versão atual do &kdvi;. Nós melhoraremos a velocidade em versões posteriores. Se esta opção estiver desligada, o &kdvi; desenhará uma caixa cinza como um espaço reservado para gráficos, ou deixará o espaço em branco.</para>

            <note>
              <para
>Não existe um modo padrão para embutir gráficos &PostScript; em um arquivo &DVI;. Isto pode fazer com que o &kdvi; não consiga exibir corretamente um gráfico que funciona bem com outros programas. Versões antigas do <command
>xdvi</command
> e <command
>dvips</command
> suportam a execução de comandos externos. Isto é ruim para a segurança e consequentemente não foi implementado deliberadamente no &kdvi;.Informações técnicas sobre os modos suportados para incluir &PostScript; podem ser encontrados no documento <filename
>KDVI-features.dvi</filename
>.</para>
            </note>

          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term
><guilabel
>Mostrar Hiperligações</guilabel
></term>
          <listitem>
            <para
>Habilite isto se deseja que o &kdvi; exiba as hiperligações. As partes apropriadas do texto serão sublinhadas em azul. Você provavelmente desejará configurar esta opção.</para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term
><guilabel
>Editor para pesquisa inversa</guilabel
></term>
          <listitem>
            <para
>Se você planeja usar <link linkend="inverse-search"
>pesquisa inversa</link
>, um recurso muito útil se você próprio escreve documentos TeX, você deve especificar qual editor você está usando, e como este editor pode ser iniciado pelo &kdvi;. No exemplo mostrado, o usuário optou pelo editor <application
>NEdit</application
>. Se você usa um dos editores pré-configurados na caixa combinada <guilabel
>Editor</guilabel
>, então você não precisa fazer nada mais. Se você usa um editor diferente, selecione <guilabel
>Editor definido pelo usuário</guilabel
> na caixa combinada <guilabel
>Editor</guilabel
> e insira a linha de comando que será usada para iniciar seu editor. Use os coringas <token
>%f</token
> e <token
>%l</token
> que serão substituídos pelo nome do arquivo TeX e a linha do arquivo TeX, respectivamente.</para>

            <para
>Se você usa um editor que não é suportado, por favor envie-nos uma mensagem eletrônica para <email
>kebekus@kde.org</email
> e informe-nos a linha de comando que você usa e como configurar o seu editor.</para>
          </listitem>
        </varlistentry>
      </variablelist>

    </sect1>
  </chapter>

  <chapter id="faq">
    <title
>Perguntas frequentes</title>

    <qandaset>
      <qandaentry>
        <question id="fontgen">
          <para
>O que acontece quando o &kdvi; exibe a mensagem <computeroutput
>O KDVI está atualmente gerando fontes de bitmap</computeroutput
>, e porque este procedimento é tão demorado?</para>
        </question>
        <answer>
          <para
>Muitas fontes que são usadas tipicamente em um documento TeX devem ser geradas pelo sistema MetaFont. O MetaFont é uma linguagem semelhante ao TeX (incluída na maioria das distribuições TeX) que toma uma descrição de fonte simples, e produz uma versão rasterizada (arquivo <literal role="extension"
>.pk</literal
>) de fonte que pode então ser enviada para uma impressora ou usada por um programa de visualização como o &kdvi;. O Metafont faz isto para produzir a melhor saída possível para sua impressora. Por exemplo, ele conhece que um pixel de uma impressora jato de tinta é uma gota redonda, e que pixéis próximos tendem a mesclar-se com os outros. Em contraste, um pixel de uma impressora laser é retangular, mas um pixel isolado não é frequentemente renderizado de nenhum jeito.</para>

          <para
>Gerar fontes bitmap altamente otimizadas causa um maior consumo de tempo, particularmente em documentos tipícos TeX que usam um grande número de fontes diferentes. Nós podemos somente pedir para você paciência. Para minimizar um pouco o problema, maioria das distribuições do TeX armazenam os arquivos <literal role="extension"
>.pk</literal
> por um determinado um tempo, &eg; 100 dias.Conseqüentemente, se você acessa o mesmo documento mais de uma vez, os arquivos <literal role="extension"
>.pk</literal
> irão ser reutilizados.</para>
        </answer>
      </qandaentry>

      <qandaentry>
        <question id="mfmodes">
          <para
>O que é um Modo MetaFont?</para>
        </question>
        <answer>
          <para
>Para produzir fontes bitmap que são otimizadas para sua impressora (veja a resposta para a primeira questão), o Metafont vem com um banco de dados de mecanismos de impressão &mdash; procura por um arquivo chamado <filename
>modes.mf</filename
>. Um Modo Metafont é apenas o nome de uma entrada de banco de dados. Por exemplo, o nome <quote
>ljfour</quote
> refere à entrada no banco de dados que descreve uma impressora &Hewlett-Packard; LaserJet 4. Um Modo Metadont é usualmente seguido por um número, a resolução. A Laserjet, por exemplo, pode imprimir em 300 e 600 pontos por polegadas. Assim, <quote
>ljfour/600</quote
> pode ser uma descrição completa.</para>
        </answer>
      </qandaentry>

    </qandaset>
  </chapter>


  <chapter id="credits-and-license">
    <title
>Créditos e Licenças</title>

    <para
>&kdvi;</para>

    <para
>O &kdvi; é baseado no programa autônomo &kdvi; 0.4.3 de Markku Hihnala. Este programa é por sua vez baseado na versão 18f do <application
>xdvi</application
> que tem muitos autores.</para>

    <para
>A documentação possui direitos autorais 2001-2004, Stefan Kebekus <email
>kebekus@kde.org</email
></para>

    <para
>Tradução inicial de João Emanuel</para
><para
>Revisão e tradução atual de Marcus Gama<email
>marcus_gama@uol.com.br</email
></para
> 
&underGPL; &underFDL; </chapter>
    
&documentation.index;

</book>
<!--
Local Variables:
mode: sgml
sgml-omittag: nil
sgml-shorttag: t
End:
-->

