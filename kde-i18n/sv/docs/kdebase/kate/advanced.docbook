<chapter id="advanced-editing-tools">
<chapterinfo>
<authorgroup>
<author
>&Anders.Lund; &Anders.Lund.mail;</author>
<author
>&Dominik.Haumann; &Dominik.Haumann.mail;</author>
<othercredit role="translator"
> <firstname
>Johan</firstname
> <surname
>Thelmén</surname
> <affiliation
><address
><email
>jth@home.se</email
></address
></affiliation
> <contrib
>Översättare</contrib
></othercredit
> 
</authorgroup>
</chapterinfo>
<title
>Avancerade redigeringsverktyg</title>

<sect1 id="advanced-editing-tools-comment">

<title
>Kommentera/avkommentera</title>

<para
>Kommandona kommentera och avkommentera, som är tillgängliga i menyn <guimenu
>Verktyg</guimenu
>, låter dig lägga till eller ta bort kommentarmarkeringar i den markerade texten, eller den nuvarande raden, om ingen text är markerad, om kommentarer stöds av textformatet som du redigerar.</para>

<para
>Reglerna för hur kommentarer ser ut definieras av syntaxdefinitionerna, så om syntaxfärgläggning inte används, så är det inte möjligt att kommentera eller avkommentera. </para>

<para
>Vissa format definierar kommentarmarkeringar för enstaka rader, vissa för flera rader och vissa både ock. Om kommentarmarkeringar för flera rader inte är tillgängliga, så är det inte möjligt att kommentera en markering där den sista raden inte ingår helt och hållet.</para>

<para
>Om det finns en kommentarmarkering för enstaka rader, så föredras kommentarer för enstaka rader när det är möjligt, eftersom detta hjälper till att undvika problem med nästlade kommentarer.</para>

<para
>När kommentarmarkeringar tas bort, så ska inte någon okommenterad text markeras. När kommentarmarkeringar för flera rader tas bort från en markering, så ignoreras eventuella blanktecken utanför kommentarmarkeringen.</para>

<para
><indexterm
><primary
>kommentera</primary
></indexterm
> För att lägga till kommentarmarkeringar, använd menyalternativet <menuchoice
><guimenu
>Verktyg</guimenu
><guimenuitem
>Kommentera</guimenuitem
></menuchoice
> eller motsvarande snabbtangent, som normalt är <keycombo action="simul"
>&Ctrl;<keycap
>D</keycap
></keycombo
>.</para>

<para
><indexterm
><primary
>avkommentera</primary
></indexterm
> För att ta bort kommentarmarkeringar, använd menyalternativet <menuchoice
><guimenu
>Verktyg</guimenu
><guimenuitem
>Avkommentera</guimenuitem
></menuchoice
> eller motsvarande snabbtangent, som normalt är <keycombo action="simul"
>&Ctrl; <keycap
>Skift</keycap
> <keycap
>D</keycap
></keycombo
>.</para>

</sect1>

<sect1 id="advanced-editing-tools-commandline">
<title
>Editorkomponentens kommandorad</title>

<para
>Kates editorkomponent har en intern kommandorad, som låter dig utföra vissa åtgärder från ett minimalt grafiskt gränssnitt. Kommandoraden är ett textinmatningsfält längst ner i redigeringsområdet. För att visa den, välj <menuchoice
><guimenu
>Visa</guimenu
> <guimenuitem
>Byt till kommandorad</guimenuitem
></menuchoice
> eller använd snabbtangenten (normalt <keycombo action="simul"
><keycap
>F7</keycap
></keycombo
>). Editorn tillhandahåller en uppsättning kommandon som är dokumenterade nedan, och ytterligare kommandon kan tillhandahållas av insticksprogram.</para>

<para
>Skriv in kommandot och tryck på returtangenten för att utföra det. Kommandoraden anger om kommandot lyckades och visar kanske ett meddelande. Om du kom till kommandoraden genom att trycka på <keycap
>F7</keycap
> döljs den automatiskt efter några sekunder. För att rensa meddelandet och skriva in ett nytt kommando, tryck på <keycap
>F7</keycap
> igen.</para>

<para
>Kommandoraden har ett inbyggt hjälpsystem, skriv in kommandot <command
>help</command
> för att komma igång. För att se en lista med alla tillgängliga kommandon, skriv in <command
>help list</command
>. För att visa hjälp om ett visst kommando, skriv <command
>help <replaceable
>kommando</replaceable
></command
>.</para>

<para
>Kommandoraden har en inbyggd historik, så att du kan återanvända kommandon som redan skrivits in. För att navigera i historiken, använd tangenterna <keycap
>Uppåtpil</keycap
> och <keycap
>Neråtpil</keycap
>. När historikkommandon visas är kommandots argument markerade, vilket låter dig enkelt skriva över argumenten.</para>

<sect2 id="advanced-editing-tools-commandline-commands">
<title
>Vanliga kommandon på kommandoraden</title>

<sect3 id="advanced-editing-tools-commandline-commands-configure">
<title
>Kommandon för att anpassa editorn</title>

<para
>Dessa kommandon tillhandahålls av editorkomponenten och låter dig bara anpassa det aktiva dokumentet och vyn. Det är praktiskt om du vill använda en inställning som skiljer sig från den förvalda inställningen, till exempel för indentering. </para>

<variablelist>
<title
>Argumenttyper</title>

<varlistentry>
<term
>BOOLESK</term>
<listitem
><para
>Denna används med kommandon som sätter på eller stänger av någonting. Möjliga värden är <userinput
>on</userinput
> (på), <userinput
>off</userinput
> (av), <userinput
>true</userinput
> (sant), <userinput
>false</userinput
> (falskt), <userinput
>1</userinput
> eller <userinput
>0</userinput
>.</para
></listitem>
</varlistentry>

<varlistentry>
<term
>HELTAL</term>
<listitem
><para
>Ett heltal</para
></listitem>
</varlistentry>

<varlistentry>
<term
>STRÄNG</term>
<listitem
><para
>En sträng</para
></listitem>
</varlistentry>

</variablelist>

<variablelist>

<varlistentry>
<term
><cmdsynopsis
><command
>set-tab-width</command
><arg
>HELTAL bredd</arg
></cmdsynopsis
></term>
<listitem
><para
>Ställer in tabulatorbredden till talet <userinput
>bredd</userinput
></para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-width</command
><arg
>HELTAL bredd</arg
></cmdsynopsis
></term>
<listitem
><para
>Ställer in indenteringsbredden till talet <userinput
>bredd</userinput
>. Används bara om du indenterar med mellanslag.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-word-wrap-column</command
><arg
>HELTAL bredd</arg
></cmdsynopsis
></term>
<listitem
><para
>Ställer in radbredden för hård radbrytning till <userinput
>bredd</userinput
>. Detta används om du använder automatisk radbrytning för din text.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-icon-border</command
><arg
>BOOLESK aktivera</arg
> </cmdsynopsis
></term>
<listitem
><para
>Ställer in synligheten hos ikonkanten.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-folding-markers</command
><arg
>BOOLESK aktivera</arg
></cmdsynopsis
></term>
<listitem
><para
>Ställer in synligheten hos vikmarkörrutan.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-line-numbers</command
><arg
>BOOLESK aktivera</arg
></cmdsynopsis
></term>
<listitem
><para
>Ställer in synligheten hos radnummerrutan.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-replace-tabs</command
><arg
>BOOLESK aktivera</arg
></cmdsynopsis
></term>
<listitem
><para
>Om aktiverad, ersätts tabulatortecken med mellanslag medan du skriver. </para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-remove-trailing-space</command
><arg
>BOOLESK aktivera</arg
></cmdsynopsis
></term>
<listitem
><para
>Om aktiverad, tas avslutande blanktecken bort så fort markören lämnar en rad.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-show-tabs</command
><arg
>BOOLESK aktivera</arg
></cmdsynopsis
></term>
<listitem
><para
>Om aktiverad, synliggörs tabulatortecken och avslutande blanktecken med en liten punkt.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-spaces</command
><arg
>BOOLESK aktivera</arg
></cmdsynopsis
></term>
<listitem
><para
>Om aktiverad, indenterar editorn med <option
>indenteringsbredd</option
> mellanslag för varje indenteringsnivå, istället för ett tabulatortecken.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-mixed-indent</command
><arg
>BOOLESK aktivera</arg
></cmdsynopsis
></term>
<listitem
><para
>Om aktiverad, använder Kate en blandning av tabulatortecken och mellanslag för indentering. Varje indenteringsnivå har bredden <option
>indenteringsbredd</option
>, och fler indenteringsnivåer optimeras så att så många tabulatortecken som möjligt används.</para>
<para
>När det utförs aktiverar kommandot dessutom indentering med mellanslag, och om indenteringsbredden inte anges ställs den in till halva <option
>tabulatorbredden</option
> för dokumentet.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-word-wrap</command
><arg
>BOOLESK aktivera</arg
></cmdsynopsis
></term>
<listitem
><para
>Aktiverar dynamisk radbrytning enligt <userinput
>aktivera</userinput
></para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-replace-tabs-save</command
><arg
>BOOLESK aktivera </arg
></cmdsynopsis
></term>
<listitem
><para
>Om aktiverad, ersätts tabulatortecken med blanktecken så fort dokumentet sparas.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-remove-trailing-space-save</command
><arg
>BOOLESK aktivera</arg
></cmdsynopsis
></term>
<listitem
><para
>Om aktiverad, tas avslutande mellanslag bort från alla rader så fort dokumentet sparas.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-mode</command
><arg
>namn</arg
></cmdsynopsis
></term>
<listitem
><para
>Ställer in automatiskt indenteringsläge till <userinput
>namn</userinput
>. Om <userinput
>namn</userinput
> inte känns igen, ställs läget in till 'none'. Giltiga lägen är 'cstyle', 'csands', 'xml', 'python', 'varindent' och 'none'.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-highlight</command
><arg
>färgläggning</arg
></cmdsynopsis
></term>
<listitem
><para
>Ställer in dokumentets syntaxfärgläggningssystem. Argumentet måste vara ett giltigt färgläggningsnamn, som visas i menyn <menuchoice
><guimenu
>Verktyg</guimenu
> <guisubmenu
>Färgläggning</guisubmenu
></menuchoice
>. Kommandot tillhandahåller en lista för automatisk komplettering av dess argument.</para
></listitem>
</varlistentry>

</variablelist>

</sect3>

<sect3 id="advanced-editing-tools-commandline-commands-edit">
<title
>Kommandon för redigering</title>

<para
>Dessa kommandon ändrar aktuellt dokument.</para>

<variablelist>
<varlistentry>
<term
><cmdsynopsis
><command
>indent</command
></cmdsynopsis
></term>
<listitem
><para
>Indenterar de markerade raderna eller den nuvarande raden.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>unindent</command
></cmdsynopsis
></term>
<listitem
><para
>Avindenterar markerade rader eller nuvarande rad.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>cleanindent</command
></cmdsynopsis
></term>
<listitem
><para
>Rensar indenteringen för markerade rader eller nuvarande rad enligt dokumentets indenteringsinställningar. </para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>comment</command
></cmdsynopsis
></term>
<listitem
><para
>Infogar kommentarmarkeringar för att göra markeringen, markerade rader eller nuvarande rad en kommentar enligt textformatet som definieras av dokumentets syntaxfärgläggningsdefinition.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>uncomment</command
></cmdsynopsis
></term>
<listitem
><para
>Tar bort kommentarmarkeringar från markeringen, markerade rader eller nuvarande rad enligt textformatet som definieras av dokumentets syntaxfärgläggningsdefinition.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>kill-line</command
></cmdsynopsis
></term>
<listitem
><para
>Tar bort den nuvarande raden.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>replace</command
><arg
>mönster</arg
><arg
>ersättning</arg
></cmdsynopsis
></term>
<listitem
><para
>Ersätter text som matchar <userinput
>mönster</userinput
> med <userinput
>ersättning</userinput
>. Om du vill att <userinput
>mönster</userinput
> ska innehålla blanktecken, måste både <userinput
>mönster</userinput
> och <userinput
>ersättning</userinput
> placeras inom enkla eller dubbla citationstecken. Om argumenten inte är citerade, används det första ordet som <userinput
>mönster</userinput
> och resten som <userinput
>ersättning</userinput
>. Om <userinput
>ersättning</userinput
> är tom, tas varje förekomst av <userinput
>mönster</userinput
> bort.</para>
<para
>Du kan anpassa kommandot genom att lägga till ett kolon följt av en eller flera bokstäver som var och en representerar en inställning, genom att ange <userinput
>replace:alternativ mönster ersättning</userinput
>. Tillgängliga alternativ är: <variablelist>

<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Sök bakåt.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Sök från markörens position.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>e</userinput
></term>
<listitem
><para
>Sök bara i markeringen.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Utför en sökning med ett reguljärt uttryck. Om det anges, kan du använda <userinput
>\N</userinput
>, där N är ett tal, för att representera hittad text i ersättningssträngen.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Utför skiftlägeskänslig sökning.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>p</userinput
></term>
<listitem
><para
>Fråga efter tillåtelse att ersätta nästa förekomst.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>w</userinput
></term>
<listitem
><para
>Matcha bara hela ord.</para
></listitem>
</varlistentry>

</variablelist>

</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>date</command
><arg
>format</arg
></cmdsynopsis
></term>
<listitem
><para
>Infogar en datum- och tidssträng som definieras av angivet <userinput
>format</userinput
>, eller formatet <quote
>yyyy-MM-dd hh:mm:ss</quote
> om inget anges. Följande översättningar görs när <userinput
>format</userinput
> tolkas: <informaltable
> <tgroup cols="2"
> <tbody>
<row
><entry
><literal
>d</literal
></entry
><entry
>Dagen som ett tal utan inledande nolla (1-31).</entry
></row>
<row
><entry
><literal
>dd</literal
></entry
><entry
>Dagen som ett tal med inledande nolla (01-31).</entry
></row>
<row
><entry
><literal
>ddd</literal
></entry
><entry
>Dagens förkortade lokala namn (t.ex. 'mån', 'sön').</entry
></row>
<row
><entry
><literal
>dddd</literal
></entry
><entry
>Dagens långa lokala namn (t.ex. 'måndag', 'söndag').</entry
></row>
<row
><entry
><literal
>M</literal
></entry
><entry
>Månaden som ett tal utan inledande nolla (1-12).</entry
></row>
<row
><entry
><literal
>MM</literal
></entry
><entry
>Månaden som ett tal med inledande nolla (01-12).</entry
></row>
<row
><entry
><literal
>MMM</literal
></entry
><entry
>Månadens förkortade lokala namn (t.ex. 'jan', 'dec').</entry
></row>
<row
><entry
><literal
>yy</literal
></entry
><entry
>Året som ett tal med två siffror (00-99).</entry
></row>
<row
><entry
><literal
>yyyy</literal
></entry
><entry
>Året som ett tal med fyra siffror (1752-8000)</entry
></row>
<row
><entry
><literal
>h</literal
></entry
><entry
>Timman utan inledande nolla (0-23 eller 1-12 om FM/EM visas).</entry
></row>
<row
><entry
><literal
>hh</literal
></entry
><entry
>Timman med inledande nolla (00-23 eller 01-12 om FM/EM visas).</entry
></row>
<row
><entry
><literal
>m</literal
></entry
><entry
>Minuten utan inledande nolla (0-59).</entry
></row>
<row
><entry
><literal
>mm</literal
></entry
><entry
>Minuten med inledande nolla (00-59).</entry
></row>
<row
><entry
><literal
>s</literal
></entry
><entry
>Sekunden utan inledande nolla (0-59).</entry
></row>
<row
><entry
><literal
>ss</literal
></entry
><entry
>Sekunden med inledande nolla (00-59).</entry
></row>
<row
><entry
><literal
>z</literal
></entry
><entry
>Millisekunden utan inledande nolla (0-999).</entry
></row>
<row
><entry
><literal
>zzz</literal
></entry
><entry
>Millisekunden med inledande nolla (000-999).</entry
></row>
<row
><entry
><literal
>AP</literal
></entry
><entry
>Använd FM/EM visning. AP ersätts antingen av "FM" eller "EM".</entry
></row>
<row
><entry
><literal
>ap</literal
></entry
><entry
>Använd fm/em visning. ap ersätts antingen av "fm" eller "em".</entry
></row>

</tbody>
</tgroup>
</informaltable>

</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>char</command
><arg
>identifierare</arg
></cmdsynopsis
></term>
<listitem>
<para
>Det här kommandot låter dig infoga enskilda tecken med deras numeriska kod, på decimal, oktal eller hexadecimal form. För att använda det, starta dialogrutan för redigeringskommandot och skriv <userinput
>char: [nummer]</userinput
> i inmatningsrutan, och tryck sedan på <guibutton
>Ok</guibutton
>.</para>

<example>
<title
>Exempel på användning av <command
>char</command
></title>

<para
>Inmatning: <userinput
>char:234</userinput
></para>
<para
>Utmatning: <computeroutput
>&#234;</computeroutput
></para>
<para
>Inmatning: <userinput
>char:0x1234</userinput
></para>
<para
>Utmatning: <computeroutput
>&#x1234;</computeroutput
></para>
</example>

</listitem>
</varlistentry>

<varlistentry>
<term>
<indexterm
><primary
>ersätt, sed-stil</primary>
<secondary
>sök, sed-stil</secondary
></indexterm>
<command
>s///[ig]</command
> <command
>%s///[ig]</command
></term>

<listitem>
<para
>Det här kommandot söker och ersätter på ett sätt som liknar sed, för den nuvarande raden, eller för hela filen (<command
>%s///</command
>).</para>

<para
>I kortet, så söks texten igenom efter en text som matchar <emphasis
>sökmönstret</emphasis
>, det reguljära uttrycket mellan det första och andra snedstrecket, och vid en träff så ersätts texten med uttrycket mellan mitten och sista delen av strängen. Parenteser i sökmönstret skapar <emphasis
>bakåtreferenser</emphasis
>, det vill säga kommandot kommer ihåg vilken del av texten som matchade inom parenteserna. De här strängarna kan återanvändas i ersättningsmönstret, med referenserna <userinput
>\1</userinput
>, för första paret parenteser, <userinput
>\2</userinput
> för det andra, och så vidare.</para>

<para
>För att söka efter tecknen <literal
>(</literal
> eller <literal
>)</literal
>, måste du <emphasis
>undanta</emphasis
> dem med ett bakstreckstecken <userinput
>\(\)</userinput
>.</para>

<para
>Om du lägger till <userinput
>i</userinput
> sist i uttrycket, blir matchningen skiftlägesokänslig. Om du lägger till <userinput
>g</userinput
> sist, ersätts alla förekomster av mönstret, annars ersätts bara den första förekomsten.</para>

<example>

<title
>Ersätta text på den nuvarande raden</title>

<para
>Din vänliga kompilator stannade just, och talade om för dig att klassen <literal
>minKlass</literal
> som nämns på rad 3902 i din källkodsfil inte är definierad.</para>

<para
>&quot;Tusan också!&quot; tänker du. Det ska förstås vara <literal
>MinKlass</literal
>. Du går till rad 3902, och istället för att försöka hitta ordet i texten, så startar du dialogrutan för redigeringskommandot, och skriver in <userinput
>s/minklass/MinKlass/i</userinput
>, trycker på knappen <guibutton
>Ok</guibutton
>, sparar filen och kompilerar &ndash; utan problem med felet borta.</para>

</example>

<example>
<title
>Ersätta text i hela filen</title>

<para
>Antag att du har en fil där du nämner namnet <quote
>Anna Johansson</quote
> flera gånger, och någon kommer in och talar om för dig att hon precis har gift sig och bytt namn till <quote
>Anna Svensson</quote
>. Du vill, förstås, byta ut alla förekomster av <quote
>Anna Johansson</quote
> mot <quote
>Anna Svensson</quote
>.</para>

<para
>Starta kommandoraden, och skriv in kommandot: <userinput
>%s/Anna Johansson/Anna Svensson/</userinput
>, tryck på returtangenten och du är klar.</para>

</example>

<example>
<title
>Ett mer avancerat exempel</title>

<para
>Det här exemplet använder <emphasis
>bakåtreferenser</emphasis
> samt en <emphasis
>ordklass</emphasis
> (om du inte vet vad det är, se tillhörande dokumentation som nämns nedan).</para>

<para
>Antag att du har följande rad: <programlisting
>void MinKlass::StrOperation( String      &amp;x, String &amp;y String *p, int  &amp;a, int &amp;b )</programlisting>
</para>
<para
>Nu inser du att det inte är bra kod, och bestämmer dig för att du vill använda nyckelordet <constant
>const</constant
> för alla <quote
>adress</quote
>- parametrar, de som markeras med operatorn &amp; framför argumentets namn. Du skulle också vilja förenkla blanktecknen, så att det bara finns ett blanktecken mellan varje ord.</para>

<para
>Starta dialogrutan för redigeringskommandot, skriv in: <userinput
>s/\s+(\w+)\s+(&amp;)/ const \1 \2/g</userinput
> och tryck sedan på knappen <guibutton
>Ok</guibutton
>. Tecknet <userinput
>g</userinput
> i slutet på raden gör att det reguljära uttrycket görs om för varje träff, så att  <emphasis
>bakåtreferenserna</emphasis
> sparas.</para>

<para
>Utmatning: <computeroutput
>void MinKlass::StrOperation( const String &amp;x, const String &amp;y String *p, const int &amp;a, const int &amp;b )</computeroutput
></para>

<para
>Åtgärden utförd! Vad hände nu egentligen? Ja, vi letade efter blanktecken (<literal
>\s+</literal
>), följt av en eller flera bokstäver (<literal
>\w+</literal
>), följt av ytterligare blanktecken (<literal
>\s+</literal
>), följt av ett och-tecken, och sparade bokstäverna samt och-tecknet för att återanvända i ersättningsoperationen. Därefter ersatta vi den matchande delen av vår rad, med ett blanktecken följt av <quote
>const</quote
>, följt av ett blanktecken, följt av våra sparade bokstäver (<literal
>\1</literal
>), följt av vårt sparade och-tecken (<literal
>\2</literal
>)</para>

<para
>I vissa fall var bokstäverna <quote
>String</quote
>, i andra <quote
>int</quote
>, så att använda teckenklassen <literal
>\w</literal
> och tecknet <literal
>+</literal
> visade sig vara en värdefull tillgång.</para>

</example>

</listitem>

</varlistentry>

</variablelist>

</sect3>

<sect3 id="advanced-editing-tools-commandline-commands-navigation">
<title
>Kommandon för navigering</title>

<variablelist>

<varlistentry>
<term
><cmdsynopsis
><command
>goto</command
><arg
>HELTAL rad</arg
></cmdsynopsis
></term>
<listitem
><para
>Det här kommandot går till den angivna raden.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>find</command
><arg
>mönster</arg
></cmdsynopsis
></term>
<listitem
><para
>Kommandot går till första förekomsten av <userinput
>mönster</userinput
> enligt inställningen. Följande förekomster kan hittas genom att använda <menuchoice
><guimenu
>Redigera</guimenu
> <guimenuitem
>Sök igen</guimenuitem
></menuchoice
> (normal snabbtangent är <keycap
>F3</keycap
>).</para>
<para
>Kommandot kan anpassas genom att lägga till ett kolon följt av ett eller flera alternativ. Formatet är <userinput
>find:alternativ mönster</userinput
>. Följande alternativ stöds: <variablelist>

<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Sök bakåt.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Sök från markörens position.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>e</userinput
></term>
<listitem
><para
>Sök bara i markeringen.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Utför en sökning med ett reguljärt uttryck. Om det anges, kan du använda <userinput
>\N</userinput
>, där N är ett tal, för att representera hittad text i ersättningssträngen.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Utför skiftlägeskänslig sökning.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>w</userinput
></term>
<listitem
><para
>Matcha bara hela ord.</para
></listitem>
</varlistentry>

</variablelist>

</para>

</listitem>

</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>ifind</command
><arg
>mönster</arg
></cmdsynopsis
></term>
<listitem
><para
>Kommandot tillhandahåller <quote
>sökning medan du skriver</quote
>. Du kan ställa in beteendet eller sökningen genom att lägga till ett kolon följt av ett eller flera alternativ, på detta sätt: <userinput
>ifind:alternativ mönster</userinput
>. Tillåtna alternativ är: <variablelist>
<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Sök bakåt.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Gör en sökning med ett reguljärt uttryck.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Utför skiftlägeskänslig sökning.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Sök från markörens position.</para
></listitem>
</varlistentry>

</variablelist>
</para
></listitem>
</varlistentry>

</variablelist>

</sect3>

</sect2>

</sect1>

<sect1 id="advanced-editing-tools-code-folding">
<title
>Använda kodvikning</title>

<para
>Kodvikning låter dig dölja delar av ett dokument i editorn, vilket gör det lättare att få en överblick av stora dokument. I &kate; görs beräkningen av områden som kan fällas ihop genom att använda reglerna som anges i definitionerna av syntaxfärgläggning, och därför är det bara tillgängligt i vissa format, typiskt i programkällkod, XML-markering och liknande. De flesta definitioner av syntaxfärgläggning som stöder kodvikning låter dig också manuellt definiera områden som kan fällas ihop, typiskt genom att använda nyckelorden <userinput
>BEGIN</userinput
> och <userinput
>END</userinput
>.</para>

<para
>För att använda kodvikningsfunktionen, aktivera vikmarkörer genom att använda menyalternativet <menuchoice
><guimenu
>Visa</guimenu
> <guimenuitem
>Visa vikmarkörer</guimenuitem
></menuchoice
> om de inte redan är synliga. Vikmarkörrutan till vänster på skärmen visar en grafisk vy av områden som kan fällas ihop, med tecknen +/- för att ange möjliga åtgärder för ett givet område: tecknet - betyder att området är expanderat, och att klicka på - fäller ihop området så att tecknet + visas istället.</para>

<para
>Fyra kommandon tillhandahålls för att hantera tillståndet hos områden som kan fällas ihop, se <link linkend="view-code-folding"
>menydokumentationen</link
>. </para>

<para
>Om du inte vill använda kodvikningsfunktionen kan du inaktivera alternativet <guilabel
>Visa vikmarkörer (om tillgängliga)</guilabel
> på <link linkend="config-dialog-editor-appearance"
>sidan Utseende i inställningen av editorn</link
>.</para>

</sect1>

<sect1 id="advanced-editing-tools-scripting">

<title
>Skapa skript för editorkomponenten med Javaskript</title>

<sect2 id="advanced-editing-tools-scripting-introduction">

<title
>Inledning</title>

<para
>Från och med version 2.5, stöder &kate;s editorkomponent skript med ECMA-skript, också känt som Javaskript.</para>

<para
>Skript kan bara användas via den <link linkend="advanced-editing-tools-commandline"
>inbyggda kommandoraden</link
>. Kravet är att skriptet placeras i en katalog där &kate; kan hitta det, tillsammans med en valfri .desktop-fil som definierar tillhörande egenskaper. Den giltiga katalogen heter <filename
>katepart/scripts</filename
> i &kde;:s datakataloger. Du kan hitta datakatalogerna genom att utföra kommandot <command
>kde-config <option
>--path</option
> <parameter
>data</parameter
></command
>. Du har oftast åtminstone en system och en personlig datakatalog. Naturligtvis är skript i systemdatakatalogen tillgänglig för alla användare på systemet, medan de i den personliga katalogen bara är tillgängliga för dig själv.</para>

<note
><para
>Funktionen är experimentell, och kommer troligen att ändras under framtida utveckling.</para>
<para
>Vi vet att många kommer att vara besvikna eftersom man inte kan lägga till skript i menyn, eller tilldela dem snabbtangenter. Ursäkta, men någon gång i framtiden kommer det troligen att vara möjligt.</para>
<para
>Det är också ännu inte möjligt att skicka några argument till skript. Ha tålamod, så kan det läggas till i en ljus framtid.</para>
</note>

</sect2>

<sect2 id="advanced-editing-tools-scripting-reference">

<title
>Kates programmeringsgränssnitt för Javaskript</title>

<para
>Här anges den fullständiga uppsättningen funktioner och egenskaper som är tillgänglig i objekten <type
>document</type
> och <type
>view</type
>. Dessutom kan du förstås använda alla standardobjekt som <type
>Math</type
>, <type
>String</type
>, <type
>Regex</type
> och så vidare.</para>

<para
>När ett skript körs, är objektet <classname
>document</classname
> det nuvarande dokumentet, och objektet <classname
>view</classname
> är den nuvarande vyn.</para>

<note
><para
>Argumenttyperna används förstås inte i Javaskript för närvarande, utan de är endast där för att ange vilket sorts värde som funktionerna förväntar sig.</para
></note>

<variablelist id="advanced-editing-tools-scripting-global">
<title
>Globala funktioner</title>
<varlistentry>
<term
><function
>debug( <parameter
><replaceable
>sträng</replaceable
></parameter
>) [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>parametrar</title>
<listitem
><para
><parameter
>sträng</parameter
> strängen att mata ut</para>
</listitem>
</itemizedlist>
<para
>Matar ut strängen på standardfelutmatningen med <acronym
>kdDebug()</acronym
>. En särskild utmatningsyta används för utmatningen, som inleds med <computeroutput
>Kate (KJS Scripts):</computeroutput
>. </para>
</listitem>
</varlistentry>
</variablelist>

<variablelist id="advanced-editing-tools-scripting-document">
<title
>Programmeringsgränssnittet <classname
>document</classname
></title>

<varlistentry>
<term
><function
>document.attribute( <parameter
><replaceable
>rad</replaceable
> </parameter
>, <parameter
><replaceable
>kolumn</replaceable
></parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>uint rad</parameter
> Raden för positionen där egenskapen hittas.</para
></listitem>
<listitem
><para
><parameter
>uint kolumn</parameter
> Kolumnen för positionen där egenskapen hittas.</para
></listitem>
</itemizedlist>
<para
>Returnerar den numeriska identifieraren för dokumentpositionen [<parameter
>rad</parameter
>,<parameter
>kolumn</parameter
>]. Egenskapen representerar textens synliga utseende eller stil, och används också för att beräkna syntaxfärgläggningen för en viss del av texten i blandade format som HTML eller PHP.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.canBreakAt( <parameter
>Char c</parameter
>, <parameter
>uint egenskap</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>c</parameter
> Tecknet att testa</para
></listitem>
<listitem
><para
><parameter
>egenskap</parameter
> Egenskapen på positionen för <parameter
>c</parameter
>.</para
></listitem>
</itemizedlist>
<para
>Returnerar om radbrytning är tillåten vid tecknet c med egenskapen egenskap. Resultatet bestäms genom att fråga egenskapen som äger färgläggningen om vilka tecken som tillåts vid radbrytning.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.canComment( <parameter
>uint start_egenskap</parameter
>, <parameter
>uint slut_egenskap</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>start_egenskap</parameter
> Egenskapen i början av intervallet som ska ändras till en kommentar.</para
></listitem>
<listitem
><para
><parameter
>slut_egenskap</parameter
> Egenskapen i slutet av intervallet som ska ändras till en kommentar.</para
></listitem>
</itemizedlist>
<para
>Returnerar om start_egenskap och slut_egenskap hör till samma syntaxfärgläggningssystem. Om de gör det, är det vettigt. </para>
<example>
<title
>using canComment</title>
<programlisting
>if ( document.canComment( document.attribute(1,0), document.attribute(5,0) ) ) {
    // 1,0 och 5,0 hör till samma syntaxfärgläggningssystem
}
</programlisting>
</example>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.clear(); [funktion]</function
></term>
<listitem
><para
>Rensar dokumentet.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentStart( <parameter
>uint egenskap</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>egenskap</parameter
> Egenskapen för texten som strängen commentStart ska hämtas.</para
></listitem>
</itemizedlist>
<para
>Returnerar strängen som krävs för att starta en flerraderskommentar för text med egenskapen, eller en tom sträng om flerraderskommentarer inte stöds för texten.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentMarker( <parameter
>uint egenskap</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>egenskap</parameter
> Egenskapen för texten som strängen commentMarker ska hämtas</para
></listitem>
</itemizedlist>
<para
>Returnerar strängen som används ör att markera resten av raden som en kommentar med egenskapen, eller en tom sträng om kommentarer för enskilda rader inte stöds för texten.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentEnd( <parameter
>uint egenskap</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>egenskap</parameter
> Egenskapen för texten som strängen commentEnd ska hämtas</para
></listitem>
</itemizedlist>
<para
>Returnerar strängen som krävs för att avsluta en flerraderskommentar för text med egenskapen, eller en tom sträng om flerraderskommentarer inte stöds för texten.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.editBegin(); [funktion]</function
></term>
<listitem>
<para
>Starta en redigeringsgrupp. Alla åtgärder som utförs innan anropet editEnd() grupperas som en åtgärd att ångra.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.editEnd(); [funktion]</function
></term>
<listitem>
<para
>Avsluta en redigeringsgrupp.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.highlightMode; [egenskap:skrivskyddad]</function
></term>
<listitem>
<para
>Namnet på dokumentets färgläggningsläge, såsom JavaScript eller C++. Om inget syntaxfärgläggningsläge är inställt för dokumentet, är värdet None. Observera att du måste använda det engelska namnet i fall då det skiljer sig från det översatta.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.indentMode; [egenskap:skrivskyddad]</function
></term>
<listitem>
<para
>Name på dokumentets indenteringsläge, såsom <literal
>normal</literal
> eller <literal
>cstyle</literal
>. Kom ihåg att om inget intenteringsläge är inställt är värdet <literal
>none</literal
>. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.indentWidth; [egenskap:skrivskyddad]</function
></term>
<listitem>
<para
>Indenteringsbredd inställd i dokumentet. Används om indentering med mellanslag är aktiverad.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.insertLine( <parameter
>uint rad</parameter
>, <parameter
>sträng text</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>rad</parameter
> dokumentets radnummer</para>
</listitem>
<listitem
><para
><parameter
>text</parameter
> text att infoga</para
></listitem>
</itemizedlist>
<para
>Infogar en ny rad med texten <parameter
>text</parameter
> på raden <parameter
>rad</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.insertText( <parameter
>uint rad</parameter
>, <parameter
>uint kolumn</parameter
>, <parameter
>sträng text</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>rad</parameter
> radnumret</para
></listitem>
<listitem
><para
><parameter
>kolumn</parameter
> kolumnen</para
></listitem>
<listitem
><para
><parameter
>text</parameter
> texten som ska infogas</para
></listitem>
</itemizedlist>
<para
>Infogar texten <parameter
>text</parameter
> på raden <parameter
>rad</parameter
> och kolumnen <parameter
>kolumn</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.length(); [funktion]</term>
<listitem>
<para
>Returnerar dokumentets storlek i byte.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.lines(); [funktion]</function
></term>
<listitem>
<para
>Returnerar antal rader i dokumentet.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.mixedIndent; [egenskap:skrivskyddad]</term>
<listitem>
<para
>Ett booleskt värde som anger om inställningen för blandad indentering är aktiv för dokumentet. Om det är fallet, optimeras indenteringen att innehålla en blandning av tabulatortecken och mellanslag, liksom den som används av editorn Emacs.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.removeLine( <parameter
>uint rad</parameter
> ); [funktion]</term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>rad</parameter
> radnummer</para
></listitem>
</itemizedlist>
<para
>Tar bort raden rad i dokumentet.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.removeText( <parameter
>uint startrad</parameter
>, <parameter
>uint startkolumn</parameter
>, <parameter
>uint slutrad</parameter
>, <parameter
>uint slutkolumn</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>startrad</parameter
> anger startraden</para
></listitem>
<listitem
><para
><parameter
>startkolumn</parameter
> anger startkolumnen</para
></listitem>
<listitem
><para
><parameter
>slutrad</parameter
> anger slutraden</para
></listitem>
<listitem
><para
><parameter
>slutkolumn</parameter
> anger slutkolumnen</para
></listitem>
</itemizedlist>
<para
>Tar bort textintervallet från raden <parameter
>startrad</parameter
> och kolumnen <parameter
>startkolumn</parameter
> fram till raden <parameter
>slutrad</parameter
> och kolumnen <parameter
>slutkolumn</parameter
>. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.setText( <parameter
>sträng text</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>text</parameter
> dokumentets text</para
></listitem>
</itemizedlist>
<para
>Ändrar hela dokumentets innehåll till <parameter
>text</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.spaceIndent; [egenskap:skrivskyddad]</function
></term>
<listitem>
<para
>Ett booleskt värde som anger om indentering med mellanslag är aktiv för dokumentet. Om det är fallet, indenteras dokumentet med indentWidth mellanslag per nivå, annars sker indentering med ett tabulatortecken per nivå.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textFull(); [funktion]</function
></term>
<listitem>
<para
>Returnerar hela dokumentets text. Om texten omfattar flera rader är radbrytningstecknet <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textLine( uint rad ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>rad</parameter
> raden</para
></listitem>
</itemizedlist>
<para
>Returnerar texten på raden <parameter
>rad</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textRange( <parameter
>uint startrad</parameter
>, <parameter
>uint startkolumn</parameter
>, <parameter
>uint slutrad</parameter
>, <parameter
>uint slutkolumn</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>startrad</parameter
> anger startraden</para
></listitem>
<listitem
><para
><parameter
>startkolumn</parameter
> anger startkolumnen</para
></listitem>
<listitem
><para
><parameter
>slutrad</parameter
> anger slutraden</para>
</listitem>
<listitem
><para
><parameter
>slutkolumn</parameter
> anger slutkolumnen</para
></listitem>
</itemizedlist>
<para
>Returnerar det angivna textintervallet. Om intervallet omfattar flera rader är radbrytningstecknet <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

</variablelist
><!--/ document API -->

<variablelist id="advanced-editing-tools-scripting-view">
<title
>Programmeringsgränssnittet <classname
>view</classname
></title>

<varlistentry>
<term
><function
>view.clearSelection(); [funktion]</function
></term>
<listitem>
<para
>Avmarkerar all text.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorColumn(); [funktion]</function
></term>
<listitem>
<para
>Returnerar den nuvarande markörkolumnen (tabulatortecken expanderas).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorColumnReal(); [funktion]</function
></term>
<listitem>
<para
>Returnerar den nuvarande riktiga markörkolumnen (tabulatortecken räknas som ett tecken).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorLine(); [funktion]</function
></term>
<listitem>
<para
>Returnerar den nuvarande raden med markören.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.hasSelection(); [funktion]</function
></term>
<listitem>
<para
>Returnerar <constant
>true</constant
> om vyn innehåller markerad text, annars <constant
>false</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.removeSelectedText(); [funktion]</function
></term>
<listitem>
<para
>Tar bort den markerade texten, om vyn har en markering.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectAll(); [funktion]</function
></term>
<listitem>
<para
>Markerar all text.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selection(); [funktion]</function
></term>
<listitem>
<para
>Returnerar den markerade texten. Om markeringen omfattar flera rader är radbrytningstecknet <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionEndColumn; [egenskap:skrivskyddad]</function
></term>
<listitem>
<para
>Returnerar markeringens avslutande kolumn.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionEndLine; [egenskap:skrivskyddad]</function
></term>
<listitem>
<para
>Returnerar markeringens avslutande rad.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionStartColumn; [egenskap:skrivskyddad]</function
></term>
<listitem>
<para
>Returnerar markeringens inledande kolumn.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionStartLine; [egenskap:skrivskyddad]</function
></term>
<listitem>
<para
>Returnerar markeringens inledande rad.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setCursorPosition( <parameter
>uint rad</parameter
>, <parameter
>uint kolumn</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>rad</parameter
> Anger rad för markören.</para
></listitem>
<listitem
><para
><parameter
>kolumn</parameter
> Anger kolumn för markören.</para
></listitem>
</itemizedlist>
<para
>Ställer in inmatningsmarkörens position i vyn till [<parameter
>rad</parameter
>, <parameter
>kolumn</parameter
>]. Det här ställer in markörens position på visuellt sätt, dvs. att ett tabulatortecken räknas upp till <parameter
>tabwidth</parameter
> beroende på positionen på raden. Markörens position blir synlig. Både rad och kolumn börjar på noll.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setCursorPositionReal( <parameter
>uint rad</parameter
>, <parameter
>uint kolumn</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>rad</parameter
> Anger rad för markören.</para
></listitem>
<listitem
><para
><parameter
>kolumn</parameter
> Anger kolumn för markören.</para
></listitem>
</itemizedlist>
<para
>Ställer in inmatningsmarkörens position i vyn till [<parameter
>rad</parameter
>, <parameter
>kolumn</parameter
>]. Det här ställer in strängpositionen, dvs. att ett tabulatortecken räknas som 1. Markörens position blir synlig. Både rad och kolumn börjar på noll.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setSelection( <parameter
>uint startrad</parameter
>, <parameter
>uint startkolumn</parameter
>, <parameter
>uint slutrad</parameter
>, <parameter
>uint slutkolumn</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametrar</title>
<listitem
><para
><parameter
>startrad</parameter
> anger startraden</para
></listitem>
<listitem
><para
><parameter
>startkolumn</parameter
> anger startkolumnen</para
></listitem>
<listitem
><para
><parameter
>slutrad</parameter
> anger slutraden</para
></listitem>
<listitem
><para
><parameter
>slutkolumn</parameter
> anger slutkolumnen</para
></listitem>
</itemizedlist>
<para
>Skapar en markering från raden <parameter
>startrad</parameter
> och kolumnen <parameter
>startkolumn</parameter
> fram till raden <parameter
>slutrad</parameter
> och kolumnen <parameter
>slutkolumn</parameter
>.</para>
</listitem>
</varlistentry>

</variablelist>

<example id="advanced-editing-tools-scripting-example">

<title
>Ett exempelskript</title>
<para
>Som ett exempel skapar vi ett litet skript som gör om markeringen till stora bokstäver. Det är uppenbart att vi först måste kontrollera om en markering finns. Om det är fallet, hämtar vi texten, ändrar den till stora bokstäver och ersätter den med den nya. En implementering skulle kunna se ut så här:</para>

<programlisting
>if ( view.hasSelection() )
{
  // gör om markeringen till stora bokstäver
  column = view.selectionStartColumn;
  line = view.selectionStartLine;

  selection = view.selection().toUpperCase();

  document.editBegin();
  view.removeSelectedText();
  document.insertText( line, column, selection );
  document.editEnd();
}
</programlisting>

<para
>För att gruppera ihop åtgärderna så att de ångras med en enda aktivering av <guimenuitem
>Ångra</guimenuitem
>, inkapslar vi raderna <programlisting
>view.removeSelectedText()</programlisting
> och <programlisting
>document.insertText()</programlisting
> med <programlisting
>document.editBegin()</programlisting
> och <programlisting
>document.editEnd()</programlisting
>.</para>

</example>

<example id="advanced-editing-tools-desktop-example">
<title
>Ett exempel på en <filename
>.desktop</filename
>-fil</title>

<para
>Här är ett exempel på en .desktop-fil som följer med skriptet ovan.</para>

<programlisting
># Exempel på en .desktop-fil
[Desktop Entry]
Encoding=UTF-8
Name=Kate Part JavaScript Uppercase
Comment=Script to uppercase the selection
X-Kate-Command=uppercase-selection
X-Kate-Help=&lt;p&gt;Usage: &lt;code&gt;uppercase-selection&lt;/code&gt;&lt;/p&gt;
</programlisting>

<para
>Som du kan se kan du definera kodningen, ange ett namn, en kommentar, en hjälptext med X-Kate-Help och kommandoradsnamnet via X-Kate-Command. Posterna Name, Comment och X-Kate-Help översätts automatiskt till andra språk av KDE:s översättningsgrupper, om filerna finns i KDE:s SVN-arkiv.</para>

</example>

<sect3>
<title
>Sätta ihop allting</title>

<para
>&kate; söker i skriptkatalogerna (se <link linkend="advanced-editing-tools-scripting-introduction"
>ovan</link
>) efter filerna <filename
>*.js</filename
>. För varje fil kontrolleras om det finns en motsvarande <filename
>.desktop</filename
>-fil. I fallet uppercase.js skulle uppercase.desktop letas efter. </para>
<para
>Om en <filename
>.desktop</filename
>-fil inte kan hittas, registreras skriptet på kate-delens kommandorad med filnamnet utan det avslutande .js, så i vårt fall skulle det vara <literal
>uppercase</literal
>. Om kommandonamnet är bra, och du inte behöver de extra funktionerna som en <filename
>.desktop</filename
>-fil tillhandahåller behöver du inte en <filename
>.desktop</filename
>-fil alls. </para>
<para
>Om en <filename
>.desktop</filename
>-fil finns, läser kate-delen namnet som skriptet ska registreras som från posten X-Kate-Command i .desktop-filen, till exempel X-Kate-Command=uppercase-selection.</para>

</sect3>

</sect2>

</sect1>

</chapter>
