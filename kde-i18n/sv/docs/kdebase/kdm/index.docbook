<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN"
"dtd/kdex.dtd" [
  <!ENTITY kappname "&kdm;">
  <!ENTITY package "kdebase">
  <!ENTITY kdmrc "<filename
>kdmrc</filename
>">
  <!ENTITY ksmserver "<application
>ksmserver</application
>">
  <!ENTITY kdesktop "<application
>kdesktop</application
>">
  <!ENTITY XDMCP "<acronym
>XDMCP</acronym
>">
  <!ENTITY xdm "<application
>xdm</application
>">
  <!ENTITY kdmrc-ref SYSTEM "kdmrc-ref.docbook">
  <!ENTITY % addindex "INCLUDE">
  <!ENTITY % Swedish "INCLUDE"
> <!-- change language only here -->
]>

<book lang="&language;">
<bookinfo>
<title
>Handbok Inloggningshanteraren</title>

<authorgroup>
<author
>&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail; </author
><!-- 
<othercredit role="developer">
&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;
<contrib
>Developer</contrib>
</othercredit>
<othercredit role="reviewer">
&Lauri.Watts; &Lauri.Watts.mail;
<contrib
>Reviewer</contrib>
</othercredit
> -->

<othercredit role="translator"
> <firstname
>Stefan</firstname
> <surname
>Asserhäll</surname
> <affiliation
><address
><email
>stefan.asserhall@comhem.se</email
></address
></affiliation
> <contrib
>Översättare</contrib
></othercredit
> 

</authorgroup>

<copyright>
<year
>2000</year>
<holder
>&Neal.Crook;</holder>
</copyright>

<copyright>
<year
>2002</year>
<holder
>&Oswald.Buddenhagen;</holder>
</copyright>

<copyright>
<year
>2003</year>
<holder
>&Lauri.Watts;</holder>
</copyright>

<date
>2003-03-01</date>
<releaseinfo
>0.05.02</releaseinfo>

<abstract>
<para
>Det här dokumentet beskriver &kdm;, KDE:s skärmhanterare. &kdm; kallas också <quote
>inloggningshanteraren</quote
>.</para>
</abstract>

<keywordset>
<keyword
>KDE</keyword>
<keyword
>kdm</keyword>
<keyword
>xdm</keyword>
<keyword
>skärmhanterare</keyword>
<keyword
>inloggningshanterare</keyword>
</keywordset>
</bookinfo>

<!-- ********************************************************************** -->  
<chapter id="introduction">
<title
>Inledning</title>

<para
>Inloggningshanteraren tillhandahåller ett grafiskt gränssnitt som låter dig logga in på ett system. Det begär användarnamn (inloggning) och lösenord, verifierar användarens identitet och startar en <quote
>session</quote
>. &kdm; är överlägsen <application
>xdm</application
>, X Display Manager, på ett antal olika sätt.</para>

</chapter>

<!-- Chapters to write -->
<!-- * Just enough config to get it to run and login to KDE 
     * Adding more session types (GNOME, etc)
     * Adding other customizations to XSession (ssh/gpg-agent, etc)
     * Further customization to KDM (via the kcontrol module, and by 
       hand)
     * XDMCP by query
     * XDMCP by broadcast
     * Sound transparency (if Ade can tell me how!)
     * Document all Keys in the Config File
     * Pull in all options from the KControl Module
     * More resources
-->

<chapter id="quickstart">
<title
>Snabbstartsguide</title>

<para
>Det här är en snabbstartsguide för användare som överensstämmer med följande:</para>

<itemizedlist>
<listitem>
<para
>X är inställt och fungerar med kommandot <command
>startx</command
> från kommandoraden.</para>
</listitem>
<listitem>
<para
>Varje användare kommer i allmänhet bara använda en enda fönsterhanterare eller skrivbordsmiljö, och ändrar in valet särskilt ofta, eller har inga problem med att redigera en textfil för att ändra sitt val.</para>
</listitem>
</itemizedlist>

<para
>Detta scenario är tillräckligt för många miljöer där en enda användare, eller flera användare, normalt startar datorn och loggar in till miljön de föredrar.</para>

<procedure>
<title
>Ställa in en normalsession</title>
<step>
<para
>Skapa eller öppna filen <filename
>~/.xinitrc</filename
></para>
<para
>Om du redan har en fungerande <filename
>~/.xinitrc</filename
>, gå till nästa steg</para>
</step>
<step>
<para
>Om det inte redan finns en, lägg till en rad i <filename
>~/.xinitrc</filename
> för att starta fönsterhanteraren eller skrivbordsmiljön du föredrar.</para>
<para
>För &kde; ska du skriva in:</para>
<screen
><userinput
>startkde</userinput
></screen>
<para
>För andra fönsterhanterare eller skrivbordsmiljöer, måste du titta i deras dokumentation för att hitta rätt kommando.</para>
</step>
<step
><para
>Gör följande länk:</para>
<screen
><userinput
><command
>ln</command
> <option
>-s</option
> <parameter
>~/.xinitrc ~/.xsession</parameter
></userinput
></screen>
</step>
</procedure>

<para
>Skriver du nu <userinput
><command
>startx</command
></userinput
> på kommandoraden, ska X startas med en &kde;-session. Nästa uppgift är att prova &kdm;.</para>

<para
>Som <systemitem class="username"
>root</systemitem
>, skriv <userinput
><command
>kdm</command
></userinput
> på kommandoraden.</para>

<para
>Nu ska du se ett inloggningsfönster, som beskrivs i mer detalj i <xref linkend="login"/>.</para>

<para
>Genom att skriva in ditt normala användarnamn och lösenord i fälten som tillhandahålls, och lämna alternativet <option
>Förval</option
> som vald sessionstyp, ska nu en &kde;-session med ditt användarnamn startas.</para>

<para
>Om du har andra användare som ska ställas in, måste du upprepa proceduren ovan för var och en av dem.</para>

<note>
<para
>Det här är bara en snabbguide för att komma igång och köra. Du vill troligen anpassa inloggningshanteraren ytterligare, till exempel för att dölja namn på systemkonton, för att tillåta ytterligare sessioner, och mycket mer. Läs gärna igenom resten av handboken för att ta reda på hur man gör dessa saker.</para>
</note>

</chapter>

<chapter id="login"
> 
<title
>Inloggningsfönstret</title
> 

<para
>Inloggningshanterarens användargränssnitt består av två dialogrutor. Den huvudsakliga dialogrutan har följande funktioner:</para>

<itemizedlist
> 
<listitem>
<para
>Fältet <guilabel
>Användarnamn</guilabel
> där du anger ditt användarnamn.</para>
</listitem>

<listitem>
<para
>Fältet <guilabel
>Lösenord</guilabel
> där du anger ditt lösenord.</para>
</listitem>

<listitem>
<para
>(Valfritt) en grafisk bild av varje användare (till exempel ett inläst fotografi). Att klicka på en bild är ekvivalent med att skriva in motsvarande användarnamn i  fältet <guilabel
>Användarnamn</guilabel
> (den här funktionen är en imitation av inloggningsrutan på &IRIX;).</para
> 
</listitem>

<listitem>
<para
>Kombinationsrutan <guilabel
>Meny</guilabel
> som låter inloggningshanteraren starta sessioner med diverse olika fönsterhanterare eller skrivbordsmiljöer som är installerade på systemet.</para>
</listitem>

<listitem>
<para
>(Valfritt) ett område till vänster om fälten <guilabel
>Användarnamn</guilabel
> och <guilabel
>Lösenord</guilabel
> som kan användas för att visa en statisk bild eller en analog klocka.</para>
</listitem>

<listitem>
<para
>Knappen <guibutton
>Logga in</guibutton
> som validerar kombinationen av användarnamn/lösenord och försöker starta en session av den valda typen.</para>
</listitem>

<listitem>
<para
>Knappen <guibutton
>Rensa</guibutton
> som tar bort texten från fälten <guilabel
>Användare</guilabel
> och <guilabel
>Lösenord</guilabel
>.</para>
</listitem
> 

<listitem>
<para
>Knappen <guibutton
>Meny</guibutton
>, som visar en åtgärdsmeny med följande alternativ:</para>
 
<itemizedlist>
<listitem>
<para
>(På lokala skärmar) alternativet <guimenuitem
>Starta om X-server</guimenuitem
>, som avslutar &X-Server;n som kör för närvarande, startar en ny och visar inloggningsdialogrutan igen. Du kan använda det här om skärmens innehåll verkar felaktigt på något sätt.</para>
</listitem>

<listitem>
<para
>(På övriga skärmar) alternativet <guimenuitem
>Stäng förbindelsen</guimenuitem
> som stänger förbindelsen med &XDMCP;-servern som du för närvarande är ansluten till. Om du kom till servern via ett värddatorval, kommer du tillbaka till det, annars återställs bara &X-Server;n och inloggningsdialogrutan visas igen.</para>
</listitem>

<listitem>
<para
>(Valfritt på lokala skärmar) alternativet <guimenuitem
>Konsollinloggning</guimenuitem
> som avslutar &X-Server;n som för närvarande kör, och lämnar dig enbart med en inloggning på konsollen. Inloggningshanteraren återstartar den grafiska inloggningen om ingen loggar in på konsollen efter en viss tid.</para>
</listitem>
</itemizedlist>
</listitem>

<listitem>
<para
>(Valfritt) knappen  <guibutton
>Stäng av</guibutton
> som visar dialogrutan <guilabel
>Stäng av</guilabel
>.</para>
</listitem>
</itemizedlist>

<para
>Dialogrutan <guilabel
>Stäng av</guilabel
> visar ett antal alternativknappar som gör att man kan välja ett av följande alternativ:</para>

<variablelist>
<varlistentry>
<term
>Stäng av</term
> 
<listitem>
<para
>Stäng av systemet på ett kontrollerat sätt, klart för att slå av strömmen.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Starta om</term>
<listitem>
<para
>Stäng av systemet och starta om. För system som använder <application
>Lilo</application
>, kan du välja ett visst operativsystem att användas vid omstarten i en valfri kombinationsruta.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Starta om X-server</term
> 
<listitem>
<para
>Avsluta och starta om X-servern. Ett typiskt tillfälle då du kan behöva använda det här alternativet är om du har ändrat X11-inställningar på något sätt.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Konsollinloggning</term>
<listitem>
<para
>Avsluta &X-Server; och återgå till konsolläge. Det här åstadkoms genom att ta ner systemet till körnivå 3. Ett typiskt tillfälle då systemadministratören kan behöva använda det här alternativet är innan X11-programvaran ska uppdateras eller konfigureras om.</para
> 
</listitem>
</varlistentry>
</variablelist>

<para
>Om man trycker på knappen <guibutton
>Ok</guibutton
> så påbörjas den valda åtgärden. Med knappen <guibutton
>Avbryt</guibutton
> återgår man till inloggningshanterarens vanliga dialogruta. </para>

</chapter>

<!-- *********************************************************************** -->
<chapter id="configuring-kdm">
<title
>Anpassa inloggningshanteraren</title>

<para
>Det här kapitlet antar att inloggningshanteraren redan är igång på ditt system, och att du vill ändra beteendet på något sätt.</para>

<para
>När inloggningshanteraren startar, läser den sina inställningar från katalogen <filename class="directory"
>$KDEDIR/share/config/kdm/</filename
> (det kan vara <filename class="directory"
>/etc/kde3/kdm/</filename
> eller något annat på ditt system).</para>

<para
>Huvudinställningsfilen är &kdmrc;. Alla andra filer hänvisas till från den, och kan lagras med vilket namn som helst, var som helst i systemet, men oftast är det inte särskilt vettigt av uppenbara skäl (ett speciellt undantag är hänvisning till inställningsfiler för en &xdm; som redan är installerad. Dock importerar en ny inloggningshanterare inställningar från filerna när den installeras, om den hittar en &xdm; som redan är installerad).</para>

<para
>Eftersom inloggningshanteraren måste vara startad innan någon användare är inloggad, hör den inte till någon särskild användare. Därför är det inte möjligt att ha användarspecifika konfigurationsfiler; alla användare delar på den gemensamma versionen av &kdmrc;. Av detta följer att inloggningshanterarens inställningar bara kan ändras av användare som har skrivrättighet för <filename
>$<envar
>KDEDIR</envar
>/share/config/kdm/kdmrc</filename
> (normalt begränsat till systemadministratörer som är inloggade som <systemitem class="username"
>root</systemitem
>).</para>

<para
>Du kan titta på den aktuella &kdmrc;-filen på ditt system, och du kan anpassa inloggningshanteraren genom att redigera den här filen. Som ett alternativ kan du använda det grafiska inställningsverktyget som tillhandahålls av KDE:s inställningscentral (under <menuchoice
> <guisubmenu
>Systemadministration</guisubmenu
> <guimenuitem
>Inloggningshanterare</guimenuitem
></menuchoice
>), som beskrivs i <ulink url="help:/kcontrol/login-manager.html"
>hjälpfil för inställningscentralen</ulink
>. </para>

<para
>Resten av kapitlet beskriver inställning av inloggningshanteraren via modulen i Inställningscentralen, och <link linkend="kdm-files"
>nästa kapitel</link
> beskriver alternativen som är tillgängliga i själva &kdmrc;. Om du bara ska ställa in lokala användare, bör Inställningscentralen vara tillräcklig för dina behov. Om du måste ställa in inloggning från andra maskiner, eller har flera sessioner av inloggningshanteraren igång, måste du läsa vidare.</para>

<sect1 id="kdm-kcontrol-module">
<sect1info>
<authorgroup>
<author
>&Thomas.Tanghus; &Thomas.Tanghus.mail;</author>
<author
>&Steffen.Hansen; &Steffen.Hansen.mail;</author>
<author
>&Mike.McBride; &Mike.McBride.mail;</author>
</authorgroup>
</sect1info>

<title
>Inloggningshanterarens modul i inställningscentralen</title>

<para
>Med den här modulen kan du ställa in &kde;:s grafiska inloggningshanterare &kdm;. Du kan ändra hur inloggningsskärmen ser ut, vem som har tillgång till datorn med inloggningshanteraren och vem som kan stänga av datorn.</para>

<note
><para
>Alla inställningar skrivs till inställningsfilen &kdmrc;, som i ursprungligt tillstånd har många kommentarer för att hjälpa dig anpassa inloggningshanteraren. Genom att använda Inställningscentralen plockas kommentarerna bort från filen. Alla tillgängliga alternativ i &kdmrc; täcks av <xref linkend="kdm-files"/>.</para>

<para
>Alternativen som listas i det här kapitlet har en korsreferens till motsvarigheterna i &kdmrc;. Alla alternativ som är tillgängliga i Inställningscentralen är också direkt tillgängliga i &kcontrol;, men motsatsen gäller inte.</para
></note>

<para
>För att organisera alla de här alternativen, är modulen uppdelad i flera delar: <link linkend="kdmconfig-appearance"
><guilabel
>Utseende</guilabel
></link
>, <link linkend="kdmconfig-font"
><guilabel
>Teckensnitt</guilabel
></link
>, <link linkend="kdmconfig-background"
><guilabel
>Bakgrund</guilabel
></link
>, <link linkend="kdmconfig-shutdown"
><guilabel
>Stänga av</guilabel
></link
>, <link linkend="kdmconfig-users"
><guilabel
>Användare</guilabel
></link
> och <link linkend="kdmconfig-convenience"
><guilabel
>Bekvämlighet</guilabel
></link
>.</para>

<para
>Du kan byta mellan delarna med flikarna längst upp i fönstret.</para>

<note
><para
>Om du inte är inloggad som systemadministratör, måste du klicka på knappen <guibutton
>Administratörsläge...</guibutton
>. Du tillfrågas då om ett lösenord som systemadministratör. Genom att ange rätt lösenord tillåts du ändra inställningarna i den här modulen.</para
></note>

<sect2 id="kdmconfig-appearance">
<title
>Utseende</title>

<para
>Du kan ändra det visuella utseendet på &kdm;, &kde;:s grafiska inloggningshanterare, från den här sidan.</para>

<para
><guilabel
>Välkomsttext</guilabel
> är inloggningsskärmens rubrik. Att ange den är särskilt användbart om det finns många servrar som användare kan logga in på. Du kan använda olika platsmarkörer som beskrivs tillsammans med motsvarande nyckel <link linkend="option-greetstring"
><option
>GreetString</option
></link
> i &kdmrc;. </para>

<para
>Därefter kan du välja att antingen visa nuvarande systemtid, en logotyp eller ingenting alls i inloggningsrutan. Gör ditt val med alternativknapparna betecknade <guilabel
>Logoområde:</guilabel
>. Det motsvarar <link linkend="option-logoarea"
><option
>LogoArea</option
></link
> i &kdmrc;.</para>

<para
>Om du väljer <guilabel
>Visa logo</guilabel
> kan du nu välja en logotyp:</para>

<itemizedlist>
<listitem>
<para
>Släpp en bildfil på bildknappen.</para>
</listitem>
<listitem>
<para
>Klicka på bildknappen och välj en ny bild från bildväljardialogen.</para>
</listitem>
</itemizedlist>

<para
>Om du inte anger en logotyp visas den förvalda <filename
>$<envar
>KDEDIR</envar
>/share/apps/kdm/pics/kdelogo.xpm</filename
>.</para>

<para
>Normalt centreras inloggningsrutan på skärmen. Använd alternativet <guilabel
>Position:</guilabel
> om du vill att det ska visas på ett annat ställe på skärmen. Du kan ange den relativa positionen (i procent av skärmens storlek) för inloggningsfönstrets centrum, i förhållande till skärmens övre vänstra hörn, med fälten som heter <guilabel
>X:</guilabel
> och <guilabel
>Y:</guilabel
>. De motsvarar nyckelordet <link linkend="option-greeterpos"
><option
>GreeterPos</option
></link
> i &kdmrc;.</para>

<para
>Medan &kde;:s stil beror på inställningarna för användaren som är inloggad, så kan inloggningshanterarens stil anpassas med alternativen <guilabel
>Gränssnittsstil:</guilabel
> och <guilabel
>Färgschema:</guilabel
>. De motsvarar nyckelorden <link linkend="option-guistyle"
><option
>GUIStyle</option
></link
> och <link linkend="option-colorscheme"
><option
>ColorScheme</option
></link
> i &kdmrc;.</para>

<para
>Därunder finns en kombinationsruta för att välja språk för inloggningsrutan, som motsvarar inställningen <option
>Language</option
> i &kdmrc;.</para>

</sect2>

<sect2 id="kdmconfig-font">
<title
>Teckensnitt</title>

<para
>Från den här delen av modulen kan du ändra teckensnitten som används i inloggningsfönstret. Bara teckensnitt som är tillgängliga för alla användare visas här, inte teckensnitt som är installerade för varje enskild användare.</para>

<para
>Du kan välja tre olika teckensnittsstilar från kombinationsrutan (<guilabel
>Allmänt:</guilabel
>, <guilabel
>Fel:</guilabel
>, <guilabel
>Välkomsttext:</guilabel
>). När du klickar på <guibutton
>Välj...</guibutton
> visas en dialogruta där du kan välja den nya inställningen av teckensnittsstilen.</para>

<itemizedlist>
<listitem>
<para
><guilabel
>Allmänt:</guilabel
> är teckensnittet som används på alla andra platser i inloggningsfönstret.</para>
</listitem>
<listitem>
<para
><guilabel
>Fel:</guilabel
> är teckensnittet som används när en inloggning misslyckas.</para>
</listitem>
<listitem>
<para
><guilabel
>Välkomsttext:</guilabel
> är teckensnittet som används för rubriken (välkomsttext).</para>
</listitem>
</itemizedlist>

<para
>Du kan också markera rutan som heter <guilabel
>Använd kantutjämning för teckensnitt</guilabel
> om du vill ha utjämnade teckensnitt i inloggningsdialogrutan.</para>

</sect2>

<sect2 id="kdmconfig-background">
<title
>Bakgrund</title>

<para
>Här kan du ändra skrivbordsbakgrund som visas innan en användare loggar in. Du kan ha en enkel färg eller en bild som bakgrund. Om du har en bild som bakgrund och väljer centrera, kommer den valda bakgrundsfärgen användas runt om bilden om den inte är stor nog att täcka hela skrivbordet.</para>

<para
>Bakgrundsfärgen och effekterna anpassas med alternativen under fliken som heter <guilabel
>Bakgrund</guilabel
>, och du väljer en bakgrundsbild och dess placering från alternativen under fliken som heter <guilabel
>Bakgrundsbild</guilabel
>.</para>

<para
>För att ändra de förinställda bakgrundsfärgerna klicka på endera av färgknapparna och välj en ny färg.</para>

<para
>Kombinationsrutan ovanför färgrutorna tillhandahåller flera olika blandningseffekter. Välj en från listan, och den förhandsvisas i den lilla bildskärmen överst i fönstret. Alternativen är:</para>

<variablelist>
<varlistentry>
<term
>Enfärgad</term>
<listitem
><para
>Genom att välja det här läget, väljer du en färg (med färgknappen som heter <guibutton
>Färg 1</guibutton
>), och hela bakgrunden fylls med den här enda färgen.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Mönster</term>
<listitem
><para
>Genom att välja det här läget, väljer du två färger (med båda färgknapparna). </para
> <para
>Därefter väljer du ett mönster genom att klicka på <guilabel
>Ställ in</guilabel
>. Det här öppnar ett nytt dialogfönster, som ger dig möjlighet att välja ett mönster. Klicka bara på mönstret du vill ha, och klicka sedan på <guibutton
>Ok</guibutton
>, och &kde; visar mönstret du valt med de två färgerna du valde. Se avsnittet <ulink url="help:/kcontrol/background/index.html#bkgnd-patterns"
>Lägga till, ta bort och ändra mönster</ulink
>, för fler mönster.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Bakgrundsprogram</term>
<listitem
><para
>Genom att välja det här alternativet, kan du låta &kde; använda ett externt program för att visa bakgrunden. Det här kan vara vilket program som helst som du väljer. För mer information om det här alternativet se avsnittet <ulink url="help:/kcontrol/background/index.html#bkgnd-programs"
>Använda ett externt program</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Horisontell toning</term>
<listitem
><para
>Genom att välja det här läget, väljer du två färger (med båda färgknapparna). &kde; startar då med färgen som väljs med <guilabel
>Färg 1</guilabel
> vid skärmens vänstra kant, och byter långsamt till den färg som väljs med <guilabel
>Färg 2</guilabel
> när högra skärmkanten väl nåtts.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Vertikal toning</term>
<listitem
><para
>Genom att välja det här läget, väljer du två färger (med båda färgknapparna). &kde; startar då med färgen som väljs med <guilabel
>Färg 1</guilabel
> vid skärmens överkant, och byter långsamt till den färg som väljs med <guilabel
>Färg 2</guilabel
> när skärmens nederkant väl nåtts.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Pyramidtoning</term>
<listitem
><para
>Genom att välja det här läget, väljer du två färger (med båda färgknapparna). &kde; startar då med färgen som väljs med <guilabel
>Färg 1</guilabel
> i varje hörn på skärmens, och byter långsamt till den färg som väljs med <guilabel
>Färg 2</guilabel
> mot skärmens mitt.</para
></listitem
> 
</varlistentry>
<varlistentry>
<term
>Rörkorsningstoning</term>
<listitem
><para
>Genom att välja det här läget, väljer du två färger (med båda färgknapparna). &kde; startar då med färgen som väljs med <guilabel
>Färg 1</guilabel
> i varje hörn på skärmens, och byter långsamt till den färg som väljs med <guilabel
>Färg 2</guilabel
> mot skärmens mitt. Den här toningen har en annan <quote
>form</quote
> än pyramidtoningen.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Elliptisk toning</term>
<listitem
><para
>Genom att välja det här läget, väljer du två färger (med båda färgknapparna). &kde; startar då med färgen som väljs med <guilabel
>Färg 1</guilabel
> i mitten på skärmens, och byter långsamt till den färg som väljs med <guilabel
>Färg 2</guilabel
> mot skärmens hörn, i ett elliptiskt mönster.</para
></listitem
> 
</varlistentry>
</variablelist>

<para
>Inställningsknappen behövs bara om du väljer <guilabel
>Bakgrundsprogram </guilabel
> eller <guilabel
>Mönster</guilabel
>. I dessa fall visas ett annat fönster för att ställa in de specifika alternativen.</para>
<para
><emphasis
>Skrivbordsunderlägg</emphasis
></para>
<para
>För att välja ett skrivbordsunderlägg, klicka först på fliken <guilabel
>Bakgrund</guilabel
>, sedan kan du antingen välja en bild från listan som heter <guilabel
>Bakgrundsbild</guilabel
>, eller genom att klicka på knappen <guibutton
>Bläddra</guibutton
> och välja en bildfil från filväljaren.</para>

<para
>Bilden kan visas på sex olika sätt:</para>
<variablelist>
<varlistentry>
<term
>Ingen bakgrund</term
> 
<listitem
><para
>Ingen bild visas. Bara bakgrundsfärgerna.</para>
</listitem
></varlistentry>
<varlistentry>
<term
>Centrerat</term
> 
<listitem
><para
>Bilden centreras på skärmen utan att ändra storlek på bilden. Bakgrundsfärgerna finns på alla ställen som bilden inte täcker.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Sida vid sida</term>
<listitem
><para
>Bilden kopieras tills den fyller hela skrivbordet. Den första bilden placeras i övre vänstra hörnet på skärmen, och kopieras neråt till höger.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Sida vid sida centrerat</term>
<listitem
><para
>Bilden kopieras tills den fyller hela skrivbordet. Den första bilden placeras i mitten på skärmen, och kopieras uppåt, neråt till höger och till vänster.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Centrerat, max storlek</term>
<listitem
><para
>Bilden placeras i mitten på skärmen. Den skalas så att den fyller skrivbordet, men den ändrar inte längd/bredd förhållandet på originalbilden. Det här ger dig en bild som inte är förvrängd. </para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Förstorat</term>
<listitem
><para
>Bilden skalas så att den fyller skrivbordet. Den sträcks ut i alla fyra hörnen för att passa.</para
> </listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="kdmconfig-shutdown">
<title
><guilabel
>Stäng av</guilabel
></title>

<para
><guilabel
>Tillåt att stänga av</guilabel
></para>
<para
>Använd kombinationsrutorna för att välja vem som kan stänga av datorn:</para>
<itemizedlist>
<listitem>
<para
><guilabel
>Ingen</guilabel
>: Ingen får stänga av datorn med &kdm;. Du måste vara inloggad, och köra ett kommando.</para>
</listitem>
<listitem>
<para
><guilabel
>Alla</guilabel
>: Alla kan stänga av datorn med &kdm;.</para>
</listitem>
<listitem
><para
><guilabel
>Endast root</guilabel
>: &kdm; kräver att <systemitem
>root</systemitem
>-lösenordet skrivs in innan datorn stängs av.</para
></listitem
> 
</itemizedlist>

<para
>Du kan ställa in vem som har tillåtelse att ge ett avstängningskommando oberoende för <guilabel
>Lokal:</guilabel
> och <guilabel
>Fjärr:</guilabel
> användare.</para>

<para
><emphasis
>Kommandon</emphasis
></para
> <para
>Använd textfälten för att definiera det exakta avstängningskommandot.</para
> <para
>Kommandot <guilabel
>Stäng av:</guilabel
> har standardvärdet <command
>/sbin/halt</command
>. Omstartskommandot har standardvärdet <command
>/sbin/reboot</command
>.</para>

<para
>När <guilabel
>Visa uppstartalternativ</guilabel
> är aktiverad, så ger &kdm; dig alternativ för Lilo-starthanterare. För att den här funktionen ska fungera, måste du ange de riktiga sökvägarna till <command
>lilo</command
>-kommandot och till Lilo-mappfilen. Observera att alternativet inte är tillgängligt för alla operativsystem.</para>

</sect2>

<sect2 id="kdmconfig-users">
<title
>Användare</title>

<para
>Härifrån kan du ändra hur användarna representeras i inloggningsfönstret.</para>

<para
>Du kan stänga av inloggningshanterarens användarlista helt och hållet i rutan <guilabel
>Visa användare</guilabel
>. Du kan välja bland:</para>

<variablelist>
<varlistentry>
<term
><guilabel
>Visa lista</guilabel
></term>
<listitem>
<para
>Visa bara användare som du särskilt har valt i listan intill.</para>
<para
>Om du inte markerar rutan visas ingen lista. Det här är den säkraste inställningen, eftersom både giltigt inloggningsnamn och lösenord måste gissas vid en attack. Det är också inställningen att föredra om du har mer än en handfull användare, annars blir listan själv ohanterlig.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Omvänt val</guilabel
></term>
<listitem>
<para
>Tillåter att du istället väljer en lista med användare som <emphasis
>inte</emphasis
> ska visas, och alla andra användare visas.</para>
</listitem>
</varlistentry>
</variablelist>

<para
>Du kan använda <guilabel
>System-UID:er</guilabel
> för att ange ett intervall med giltiga <acronym
>UID</acronym
>:er som visas i listan, oberoende av användare som anges med namn. Normalt visas inte några användar-id mindre än 1000, som ofta är system- eller demonanvändare, eller några användar-id större än 65000.</para>

<para
>Du kan också markera kryssrutan <guilabel
>Sortera användare</guilabel
>, för att få användarlistan sorterad i alfabetisk ordning. Om den inte är markerad, visas användare i den ordning som de listas i lösenordsfilen. Inloggningshanteraren kompletterar också användarnamn automatiskt om du aktiverar alternativet <guilabel
>Automatisk komplettering</guilabel
>.</para>

<para
>Om du väljer att visa användare, så visar inloggningsfönstret bilder (som du väljer) av en lista med användare. När någon är klar att logga in, kan de välja användarnamnet/bilden, och skriva in lösenordet så loggas de in.</para>

<para
>Om du tillåter bilder för användare, kan du anpassa källan för bilderna.</para>

<para
>Du kan ställa in administratörsbilden för varje användare i systemet här. Beroende på ordningen som väljs ovan, kan användare kanske överskrida ditt val.</para>

<para
>Om du väljer att inte visa användare, så kommer inloggningsfönstret att vara mer traditionellt. Användare måste skriva sina användarnamn och lösenord för att logga in. Det här är sättet som är att föredra om du har många användare vid den här terminalen.</para>

</sect2>

<sect2 id="kdmconfig-convenience">
<title
>Bekvämlighet</title>

<para
>Under fliken <guilabel
>Bekvämlighet</guilabel
> kan du anpassa vissa alternativ som gör livet enklare för de lata, som automatisk inloggning eller inga lösenord.</para>

<important
><para
>Vänligen fundera både en och flera gånger innan du använder något av alternativen. Alla alternativ under fliken <guilabel
>Bekvämlighet</guilabel
> är mycket lämpliga för att allvarligt försämra systemets säkerhet. I praktiken ska alternativen bara användas i en fullständigt okritisk miljö, t.ex. en privat dator i hemmet. </para
></important>

<sect3 id="loginmanager-convenience-autologin">
<title
>Automatisk inloggning</title>

<para
>Automatisk inloggning ger vem som helst tillgång till ett visst konto på systemet utan att någon verifiering görs. Du kan aktivera det med alternativet <guilabel
>Aktivera automatisk inloggning</guilabel
>.</para>

<para
>Du kan välja kontot som används för automatisk inloggning i listan som heter <guilabel
>Användare:</guilabel
>.</para>

</sect3>

<sect3 id="loginmanager-convenience-nopasswd">
<title
><guilabel
>Inloggning utan lösenord</guilabel
></title>

<para
>Genom att använda den här funktionen, kan du låta vissa användare logga in utan att behöva ange lösenord. Aktivera den här funktionen med alternativet <guilabel
>Aktivera inloggning utan lösenord</guilabel
>.</para>

<para
>Under alternativet syns en lista med användare i systemet. Aktivera inloggning utan lösenord för enskilda användare genom att markera kryssrutan intill inloggningsnamnen. Normalt är den här funktionen avstängd för alla användare.</para>

<important
><para
>Återigen, det här alternativet ska bara användas i en säker miljö. Om du aktiverar den på ett mer allmänt tillgängligt system, måste du se till att bara användare med stora begränsningar i behörigheterna får tillgång till inloggning utan lösenord, t.ex. <systemitem
>guest</systemitem
>.</para
></important>

<para
>Du kan också välja vilken användare som är <quote
>förvald</quote
> när inloggningshanteraren startar. Normalvärdet är <guilabel
>Ingen</guilabel
>, men du kan välja <guilabel
>Föregående</guilabel
> för att låta inloggningshanteraren normalt välja användaren som senast lyckades logga in, eller du kan <guilabel
>Specificera</guilabel
> en särskilt användare som alltid ska väljas i listan. Du kan också låta inloggningshanteraren fokusera på lösenordsfältet så att du direkt kan skriva in lösenordet.</para>

<para
>Alternativet <guilabel
>Logga in automatiskt efter en X-server krasch</guilabel
> låter dig hoppa över behörighetskontrollen om X-servern kraschar.</para>

</sect3>

</sect2>

</sect1>

</chapter>

&kdmrc-ref;

<!-- ************************************************************ -->   
<chapter id="configuring-your-system-for-kdm">
<title
>Anpassa ditt system för att använda inloggningshanteraren</title>

<para
>Det här kapitlet antar att ditt system redan är anpassat för att använda &X-Window;-systemet, och att du bara behöver anpassa det för att tillåta grafisk inloggning.</para>

<sect1 id="setting-up-kdm">
<title
>Att ställa in inloggningshanteraren</title>

<para
>Den grundläggande inställningen som avgör om din dator startar med en terminalprompt (konsolläge) eller en grafisk inloggning är den förvalda körnivån. Programmet <application
> <ulink url="man:init"
>/sbin/init</ulink
></application
> sätter körnivån beroende på innehållet i konfigurationsfilen <filename
>/etc/inittab</filename
>. Förvalda körnivåer som används av olika &UNIX;-system (och olika &Linux;-distributioner) varierar, men om du tittar i <filename
>/etc/inittab</filename
> bör början på filen likna det här:</para>

<screen
># Default runlevel. The runlevels used by RHS are:
# 0 - halt (Do NOT set initdefault to this)
# 1 - Single user mode
# 2 - Multiuser, without NFS
# 3 - Full multiuser mode
# 4 - unused
# 5 - X11
# 6 - reboot (Do NOT set initdefault to this)

id:3:initdefault:  
</screen>

<para
>Allt utom den sista raden av det här utdraget är kommentarer. De visar att körnivå 5 används för X11 och att körnivå 3 används för fleranvändarläge utan X11 (konsolläge). Den sista raden anger att systemets förvalda körnivå är 3 (konsolläge). Om ditt system använder grafisk inloggning för närvarande (till exempel med &xdm;) så matchar dess förvalda körnivå den som gäller för X11.</para>

<para
>Körnivån med grafisk inloggning (&xdm;) för några vanliga &Linux;-distributioner är:</para>

<itemizedlist>
<listitem
><para
>5 för &RedHat; 3.x och senare, och för &Mandrake;</para
></listitem>
<listitem
><para
>4 för Slackware</para
></listitem>
<listitem
><para
>3 för &SuSE;. 4.x och 5.x</para
></listitem>
</itemizedlist>

<para
>Det första steget i att anpassa ditt system är att försäkra dig om att du kan starta &kdm; från kommandoraden. När det här väl fungerar, kan du ändra dina systeminställningar så att &kdm; startar automatiskt varje gång du startar om systemet.</para>

<para
>För att prova &kdm;, måste du först ta ditt system till en körnivå som inte använder &xdm;. För att göra detta, ge ett kommando som liknar:</para>

<screen
><command
>/sbin/init <option
>3</option
></command
></screen>

<para
>Istället för talet <option
>3</option
> ska du ange den körnivå som är lämplig för konsolläge för ditt system.</para>

<para
>Om ditt system använder Pluggable Authentication Modules (<abbrev
>PAM</abbrev
>), som är normalt i senare &Linux; och &Solaris;-system, bör du kontrollera att din <abbrev
>PAM</abbrev
>-inställning tillåter inloggning via en service som heter <literal
>kde</literal
>. Om du tidigare har använt &xdm; med lyckat resultat, ska du inte behöva göra några ändringar i <abbrev
>PAM</abbrev
>-inställningarna för att kunna använda &kdm;, <filename
>/etc/pam.conf</filename
> eller <filename
>/etc/pam.d/kde</filename
>. Information om anpassning av <abbrev
>PAM</abbrev
> är utanför den här handbokens omfattning, men <abbrev
>PAM</abbrev
> levereras med fullständig dokumentation (försök titta i <filename
>/usr/doc/*pam*/html</filename
>).</para>

<para
>Nu är det dags att prova inloggningshanteraren, genom att ge följande kommando:</para>

<screen
><command
>kdm <option
>-nodaemon</option
></command
>
</screen>

<para
>Om du får inloggningshanterarens dialogruta och du kan logga in, är du på god väg. Det som i huvudsak kan gå fel här är att den dynamiska länkaren inte hittar de delade &Qt;- och &kde;-biblioteken. Om du har en binärdistribution av &kde;-biblioteken, försäkra dig om att &kdm; är installerad där biblioteken tror att &kde; är installerad och försök sätta några miljövariabler att peka på dina &kde;- och &Qt;-bibliotek.</para>

<para
>Till exempel:</para>

<screen
><command
>export <option
>KDEDIR=<replaceable
>/opt/kde</replaceable
></option
></command>
<command
>export <option
>QTDIR=<replaceable
>/usr/lib/qt2</replaceable
></option
></command>
<command
>export <option
>PATH=<replaceable
>$KDEDIR/bin:$QTDIR/bin:$PATH</replaceable
></option
></command>
<command
>export <option
>LD_LIBRARY_PATH=<replaceable
>$KDEDIR/lib:$QTDIR/lib</replaceable
></option
></command
>
</screen>

<para
>Om du fortfarande inte lyckas, försök att starta &xdm; istället, för att försäkra dig om att du inte lider av allvarligare X-konfigurationsproblem.</para>

<para
>När du kan starta inloggningshanteraren med lyckat resultat, kan du börja ersätta &xdm; med &kdm;. Återigen är detta beroende på distributionen.</para>

<itemizedlist>
<listitem>
<para
>För &RedHat;, redigera <filename
>/etc/inittab</filename
>, och leta efter följande rad:</para>
<screen
>x:5:respawn:/usr/X11/bin/xdm -nodaemon</screen>
<para
>och ersätt med:</para>
<screen
>x:5:respawn:/opt/kde/bin/kdm</screen>
<para
>Det talar om för <command
>init</command
>(8) att starta om &kdm; när systemet har körnivå 5. Observera att &kdm; inte behöver väljaren <option
>-nodaemon</option
>.</para>
</listitem>
<listitem>
<para
>För &Mandrake;, startar X11-körnivån i <filename
>/etc/inittab</filename
> skalskriptet <filename
>/etc/X11/prefdm</filename
>, som är inställt att välja mellan flera olika skärmhanterare, inklusive &kdm;. Försäkra dig om att alla sökvägar är riktiga för din installation.</para
> 
</listitem>
<listitem>
<para
>För &SuSE;, redigera <filename
>/sbin/init.d/xdm</filename
> och lägg till en rad i början:</para>

<screen
>. /etc/rc.config
DISPLAYMANAGER=kdm
export DISPLAYMANAGER</screen>
</listitem>
<listitem
><para
>För FreeBSD, redigera <filename
>/etc/ttys</filename
> och leta efter en rad som liknar det här:</para>
<screen
>ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</screen>
<para
>och redigera den till:</para>
<screen
>ttyv8   "/usr/local/bin/kdm"  xterm   on secure</screen>
</listitem>

<listitem
><para
>De flesta övriga distributioner är en variant av någon av dessa.</para
></listitem>
</itemizedlist>

<para
>I det här läget kan du prova &kdm; igen genom att ta ditt system till körnivån som nu ska starta &kdm;. För att göra detta ge ett kommando som det här:</para>

<screen
><command
>/sbin/init <option
>5</option
></command
>
</screen>

<para
>Istället för talet <option
>5</option
> ska du ange den körnivå som är lämplig för att köra X11 på ditt system.</para>

<para
>Det slutliga steget är att redigera <parameter
>initdefault</parameter
> posten i <filename
>/etc/inittab</filename
> för att ange den passande körnivån för X11.</para>

<warning
><para
>Innan du gör den här ändringen, försäkra dig om att du har ett sätt att starta om ditt system om ett problem uppstår. Det här kan vara en <quote
>startdiskett</quote
> som tillhandahålls av din operativsystemdistribution eller en specialgjord <quote
>startdiskett</quote
> såsom <literal
>tomsrtbt</literal
>. Strunta i det här rådet på egen risk.</para
></warning>

<para
>Det omfattar oftast att ändra raden:</para>
<screen
>id:3:initdefault:</screen>
<para
>till</para>
<screen
>id:5:initdefault:</screen>

<para
>När du startar om ditt system, ska du slutligen få inloggningshanterarens grafiska inloggningsruta.</para>

<para
>Om det här steget inte lyckas är det troligaste problemet att miljön som används vid uppstart skiljer sig från den som du hade när du provade på kommandoraden. Om du försöker få två versioner av &kde; att existera tillsammans, var särskilt försiktig så att de inställningar som du använder för dina <envar
>PATH</envar
> och <envar
>LD_LIBRARY_PATH</envar
> miljövariabler är konsekventa, och att startsskripten inte överskrider dem på något sätt.</para>

</sect1>

</chapter>

<chapter id="different-window-managers-with-kdm">
<title
>Stöd för flera fönsterhanterare</title>

<para
>&kdm; detekterar de flesta tillgängliga fönsterhanterare och skrivbordsmiljöer när det körs. Att installera en ny ska automatiskt göra den tillgänglig i &kdm;:s huvuddialogruta <guilabel
>Sessionstyp:</guilabel
>.</para>

<para
>Om du har en mycket ny fönsterhanterare, eller någonting som &kdm; inte stöder, är det första du ska kontrollera att programmet som ska köras finns i <envar
>PATH</envar
> och att dess namn inte har ändrats till något oväntat vid installationen.</para>

<para
>Om fallet är att programmet är för nytt och ännu inte stöds av &kdm;, kan du helt enkelt lägga till en ny session.</para>

<para
>Sessionerna definieras i <firstterm
>.desktop</firstterm
>-filer i <filename class="directory"
>$<envar
>KDEDIR</envar
>/share/apps/kdm/sessions</filename
>. Du kan helt enkelt lägga till en <literal role="extension"
>.desktop</literal
>-fil i den här katalogen med lämpligt namn. Fälten är:</para>

<programlisting
>[Desktop Entry]
Encoding=UTF-8 <lineannotation
>Detta är låst till <option
>UTF-8</option
> och kan utelämnas</lineannotation>

Type=XSession <lineannotation
>Detta är låst till <option
>XSession</option
> och kan utelämnas</lineannotation>

Exec=<replaceable
>namn på körbar fil</replaceable
> <lineannotation
>Skickas till <command
>eval exec</command
> i ett Bourne skal</lineannotation>

TryExec=<replaceable
>namn på körbar fil</replaceable
> <lineannotation
>Stöds men krävs inte</lineannotation>

Name=<replaceable
>namn att visa i &kdm;:s sessionslista</replaceable
></programlisting>

<para
>Det finns också tre <quote
>magiska</quote
> sessioner:</para>

<variablelist>
<varlistentry>
<term
>Förval</term>
<listitem>
<para
>Förvald session i &kdm; är normalt &kde;, men den kan ställas in av systemadministratören. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Egen</term>
<listitem>
<para
>Sessionen Egen kör användarens ~/.xsession om den finns. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Felsäker</term>
<listitem>
<para
>Felsäker kör en mycket enkel session, och är bara användbar i felsökningssyfte. </para>
</listitem>
</varlistentry>
</variablelist>

<para
>För att överskrida en sessionstyp, kopiera .desktop-filen från katalogen data till katalogen config och redigera den som du vill. Att ta bort levererade sessionstyper kan åstadkommas genom att <quote
>skugga</quote
> dem med .desktop-filer som innehåller Hidden=true. För de magiska sessionstyperna finns inga .desktop-filer normalt, men &kdm; låtsas att de gör det, så du kan överskrida dem som alla andra sessionstyper. Antagligen vet du nu redan hur en ny sessionstyp kan läggas till.</para>

</chapter>

<chapter id="xdmcp-with-kdm">
<title
>Att använda inloggningshanteraren för fjärrinloggning (&XDMCP;)</title>

<para
>&XDMCP; är en Open Group standard, <quote
>X Display Manager Control Protocol</quote
> (Styrprotokoll för X-skärmhantering). Det används för att upprätta anslutningar mellan olika system via nätverket.</para>

<para
>&XDMCP; är användbart vid situationer med flera användare, där det finns användare med arbetsstationer och en mer kraftfull server som kan tillhandahålla resurser för att köra flera X-sessioner. &XDMCP; är till exempel ett bra sätt att återanvända gamla datorer: en Pentium- eller till och med 486-dator med 16 Mibyte minne är tillräcklig för att köra X själv, och genom att använda &XDMCP; kan en sådan dator köra en fullt modern &kde;-session från en server. För serverns del, så fort en enda &kde;-session (eller någon annan miljö) kör, så kräver ytterligare en mycket få extra resurser.</para>

<para
>Att tillåta ytterligare ett sätt att logga in på datorn påverkar dock uppenbarligen säkerheten. Du bör bara köra tjänsten om du behöver tillåta andra X-servrar att starta inloggningssessioner på systemet. Användare med en ensam &UNIX;-dator ska inte behöva köra den.</para>

</chapter>

<chapter id="advanced-topics">
<title
>Avancerade ämnen</title>

<sect1 id="command-sockets">
<title
>Kommandouttag</title>

<para
>Det här är en funktion du kan använda för att fjärrstyra &kdm;. Den är i huvudsak avsedd för användning av &ksmserver; och &kdesktop; i en session som kör, men andra tillämpningar är också möjliga.</para>

<para
>Uttagen är &UNIX;-domänuttag som existerar i underkataloger till katalogen som anges av <option
>FifoDir</option
>=. Underkatalogerna är väsentliga för adressering och säkerhet. Uttagen har alla filnamnet <filename
>socket</filename
> och filrättigheterna <literal
>rw-rw-rw-</literal
> (0666). Det beror på att vissa system inte bryr sig om filrättigheterna för uttagsfilerna.</para>

<para
>Det finns två sorters uttag: det allmänna (dmctl) och de för varje skärm (dmctl-&lt;skärm&gt;).</para>

<para
>Det allmänna uttagets underkatalog ägs av systemadministratören, och underkatalogerna för uttagen för varje skärm ägs av användaren som för närvarande äger sessionen (systemadministratören eller den inloggade användaren). Gruppen som äger underkatalogerna kan ställas in med FifoGroup=, annars är det systemadministratören. Underkatalogernas rättigheter är rwxr-x--- (0750).</para>

<para
>Fälten i kommandon åtskiljs av tabulatortecken (<token
>\t</token
>), fälten i en lista åtskiljs av mellanslag, verkliga mellanslag i listfält anges med <token
>\s</token
>.</para>

<para
>Kommandot avslutas med en nyrad (<token
>\n</token
>).</para>

<para
>Samma sak gäller för svar. Svaret vid ett lyckat kommando är <returnvalue
>ok</returnvalue
>, möjligen följt av begärd information. Svaret vid fel är ett ord med samma stil som errno (t.ex. <returnvalue
>perm</returnvalue
>, <returnvalue
>noent</returnvalue
>, etc.), följt av en längre förklaring.</para>

<variablelist>
<title
>Globala kommandon:</title>
<varlistentry>
<term
><command
>login</command
> <option
>skärm</option
> (<parameter
>now</parameter
> | <parameter
>schedule</parameter
>) <parameter
>användare</parameter
> <parameter
>lösenord</parameter
> [sessionsargument]</term>
<listitem>
<para
>Logga in användaren med angiven skärm. Om <parameter
>now</parameter
> anges, avbryts en session som eventuellt kör, annars utförs inloggningen efter sessionen avslutas. Sessionsargument är innehåll för .dmrc, som citeras på liknande sätt som printf. Nycklar som inte anges ges tidigare sparade värden som förval.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Kommandon för varje skärm:</title>
<varlistentry>
<term
><command
>lock</command
></term>
<listitem>
<para
>Skärmen markeras som låst. Om en &X-Server; kraschar i detta tillstånd, utförs ingen automatisk återinloggning, även om alternativet är aktiverat.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>unlock</command
></term>
<listitem>
<para
>Omvänd effekten av <command
>lock</command
>, och återaktivera automatisk återinloggning.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>suicide</command
></term>
<listitem>
<para
>Sessionen som för närvarande kör tvingas att avslutas. Inget försök till automatisk återinloggning görs, men ett schemalagt "login"-kommando utförs.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Kommandon för alla uttag</title>
<varlistentry>
<term
><command
>caps</command
></term>
<listitem>
<para
>Returnerar en lista med det som uttaget kan hantera:</para>

<variablelist>
<varlistentry>
<term
><returnvalue
>&kdm;</returnvalue
></term>
<listitem>
<para
>Identifierar &kdm;, ifall någon annan skärmhanterare också implementerar protokollet.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>list</returnvalue
>, <returnvalue
>lock</returnvalue
>, <returnvalue
>suicide</returnvalue
>, <returnvalue
>login</returnvalue
></term>
<listitem>
<para
>Respektive kommando stöds.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>bootoptions</returnvalue
></term>
<listitem>
<para
>Kommandot <command
>listbootoptions</command
> och <option
>=</option
> för kommandot <command
>shutdown</command
> stöds.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>shutdown &lt;lista&gt;</returnvalue
></term>
<listitem>
<para
><command
>shutdown</command
> stöds för listan med användare (en lista åtskild med kommatecken). <returnvalue
>*</returnvalue
> betyder alla behörighetskontrollerade användare.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke &lt;lista&gt;</returnvalue
></term>
<listitem>
<para
>Framtvingad avstängning kan utföras av listade användare.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke</returnvalue
></term>
<listitem>
<para
>Framtvingad avstängning kan utföras av vem som helst.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>reserve &lt;nummer&gt;</returnvalue
></term>
<listitem>
<para
>Reservskärmar är inställda, och <returnvalue
>nummer</returnvalue
> är för närvarande tillgängliga.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>list</command
> [<parameter
>all</parameter
> | <parameter
>alllocal</parameter
>]</term>
<listitem>
<para
>Returnera en lista med sessioner som kör. Normalt listas alla aktiva sessioner. Om <parameter
>all</parameter
> anges, listas också passiva sessioner. Om <parameter
>alllocal</parameter
> anges, listas också passiva sessioner, men inkommande fjärrsessioner hoppas över.</para>
<para
>Varje sessionspost består av flera värden åtskilda med kommatecken:</para>
<itemizedlist>
<listitem
><para
>Skärm eller TTY-namn</para
></listitem>
<listitem
><para
>VT-namn för lokala sessioner</para
></listitem>
<listitem
><para
>Den inloggade användarens namn, tomt för passiva sessioner och utgående fjärrsessioner (lokalt väljarläge)</para
></listitem>
<listitem
><para
>Sessionstyp eller <quote
>&lt;remote&gt;</quote
> för utgående fjärrsessioner, tomt för passiva sessioner.</para
></listitem>
<listitem
><para
>Ett flagfält:</para>
<itemizedlist
><listitem
><para
><literal
>*</literal
> för skärmen som hör till uttaget som utför begäran.</para
></listitem>
<listitem
><para
><literal
>!</literal
> för sessioner som inte kan avbrytas av uttaget som utför begäran.</para
></listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<para
>Nya fält kan läggas till i framtiden.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>reserve</command
> [<parameter
>tidsgräns i sekunder</parameter
>]</term>
<listitem>
<para
>Starta en reservinloggningsskärm. Om ingen loggar in inom den angivna tiden (normalt en minut), tas skärmen bort igen. När sessionen för skärmen avslutas, tas också skärmen bort.</para>
<para
>Tillåts bara för lokala skärmars uttag och det allmänna uttaget.</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>activate</command
> (<parameter
>vt</parameter
>|<parameter
>skärm</parameter
>)</term>
<listitem>
<para
>Byt till en särskild VT (virtuell terminal). En VT kan antingen anges direkt (t.ex. <parameter
>vt3</parameter
>) eller enligt skärmen som använder den (t.ex. <parameter
>:2</parameter
>).</para>
<para
>Tillåts bara för lokala skärmars uttag och det allmänna uttaget.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>listbootoptions</command
></term>
<listitem>
<para
>Lista tillgängliga startalternativ.</para>
<!--FIXME: "ok" list default current
    default and current are indices into the list and are -1 if unset or
    undeterminable. -->
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown</command
> (<parameter
>reboot</parameter
> | <parameter
>halt</parameter
>) [<parameter
>=<replaceable
>startval</replaceable
></parameter
>] (<parameter
>ask</parameter
>|<parameter
>trynow</parameter
>| <parameter
>forcenow</parameter
>|<parameter
>schedule</parameter
>|<parameter
>start (<parameter
>-1</parameter
>|<parameter
>slut (<parameter
>force</parameter
>|<parameter
>forcemy</parameter
>| <parameter
>cancel)</parameter
>)</parameter
>)</parameter
>)</term>
<listitem>
<para
>Begär en avstängning av datorn, antingen en omstart eller ett stopp/avstängning.</para>
<para
>Ett val av operativsystem för nästa start kan anges från listan som returneras av <command
>listbootoptions</command
>.</para>
<para
>Avstängningar som begärs från uttag för varje skärm utförs när den nuvarande sessionen för den skärmen avslutas. En sådan begäran kan göra att en dialogruta dyker upp som frågar efter bekräftelse och/eller behörighet.</para>
<para
><parameter
>start</parameter
> är tiden då avstängningen är schemalagd. Om den börjar med ett plustecken, läggs aktuell tid till. Noll betyder omedelbart.</para>
<para
><parameter
>slut</parameter
> är den senaste tid som avstängningen ska utföras om aktiva sessioner fortfarande kör. Om den börjar med ett plustecken läggs starttiden till. -1 betyder vänta för evigt. Om slutet nås och aktiva sessioner fortfarande kör, kan &kdm; göra något av följande:</para>
<itemizedlist>
<listitem
><para
><parameter
>cancel</parameter
> - ge upp avstängningen</para
></listitem>
<listitem
><para
><parameter
>force</parameter
> - stäng av oavsett</para
></listitem>
<listitem
><para
><parameter
>forcemy</parameter
> - stäng av oavsett om alla aktiva sessioner tillhör användaren som utför begäran. Bara för uttag för varje skärm.</para
></listitem>
</itemizedlist>
<para
><parameter
>start</parameter
> och <parameter
>slut</parameter
> anges som sekunder sedan &UNIX;-epoken.</para>
<para
><parameter
>trynow</parameter
> är en synonym för <parameter
>0 0 cancel</parameter
>, <parameter
>forcenow</parameter
> för <parameter
>0 0 force</parameter
> och <parameter
>schedule</parameter
> för <parameter
>0 -1</parameter
>.</para>
<para
><parameter
>ask</parameter
> försöker att stänga av omedelbart och utför interaktion med användaren om aktiva sessioner fortfarande kör. Bara för uttag för varje skärm.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown cancel</command
> [<parameter
>local</parameter
>|<parameter
>global</parameter
>}</term>
<listitem>
<para
>Avbryt en schemalagd avstängning. Det allmänna uttaget avbryter alltid den nuvarande avvaktande avstängningen, medan uttag för varje skärm normalt avbryter sin köade begäran.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown status</command
></term>
<listitem>
<para
>Returnerar en lista med information om avstängningar.</para>
<para
>Posterna är flera värden åtskilda av kommatecken:</para>
<itemizedlist>
<listitem>
<para
>(<returnvalue
>global</returnvalue
>|<returnvalue
>local</returnvalue
>) - avvaktande mot köad avstängning. En lokal post kan bara returneras av ett uttag för en viss skärm.</para>
</listitem>
<listitem
><para
>(<returnvalue
>halt</returnvalue
>|<returnvalue
>reboot</returnvalue
>)</para
></listitem>
<listitem
><para
>start</para
></listitem>
<listitem
><para
>slut</para
></listitem>
<listitem
><para
>("ask"|"force"|"forcemy"|"cancel")</para
></listitem>
<listitem
><para
>Numeriskt användar-id för användaren som utför begäran, eller -1 för det allmänna uttaget.</para
></listitem>
<listitem
><para
>Val av operativsystem för nästa start eller "-" för inget.</para
></listitem>
</itemizedlist>
<para
>Nya fält kan läggas till senare</para>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</varlistentry>
</variablelist>
<para
>Det finns två sätt att använda uttagen:</para>
<itemizedlist>
<listitem>
<para
>Ansluta direkt till dem. FifoDir exporteras som $<envar
>DM_CONTROL</envar
>. Namnet på uttag för varje skärm kan härledas från $<envar
>DISPLAY</envar
>.</para>
</listitem>
<listitem>
<para
>Genom att använda kommandot <command
>kdmctl</command
> (t.ex. inne i ett skalskript). Prova <command
>kdmctl</command
> <option
>-h</option
> för att ta reda på mer.</para>
</listitem>
</itemizedlist>

<para
>Här är ett exempel på ett Bash-skript för att <quote
>starta om med FreeBSD</quote
>:</para>

<programlisting
>if kdmctl | grep -q shutdown; then
  IFS=$'\t'
  set -- `kdmctl listbootoptions`
  if [ "$1" = ok ]; then
        fbsd=$(echo "$2" | tr ' ' '\n' | sed -ne 's,\\s, ,g;/freebsd/I{p;q}')
        if [ -n "$fbsd" ]; then
          kdmctl shutdown reboot "=$fbsd" ask &gt; /dev/null
        else
          echo "Start med FreeBSD inte tillgänglig."
        fi
  else
        echo "Startalternativ inte tillgängliga."
  fi
else
  echo "Kan inte starta om datorn."
fi</programlisting>

</sect1>
<!-- Riddell: so there's no GUI you need to edit kdmrc to say UseTheme=true and Theme=/path/to/theme.xml
[13:31] <Riddell
> jriddell.org/programs has an example theme 

<sect1 id="dm-themes">
<title
>Themes</title>

&kdm; has limited support for desktop manager themes.  You may enable them
by adding <userinput
>UseTheme=true</userinput
> to <filename
>kdmrc</filename>
and <userinput
>Theme=/path/to/theme.xml</userinput
>.  
</sect1>
-->
</chapter>

<chapter id="Other-Information">
<title
>Övriga informationskällor</title>

<para
>Eftersom &kdm; härrör från &xdm;, kan <ulink url="man:xdm"
>&xdm;-manualsidan</ulink
> ge användbar bakgrundsinformation. För problem relaterade till X, försök med manualsidorna för <ulink url="man:X"
>X</ulink
> och <ulink url="man:startx"
>startx</ulink
>. Om du har frågor om &kdm; som inte besvaras av den här handboken, kan du dra nytta av det faktum att &kdm; tillhandahålls under villkoren i <abbrev
>GNU</abbrev
> General Public License: genom att titta i källkoden. </para>

</chapter>


<chapter id="credits"
><title
>Tack till och licens</title>

<para
>&kdm; utgår från, och innehåller kod från, &xdm; © Keith Packard, MIT X Consortium.</para>

<para
>&kdm; 0.1 är skrivet av &Matthias.Ettrich;. Senare versioner till &kde; 2.0.x är skrivna av &Steffen.Hansen;. Vissa nya funktioner för &kde; 2.1.x och en större omskrivning för &kde; 2.2.x gjordes av &Oswald.Buddenhagen;.</para>

<para
>Övriga delar av &kdm;-koden är copyright av upphovsmännen, och licenseras under villkoren i <ulink url="common/gpl-license.html"
>&GNU; GPL</ulink
>. Vem som helst får ändra &kdm; och distribuera resultatet igen, under förutsättning att upphovsmännens namn nämns.</para>

<para
>&kdm; kräver &Qt;-biblioteket, som är Copyright Troll Tech AS.</para>

<para
>Bidrag till dokumentation: <itemizedlist>

<listitem
><para
>Dokumentation skriven av &Steffen.Hansen; <email
>stefh@dit.ou.dk</email
></para
></listitem>

<listitem
><para
>Dokumentation utökad av Gregor Zumstein <email
>zumstein@ssd.ethz.ch</email
>. Senaste uppdatering 1998-08-09</para
></listitem>

<listitem
><para
>Dokumentation reviderad för &kde; 2 av &Neal.Crook;&Neal.Crook.mail;. Senaste uppdatering 2000-08-06.</para
></listitem>

<listitem
><para
>Dokumentation reviderad för &kde; 2.2 av &Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;. Senaste uppdatering 2001-08.</para
></listitem>

</itemizedlist
></para>

<para
>Dokumentation copyright &Steffen.Hansen;, Gregor Zumstein, &Neal.Crook; och &Oswald.Buddenhagen;. Det här dokumentet innehåller också stora delar av &xdm; manualsidan, som är &copy; Keith Packard.</para>
&underFDL; &underGPL; </chapter>

<glossary id="glossary">
<title
>Ordlista</title>

<glossentry id="gloss-greeter">
<glossterm
>välkomstruta</glossterm>
<glossdef
><para
>Välkomstrutan är inloggningsdialogrutan, dvs. den del av &kdm; som användaren ser.</para>
</glossdef>
</glossentry>

<glossentry>
<glossterm id="gloss-entropy"
>entropi</glossterm>
<glossdef
><para
>Ett systems entropi är ett mått på hur oförutsägbart det är. Det används när slumptal skapas.</para
></glossdef>
</glossentry>

</glossary>
</book>
<!--
Local Variables:
mode: xml
sgml-omittag: nil
sgml-shorttag: t
End:
-->

