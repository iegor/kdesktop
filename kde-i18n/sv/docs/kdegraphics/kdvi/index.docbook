<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.1.2-Based Variant V1.1//EN"
 "dtd/kdex.dtd" [
  <!ENTITY kappname "&kdvi;">
  <!ENTITY package "kdegraphics">
  <!ENTITY % addindex "IGNORE">
  <!ENTITY % Swedish "INCLUDE"
><!-- change language only here -->
]>

<book lang="&language;">
  <bookinfo>
    <title
>Handbok DVI-visare</title>
    <authorgroup>
      <author
><firstname
>Stefan</firstname
> <surname
>Kebekus</surname
> <affiliation
> <address
> <email
>kebekus@kde.org</email>
          </address>
	</affiliation>
      </author>
      <othercredit role="translator"
> <firstname
>Stefan</firstname
> <surname
>Asserhäll</surname
> <affiliation
><address
><email
>stefan.asserhall@comhem.se</email
></address
></affiliation
> <contrib
>Översättare</contrib
></othercredit
> 
    </authorgroup>
    
    <copyright>
      <year
>2001-2004</year>
      <holder
>Stefan Kebekus</holder>
    </copyright>
    
    <legalnotice
>&FDLNotice;</legalnotice>
    
    <date
>2004-02-27</date>
    <releaseinfo
>1.11.00</releaseinfo>

    <abstract>
      <para
>Det här dokumentet beskriver &kdvi; version 1.1.</para>
    </abstract>

    <keywordset>
      <keyword
>KDE</keyword>
      <keyword
>linux</keyword>
      <keyword
>Tex</keyword>
      <keyword
>DVI</keyword>
    </keywordset>

  </bookinfo>

  <chapter id="introduction">
    <title
>Inledning</title>

    <para
>DVI-visaren är ett insticksprogram för &kviewshell;-programmet som låter &kviewshell; visa &DVI;-filer (<literal role="extension"
>.dvi</literal
>), som produceras av typsättningssystemet Tex. DVI-visaren stöder många utökningar av DVI-standarden, till exempel att infoga &PostScript;-grafik och hyperlänkar. Mer detaljer, exempel och alla tekniska specifikationerna finns i filen <ulink url="KDVI-features.dvi"
><filename
>KDVI-features.dvi</filename
></ulink
> (klicka <ulink url="KDVI-features.tex"
>här</ulink
> för Tex-källtexten för filen).</para>

    <para
>För aktuell information, titta på <ulink url="http://devel-home.kde.org/~kdvi"
>DVI-visarens hemsida</ulink
>. </para>

    <para
>Tex är ett avancerat typsättningssystem avsett för vetenskaplig, och i synnerhet matematisk typsättning. Mer information om Tex och &DVI; finns på <ulink url="http://www.tug.org"
>hemsidan för Tex användargrupp</ulink
> eller den tyska <ulink url="http://www.dante.de"
>German DANTE e.V.</ulink
>. </para>
  </chapter>


  <chapter id="starting">
    <title
>Starta DVI-visaren</title>
    
    <para
>DVI-visaren startas oftast genom att bara klicka på en <literal role="extension"
>.dvi</literal
>-fil i filhanteraren. Det finns ett <command
>kdvi</command
>-kommando för bekvämlighetens skull, som anropar &kviewshell; med insticksprogrammet DVI-visaren redan laddat. Visaren kan därför startas med kommandot <userinput
><command
>kdvi</command
> <parameter
>någon_sökväg/artikel.dvi</parameter
></userinput
>. Kommandoraderna <userinput
><command
>kdvi</command
> <parameter
>någon_sökväg/artikel</parameter
></userinput
> eller <userinput
><command
>kdvi</command
> <parameter
>någon_sökväg/artikel.</parameter
></userinput
> fungerar också. Om du är ansluten till Internet kan du komma åt filer som finns på andra datorer genom att ange en webbadress som parameter, så här: <userinput
><command
>kdvi</command
> <parameter
>http://någon_sökväg/artikel.dvi</parameter
></userinput
> </para>
    
    <para
>Om du anger en webbadress om parameter, kan du tala om för DVI-visaren att den ska hoppa direkt till ett visst ställe i &DVI;-filen. Till exempel får <userinput
><command
>kdvi</command
> <parameter
>fil:artikel.dvi#43</parameter
></userinput
> DVI-visaren att öppna sida 43. Om du har inkluderat källfilsinformation, gör ett kommando som <userinput
><command
>kdvi</command
> <parameter
>fil:artikel.dvi#src:143paper.tex</parameter
></userinput
> att DVI-visaren letar efter platsen i DVI-filen som motsvarar rad 43 i Tex-filen <parameter
>artikel.tex</parameter
>. Du vill nog sällan använda det här alternativet själv, läs avsnittet om <ulink url="forward-search"
>sökning framåt</ulink
> för att lära dig hur man ställer in en editor för att starta DVI-visaren automatiskt. </para>

    <warning
><para
>Glöm inte bort prefixet <userinput
>file:</userinput
>, annars får du oväntade resultat. Kommandot <userinput
><command
>kdvi</command
> <parameter
>fil:artikel.dvi#43</parameter
></userinput
> öppnar till exempel sidan 43 i filen <parameter
>artikel.tex</parameter
>. Kommandot <userinput
><command
>kdvi</command
> <parameter
>artikel.dvi#43</parameter
></userinput
> försöker öppna filen <parameter
>artikel.dvi#43</parameter
>.</para>
    </warning>

    <para
>Det finns ett annat alternativ som du troligen inte behöver ange själv. Om du skriver <userinput
><command
>kdvi</command
> <parameter
>--unique</parameter
> <parameter
>någonsökväg/artikel.dvi</parameter
></userinput
>, laddar DVI-visaren filen om det inte finns någon annan instans som kör och redan har laddat filen. Om det finns det, visas den instansen av DVI-visaren överst. Ett kommando som <userinput
><command
>kdvi</command
> <parameter
>--unique</parameter
> <parameter
>fil:artikel.dvi#43</parameter
></userinput
> kan användas i skalskript för att få en instans av DVI-visaren som kör att hoppa till sidan 43.</para>

    <para
>De vanliga väljarna som hanteras av &Qt;- och &kde;-program fungerar också: <userinput
><command
>kdvi</command
> <option
>--style</option
> <parameter
>windows</parameter
> <option
>--display</option
> <parameter
>:0</parameter
> <option
>--geometry</option
> <parameter
>400x400+0+0</parameter
> <option
>--caption</option
> <parameter
>&quot;DVI&quot;</parameter
></userinput
> </para>
  </chapter>
  
  
  <chapter id="print">
    <title
>Skriva ut &DVI;-filer</title>
    
    <para
>DVI-visaren kan skriva ut &DVI;-filer med det vanliga &kde;-utskriftsgränssnittet. Internt använder DVI-visaren programmet <command
>dvips</command
> för att skapa &PostScript;, som sedan skickas vidare till skrivaren. Om du vill skriva ut med DVI-visaren, måste <command
>dvips</command
> vara installerat. Programmet <command
>dvips</command
> använder egna konfigurationsfiler och inställningar, som är bra i de flesta fall. Om du bryr dig om att få bästa möjliga utskriftsresultat, bör du anpassa <command
>dvips</command
> för hand, och försäkra dig om att ställa in det förvalda Metafont-läget som passar bäst ihop med din skrivare. På många system hittar du <ulink url="info:/dvips"
>GNU-texinfo dokumentation för <command
>dvips</command
></ulink
>, och du kanske också vill leta efter en fil som heter <filename
>dvips.dvi</filename
> eller något liknande.</para>
  </chapter>

  <chapter id="export">
    <title
>Exportera &DVI;-filer till andra format</title>

    <para
>Om du vill spara din fil med &PostScript;- eller PDF-format, rekommenderas att du inte använder utskriftsfunktionen och dirigerar om skrivarutmatningen till en fil. Du bör istället använda exportfunktionerna som ger bättre kvalitet på utmatningen, behåller många av de specialfunktioner som DVI-formatet har och ser bättre ut i många visningsprogram, som Adobes <application
>Acrobat Reader</application
>. Du hittar exportfunktionerna i menyn <guimenu
>Arkiv</guimenu
>.</para>

    <section id="export-ps">
      <title
>Export till &PostScript;</title
> 

      <para
>Som för utskrift, så används det yttre programmet <command
>dvips</command
> för att skapa &PostScript;-filen. Om &DVI;-filen innehåller hyperlänkar, infogas de också i &PostScript;-filen. Om du är expert, och vill skapa utmatning som är optimerad för en viss skrivare, bör du troligtvis starta <command
>dvips</command
> för hand och välja lämpligt Metafont-läge själv.</para>
    </section>

    <section id="export-pdf">
      <title
>Export till <acronym
>PDF</acronym
></title
> 

      <para
>För att skapa <acronym
>PDF</acronym
>-filer med hög kvalitet, översätter DVI-visaren &DVI; till <acronym
>PDF</acronym
> med det yttre programmet <command
>dvipdfm</command
>. Om du arbetar på en dator där en äldre utgåva av typsättningssystemet Tex är installerad, kanske programmet <command
>dvipdfm</command
> inte är installerat. Om så är fallet, måste du använda utskriftsfunktionen för att skapa <acronym
>PDF</acronym
>-utmatning.</para>

      <warning>
	<itemizedlist>
	  <listitem>
	    <para
>Om du använder en äldre Tex-installation, och tittar på filen som skapats i Adobes <application
>Acrobat Reader</application
>, kan du mycket väl märka att några av typsnitten ser mycket dåliga ut även om utskriften är bra, och även om dokumentet ser bra ut i <application
>kghostview</application
>. Det här är ett känt problem med <application
>Acrobat Reader</application
> och bitmappsteckensnitt. När det här skrivs verkar den enda praktiska sättet att komma runt problemet vara att undvika bitmappade teckensnitt, eller uppgradera till en senare Tex-installation. </para>
	  </listitem>
	  <listitem>
	    <para
>Även om <command
>dvipdfm</command
> skapar <acronym
>PDF</acronym
>-filer med hög kvalitet, ignorerar <command
>dvipdfm</command
> för närvarande infogad Postscript i &DVI;-filen. Infogad &PostScript; skapas t.ex. av makropaketet <application
>xy</application
>, eller av funktionen "Infoga Postscript-filer" i &kdvi; som beskrivs <link linkend="embed"
>nedan</link
>. </para>
            <para
>Om du märker att <acronym
>PDF</acronym
>-filen som skapas saknar grafikdata, använd utskriftsfunktionen i &kdvi; istället. </para>
	  </listitem>
	</itemizedlist>
      </warning>
    </section>


    <section id="export-text">
      <title
>Export till textfiler</title
> 

      <para
>DVI-visaren kan också spara &DVI;-filerna på textformat.</para>

      <warning>
       <para
>&DVI;-filstandarden skapades inte med den här sortens funktion i åtanke. Funktionen fungerar därför bara bra med vanliga ASCII-tecken. Den fungerar inte med icke-europeiska språk. Beroende på teckensnitt som används i filerna, kan det också finnas problem med accenttecken eller omljud, och ibland med ligaturer. </para>
      </warning>
    </section>
  </chapter>
  

  <chapter id="embed">
    <title
>Inbäddning av Postscript-filer i DVI-visaren</title>

    <para
>Det traditionella sättet att använda grafik med <application
>Tex</application
> infogar inte grafikdata direkt i DVI-filen. Istället innehåller DVI-filen bara en länk till en grafikfil som finns på hårddisken. Fördelen med detta sätt är att DVI-filen förblir liten, och att grafikfilen kan ändras oberoende av dokumentets <application
>Tex</application
>-kod. Metoden blir dock ganska obekväm om du tänker arkivera DVI-filen, eller om du vill skicka den till någon annan: Istället för att hantera en ensam fil, måste du ta hand om en mängd filer, som måste vara på exakt den plats som anges i DVI-filen för att allt ska fungera.</para>

    <para
>Av den orsaken låter DVI-visaren dig inbädda yttre &PostScript;-filer i DVI-filen. För att inbädda alla &PostScript;-filer i en DVI-fil, använd menyalternativet <guimenu
>Redigera/Inbädda yttre Postscript-filer</guimenu
>. </para>
    
    <warning
> <para
>DVI-filer med inbäddad &PostScript; fungerar bra med de flesta andra program som hanterar DVI, t.ex. <application
>xdvi</application
>, <application
>dvips</application
> eller <application
>dvipdf</application
>. Ett undantag att lägga märke till är programmet <application
>dvipdfm</application
>, som för närvarande ignorerar inbäddad &PostScript;. Eftersom <application
>dvipdfm</application
> används internt av funktionen "Exportera till <acronym
>PDF</acronym
>" i DVI-visaren, förvänta dig problem med den funktionen. Samma problem visar sig med andra program som använder inbäddad Postscript, t.ex. makropaketet <application
>xy</application
> för <application
>Tex</application
>.</para
> </warning>
  </chapter>
  

  <chapter id="inverse-search">
    <title
>Använda omvänd sökning</title>
    <anchor id="inv-search"
></anchor>

    <para
>Omvänd sökning är en mycket användbar funktion när du själv skriver en text med Tex. Om allt är riktigt inställt, kan du klicka på DVI-visarens fönster med <mousebutton
>mitten</mousebutton
>knappen på musen (på vissa system, om du inte har en treknappars mus, kan du använda <mousebutton
>vänster</mousebutton
> och <mousebutton
>höger</mousebutton
>knapp samtidigt). Därefter öppnas din favoriteditor, laddar Tex-källfilen och hoppar till det riktiga stycket. För att använda omvänd sökning, gör så här:</para>


    <procedure>
      <step>
	<para
>Skapa en &DVI;-fil som innehåller information för omvänd sökning. Det här förklaras i avsnittet <link linkend="inverse-search-tex"
>Skapa Tex-filer för omvänd sökning</link
> nedan. Om du bara vill prova funktionen för omvänd sökning, kan du också använda exempelfilen <filename
>KDVI-features.dvi</filename
>.</para>
      </step>
      <step>
	<para
>Tala om för DVI-visaren vilken editor du vill använda. Välj en editor i dialogrutan <guilabel
>Inställningar</guilabel
> (dialogrutan kan nås genom att välja <guimenu
>Inställningar</guimenu
> i menyn <guimenuitem
>DVI-alternativ</guimenuitem
>). Nästa kapitel i den här handboken, <ulink url="opt-rendering"
>Dialogrutan Inställningar/Alternativ för Återgivning</ulink
>, förklarar den här dialogrutan i detalj.</para>
      </step>
      <step>
	<para
>Visa editorer måste startas för hand, eller behöver ytterligare inställningar. Du hittar en beskrivning för alla editorer som stöds i avsnittet <ulink url="inverse-search-editor"
>Att ställa in editorn för omvänd sökning</ulink
> nedan.</para>
      </step>
      <step>
	<para
>Prova din inställning. Öppna &DVI;-filen med DVI-visaren och använd musens <mousebutton
>mitten</mousebutton
>knapp för att klicka i DVI-visaren. Editorn ska dyka upp och visa Tex-filen.</para>
      </step>
    </procedure>


    <section id="inverse-search-tex">
      <title
>Skapa Tex-filer för omvänd sökning</title>
      <para
>Det finns i huvudsak två sätt att skapa &DVI;-filer som innehåller information för omvänd sökning: Du kan antingen använda en Tex/Latex binärfil som automatiskt skapar och infogar den nödvändiga informationen, eller du kan infoga ett extra paket som är skrivet i Tex/Latex.</para>
      <itemizedlist>
	<listitem>
	  <para
>En Tex binärfil som automatiskt skapar och infogar den nödvändiga informationen, är definitivt metoden att föredra för att infoga information för omvänd sökning. Om du använder version 2 eller senare av <ulink url="http://www.tug.org/teTex/"
>TeTeX Tex-distributionen</ulink
>, kan du använda kommandoradsväljaren 'src-specials' i kommandot tex eller latex, enligt följande: <programlisting>
tex --src-specials min_fil.tex
</programlisting
> eller <programlisting
>latex --src-specials min_fil.tex
</programlisting>
	  </para>
	</listitem>
	<listitem>
	  <para
>Om du inte har en Tex binärfil som har inbyggd omvänd sökinformation, kopiera filerna <ulink url="srcltx.sty"
><filename
>srcltx.sty</filename
></ulink
> och <ulink url="srctex.sty"
><filename
>srctex.sty</filename
></ulink
> till katalogen där din Tex-fil finns (du kan göra detta genom att trycka på &Shift;-tangenten och vänster musknapp medan muspekaren är på en hyperlänk). Om du använder Latex, lägg till raden <programlisting>
\usepackage[active]{srcltx}
</programlisting
> i inledningen av din Latex-fil. Om du använder enkel Tex, ska raden <programlisting>
\include{srctex}
</programlisting
> göra susen.</para>
	</listitem>
      </itemizedlist>

      <tip>
	<para
>Fastän omvänd sökning är ytterst användbart när du skriver ett dokument själv, kan det vara en god ide att ta bort informationen för omvänd sökning innan &DVI;-filen skickas till någon annan.</para>
      </tip>

    </section>

    <section id="inverse-search-editor">

    <title
>Att ställa in editorn för omvänd sökning</title>
    
    <para
>Fastän omvänd sökning i allmänhet fungerar mycket bra med de flesta editorer, kräver vissa av dem en del särskild behandling. Det här avsnittet förklarar hur man ställer in olika editorer.</para>

    <section id="editor-setup-emacs">
      <title
><application
>Emacs</application
></title>

      <para
><application
>Emacs</application
> fungerar bra med DVI-visaren. Det verkliga beteendet hos <application
>Emacs</application
> beror till stor del på inställningen. Som vanligt kan du anpassa <application
>Emacs</application
> helt och hållet, om du är villig att slåss med Lisp-kod.</para>

      <para
>DVI-visaren använder programmet <command
>emacsclient</command
> för att fjärrstyra <application
>Emacs</application
>.</para>
      <important>
	<para
>Programmet <command
>emacsclient</command
> kräver att <application
>Emacs</application
> redan är startat, och att programmet <command
>Emacs-Server</command
> är startat inne i <application
>Emacs</application
>. Omvänd sökning fungerar inte om du inte har startat både <application
>Emacs</application
> och <command
>Emacs-Server</command
>.</para>
      </important>

      <para
>För att starta <command
>Emacs Server</command
>, kan du göra något av följande:</para>
	<itemizedlist>
	<listitem>
	  <para
>Starta <command
>Emacs-Server</command
> i <application
>Emacs</application
>, genom att skriva <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>server-start</command
></userinput
></para>
	</listitem>
	<listitem>
	  <para
>Lägg till raden <programlisting>
(server-start)
</programlisting
> i din <filename
>.emacs</filename
>-fil. Starta om <application
>Emacs</application
></para>
	</listitem>
      </itemizedlist>

      
      <tip>
	<itemizedlist>
	  <listitem>
	      <para
>Försäkra dig om att <application
>Emacs</application
> är installerad. Försök att starta <command
>emacs</command
> från kommandoraden.</para>
	  </listitem>
	<listitem>
	      <para
>DVI-visaren använder kommandot <command
>emacsclient</command
> för att fjärrstyra <application
>Emacs</application
>. Försäkra dig om att <command
>emacsclient</command
> är tillgänglig på kommandoraden genom att prova kommandot <userinput
><command
>emacsclient</command
> <parameter
>'Namn på en textfil'</parameter
></userinput
>. Det här ska öppna ett nytt fönster i <application
>Emacs</application
> editorn.</para>
	</listitem>
	<listitem>
	      <para
>Om <command
>emacsclient</command
> misslyckas med ett felmeddelande som <computeroutput
>unable to connect to local</computeroutput
>, försäkra dig om att <application
>Emacs</application
> är startad. Kontrollera dessutom att <command
>Emacs-Server</command
> har startats genom att skriva <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>server-start</command
></userinput
>.</para>
	</listitem>
	<listitem>
	      <para
>Om du vill att fönstret automatiskt ska visas överst, lägg till <function
>raise-frame</function
> funktionen i <quote
>server-switch-hook</quote
> (skriv <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>customize-variable</command
> <keycap
>RET</keycap
> <command
>server-switch-hook</command
></userinput
> och skriv in funktionsnamnet i textfältet).</para>
	</listitem>
	<listitem>
	      <para
>Om du har ändrat buffern sedan du senast sparade, kommer <application
>Emacs</application
> fråga dig: <computeroutput
>Revert buffer from file ...? (yes or no)</computeroutput
>. Du vill troligen alltid svara <emphasis
>no</emphasis
> här, eftersom "revert" betyder att filen läses från disken igen, <emphasis
>och gör att alla ändringar sedan du senast sparade går förlorade!</emphasis
></para>

	      <para
>Troligen är <command
>gnuclient</command
>s beteende att tyst ladda in den ändrade buffern att föredra. Lägg till följande rader i filen <filename
>.emacs</filename
> för att härma <command
>gnuclient</command
>s beteende med <command
>emacsclient</command
>:</para>

<programlisting
>(defadvice server-visit-files (around save-buffers last activate)
  "Try to emulate gnuclient behavior with emacsclient.
Works only for visiting one buffer at a time."
  (let* ((filen (car (car (ad-get-arg 0))))
         (buf (get-file-buffer filen))
         (this-buf-modified-p nil))
    ;;; the following is copied from server-visit-files, with
    ;;; a modification for the `verify-visited-file-modtime' test
    (if (and buf (set-buffer buf))
        (if (file-exists-p filen)
            ;;; if the file has changed on disk, reload it
            ;;; using `find-file-noselect'
            (if (not (verify-visited-file-modtime buf))
                (progn
                  (find-file-noselect filen)
                  ;;; if user answered `no', reset modtime anyway
                  ;;; so that server-visit-files doesn't realize the
                  ;;; difference:
                  (set-visited-file-modtime)))
          ;;; if file exists no longer, we let server-visit-files
          ;;; deal with that
          t)
      (setq buf (find-file-noselect filen)))
    (setq this-buf-modified-p (buffer-modified-p buf))
    (set-buffer buf)
    (set-buffer-modified-p nil)
    ad-do-it
    (set-buffer-modified-p this-buf-modified-p)))
</programlisting>
        </listitem>
      </itemizedlist>
      </tip>
    </section>


    <section id="editor-setup-kate">
      <title
>&kate;</title
> 

      <para
>&kde;:s editor &kate; stöder omvänd sökning mycket bra. Ingen extra inställning krävs.</para
> </section>


    <section id="editor-setup-kile">
      <title
><application
>Kile</application
></title
> 

      <para
>LaTeX-redigeringssystem <application
>Kile</application
>, stöder KDVI mycket bra. Ingen extra inställning behövs. Ytterligare information om Kile finns på <ulink url="http://kile.sourceforge.net"
>Kiles hemsida</ulink
>. </para>
    </section>


    <section id="editor-setup-nedit">
      <title
><application
>NEdit</application
></title>

      <para
><application
>NEdit</application
> fungerar i allmänhet mycket bra. Att klicka i &DVI;-filen ska öppna ett nytt fönster. Om Tex-filen redan används i ett annat fönster av <application
>NEdit</application
>, visar det nyöppnade fönstret en annan vy av buffern. Annars laddas Tex-filen. När fönstret har öppnats, markerar <application
>NEdit</application
> första raden av det riktiga stycket.</para>
      <tip>
          <para
>DVI-visaren använder kommandot <command
>ncl</command
> för att fjärrstyra <application
>NEdit</application
>. Försäkra dig om att <command
>ncl</command
> är tillgängligt på kommandoraden genom att skriva kommandot <userinput
><command
>ncl</command
> <parameter
>-noask</parameter
></userinput
>. Det här bör öppna en instans av editorn <application
>NEdit</application
>. Om <command
>ncl</command
> inte är tillgängligt, kanske du använder en äldre version av <application
>NEdit</application
>. Om det är fallet, bör du antingen byta till en nyare version, eller så måste du använda alternativet <guilabel
>Användardefinierad editor</guilabel
> i inställningsdialogrutan.</para>
      </tip>
    </section>

    <section id="editor-setup-xemacs">
      <title
><application
>XEmacs</application
></title>

      <para
><application
>XEmacs</application
> fungerar bra med DVI-visaren. Det verkliga beteendet hos <application
>XEmacs</application
> beror till stor del på inställningen. Som vanligt kan du anpassa <application
>XEmacs</application
> helt och hållet, om du är villig att slåss med Lisp-kod.</para>

      <para
>DVI-visaren använder programmet <command
>gnuclient</command
> för att fjärrstyra <application
>XEmacs</application
>.</para>
      <important>
        <para
>Programmet <command
>gnuclient</command
> kräver att <application
>XEmacs</application
> är startat, och att programmet <application
>gnuserv</application
> är startat inne i <application
>XEmacs</application
>. Omvänd sökning fungerar inte om du inte har startat både <application
>XEmacs</application
> och <command
>gnuserv</command
>.</para>
      </important>

      <para
>För att starta <command
>gnuserv</command
>-programmet, kan du göra något av följande:</para>
      <itemizedlist>
        <listitem>
          <para
>Starta <application
>gnuserv</application
> i <application
>XEmacs</application
>, genom att skriva <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>gnuserv-start</command
></userinput
></para>
        </listitem>
        <listitem>
          <para
>Lägg till raden <programlisting>
(gnuserv-start)

</programlisting
> i din <filename
>.xemacs</filename
> fil. Om du använder en nyare version av <application
>XEmacs</application
>, är <filename class="directory"
>
>.xemacs</filename
> en katalog. I detta fall ska du lägga till raden i filen <filename
>.xemacs/init.el</filename
>. Starta om <application
>XEmacs</application
></para>
        </listitem>
      </itemizedlist>

      <para
>Om du inte vill öppna ett nytt fönster för varje anrop till editorn, och vill att fönstret automatiskt ska visas överst, ställ in <quote
>Gnuserv Frame</quote
> till <quote
>Use selected frame</quote
>, och lägg till <quote
>raise-frame</quote
> funktionen i <quote
>Visit Hook</quote
>. Skriv <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>customize-group</command
> <keycap
>RET</keycap
> <command
>gnuserv</command
></userinput
> <userinput
>M-x customize-group RET gnuserv</userinput
> för att aktivera inställningarna.</para>

      <tip>
        <itemizedlist>
          <listitem>
              <para
>Försäkra dig om att <application
>XEmacs</application
> är installerad. Försök att starta <command
>xemacs</command
> från kommandoraden.</para>
          </listitem>
        <listitem>
              <para
>DVI-visaren använder kommandot <application
>gnuserv</application
> för att fjärrstyra <application
>XEmacs</application
>. Försäkra dig om att <command
>gnuclient</command
> är tillgänglig på kommandoraden genom att prova kommandot <userinput
><command
>gnuclient</command
> <parameter
>Namn på en textfil</parameter
></userinput
>. Det här ska öppna ett nytt fönster i <application
>XEmacs</application
> editorn.</para>
        </listitem>
        <listitem>
              <para
>Om <application
>gnuserv</application
> misslyckas med ett felmeddelande som <computeroutput
>unable to connect to local</computeroutput
>, försäkra dig om att <application
>XEmacs</application
> är startad. Kontrollera dessutom att <application
>gnuserv</application
> har startats genom att skriva <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>gnuserv-start</command
></userinput
>.</para>
        </listitem>
        <listitem>
              <para
>Om du inte vill öppna ett nytt fönster för varje anrop till editorn, och vill att fönstret automatiskt ska visas överst, ställ in <quote
>Gnuserv Frame</quote
> till <quote
>Use selected frame</quote
>, och lägg till <quote
>raise-frame</quote
> funktionen i <quote
>Visit Hook</quote
>. Skriv <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>customize-group</command
> <keycap
>RET</keycap
> <command
>gnuserv</command
></userinput
> för att aktivera inställningarna.</para>
        </listitem>
      </itemizedlist>
      </tip>
    </section>

    <section id="editor-setup-gvim">
      <title
><application
>VIM/GUI</application
></title>

      <para
>Varianten <application
>gvim</application
> av editorn <application
>vi</application
> stöder omvänd sökning mycket bra. Ingen extra inställning krävs.</para>
    </section>
    </section>
  </chapter>


  <chapter id="forward-search">
    <title
>Sökning framåt</title>

    <para
>Funktionen för sökning framåt låter dig hoppa från editorn direkt till motsvarande plats i &DVI;-filen. Eftersom sökning framåt måste stödjas av editorn, fungerar det för närvarande bara med <application
>Emacs</application
> och <application
>XEmacs</application
>. Andra editorer läggs förhoppningsvis snart till.</para>

    <para
>För att använda sökning framåt måste du göra följande:</para>
    <itemizedlist>
      <listitem>
        <para
>Ställa in editorn, det här beskrivs nedan.</para>
      </listitem>
      <listitem>
        <para
>Lägg till källfilsinformation i &DVI;-filen, t.ex. genom att använda paketet <command
>srcltx</command
>. Detta beskrivs i avsnittet <ulink url="inverse-search.html#inverse-search-tex"
>"Skapa Tex-filer för omvänd sökning"</ulink
>.</para>
      </listitem>
      <listitem>
        <para
>Om du använder <application
>Emacs</application
> och allt är riktigt inställt, trycker du bara på <userinput
><keycombo action="simul"
>&Ctrl;<keycap
>X</keycap
></keycombo
> <keycombo action="simul"
>&Ctrl;<keycap
>J</keycap
> </keycombo
></userinput
>, för att få DVI-visaren att dyka upp och hoppa till stället i Tex-filen som du för närvarande redigerar.</para>
      </listitem>
    </itemizedlist>

    <section id="forward-search-editor">
      <title
>Att ställa in editorn för sökning framåt</title>
      
      <section id="forw-editor-setup-emacs">
        <title
><application
>Emacs</application
></title>
        
        <para
>För att använda sökning framåt i <application
>Emacs</application
>, utför följande steg:</para>

        <itemizedlist>
          <listitem>
                <para
>Ladda ner följande <application
>Emacs</application
>-skript, <ulink url="kdvi-search.el"
><filename
>kdvi-search.el</filename
></ulink
> (tryck på skifttangenten och vänster musknapp på filnamnet för att ladda ner det) och lagra det på en plats där <application
>Emacs</application
> kan komma åt det. Vi rekommenderar katalogen <filename class="directory"
>emacs-scripts</filename
>.</para>
          </listitem>
          <listitem>
            <para
>Lägg till raderna <programlisting>
(add-to-list 'load-path (expand-file-name "~/emacs-scripts/"))
(require 'kdvi-search)
(add-hook 'LaTeX-mode-hook (lambda () (local-set-key "\C-x\C-j" 'kdvi-jump-to-line)))
(add-hook 'tex-mode-hook (lambda () (local-set-key "\C-x\C-j" 'kdvi-jump-to-line)))
</programlisting
> i filen <filename
>.emacs</filename
>. Starta om <application
>Emacs</application
>.</para>
          </listitem>

          <listitem>
            <para
>Öppna <application
>Emacs</application
>, ladda en Tex-fil, skapa motsvarande &DVI;-fil, och skriv antingen in kommandot <userinput
><keycombo action="simul"
><keycap
>M</keycap
><keycap
>x</keycap
> </keycombo
><command
>kdvi-jump-to-line</command
></userinput
> eller tryck på <userinput
><keycombo action="seq"
><keycombo action="simul"
>&Ctrl;<keycap
>X</keycap
></keycombo
> <keycombo action="simul"
>&Ctrl;<keycap
>J</keycap
></keycombo
> </keycombo
></userinput
>. Det kan hända att <application
>Emacs</application
> frågar dig efter namnet på en <quote
>masterfil</quote
>. Det här är användbart om du använder en Tex-fil som infogar andra filer: Masterfilen är toppnivåfilen som infogar de övriga. <application
>Emacs</application
> frågar kanske också om namnet på masterfilen ska sparas <quote
>som en lokal variabel</quote
>, dvs. som en kommentar sist i filen. Skriv antingen in <userinput
>ja</userinput
> eller <userinput
>nej</userinput
> för att fortsätta.</para
> 
            </listitem>
        </itemizedlist>

        <tip>
          <itemizedlist>
            <listitem>
              <para
>Försäkra dig om att <application
>Emacs</application
> är installerad. Försök att starta <command
>emacs</command
> från kommandoraden.</para>
            </listitem>
            <listitem>
              <para
>Om <application
>Emacs</application
> inte lyckas starta DVI-visaren, hittar du utmatningen i buffern <guilabel
>kdvi-output</guilabel
>.</para>
            </listitem>
          </itemizedlist>
        </tip>
      </section>

      <section id="forw-editor-setup-kile">
        <title
><application
>Kile</application
></title>
                <para
>Om du använder Kile, behövs inga ytterligare steg. </para>
      </section>

      <section id="forw-editor-setup-xemacs">
        <title
><application
>XEmacs</application
></title>
        
        <para
>För att ställa in <application
>XEmacs</application
>, följ stegen <link linkend="forw-editor-setup-emacs"
>ovan</link
> för <application
>Emacs</application
>, men ändra filen <filename
>.xemacs</filename
> istället för filen <filename
>.emacs</filename
>. Om du använder en nyare version av <application
>XEmacs</application
>, kan <filename class="directory"
>.xemacs</filename
> vara en katalog. I det fallet, lägg till raderna i filen <filename
>.xemacs/init.el</filename
>. </para>
      </section>

    </section>

  </chapter>

  <chapter id="preferences">
    <title
>Dialogrutan <guilabel
>Inställningar</guilabel
></title>
    <anchor id="opts"
></anchor>

    <para
>Dialogrutan <guilabel
>Inställningar</guilabel
> kan nås genom att välja <menuchoice
><guimenu
>Inställningar</guimenu
> <guimenuitem
>DVI-alternativ</guimenuitem
></menuchoice
> i menyn <guimenu
>Inställningar</guimenu
>.</para>

    <para
>Dialogrutan består av två flikar, <guilabel
>Teckensnitt</guilabel
> och <guilabel
>Återgivning</guilabel
>.</para>

    <sect1 id="opt-fonts">
      <title
>Alternativ för <guilabel
>Teckensnitt</guilabel
></title>

      <para
>Traditionellt använder sättning med Tex teckensnitt som skapas av programmet <command
>MetaFont</command
>. Dessa teckensnitt lagras med PK-formatet. Även om ett noggrant inställt <command
>MetaFont</command
>-system skapar utskrifter av mycket hög kvalitet, kräver inställningen verklig expertis. <command
>MetaFont</command
> är inte särskilt bra på att skapa teckensnitt som passar för datorskärmar, och det finns bara ett fåtal <command
>MetaFont</command
>-teckensnitt tillgängliga för asiatiska språk. </para>
      
      <para
>För att komma förbi problemen, ingår teckensnitt som lagras med formatet "Postscript typ 1" i nyare Tex-installationer, ett teckensnittformat med bred användning i elektroniska publikationer. &kdvi; kan använda båda teckensnittformaten. </para>

      <para
>Följande bild visar dialogrutan för teckensnittsinställningar i DVI-visaren som kan användas för att styra DVI-visarens användning av de olika formaten av teckensnitt. </para>

      <screenshot>
        <screeninfo
>Fliken <guilabel
>Teckensnitt</guilabel
></screeninfo>
        <mediaobject>
          <imageobject>
	    <imagedata fileref="optionrequester1.png" format="PNG"
></imagedata>
	  </imageobject>
          <textobject>
            <phrase
>Fliken <guilabel
>Teckensnitt</guilabel
></phrase>
          </textobject>
        </mediaobject
>        
      </screenshot>

      <variablelist>
        <varlistentry>
          <term
><guilabel
>Använd teckentips för typ 1-teckensnitt om tillgängliga</guilabel
> </term>
          <listitem>
	   <para
>"Postscript typ 1" innehåller ofta "teckentips", dvs. ytterligare information som är avsedd att hjälpa programvara att skapa utdata av bättre kvalitet på datorskärmar. Kvaliteten hos teckentipsen varierar från teckensnitt till teckensnitt, och du bör experimentera för att se om aktivering av alternativet ger bättre resultat. </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect1>

    <sect1 id="opt-rendering">
      <title
>Inställningar under <guilabel
>&DVI;-specialiteter</guilabel
></title>

      <para
>&kdvi; stöder ett stort antal utökningar av det ursprungliga &DVI;-formatet, t.ex. hyperlänkar, infogade grafikfiler eller infogad information om källkodsfiler. Utökningarna kallas "&DVI;-specialiteter". En fullständig beskrivning av specialiteter som stöds av &kdvi; finns i <ulink url="KDVI-features.dvi"
>detta dokument</ulink
>. </para>

      <para
>Dialogrutan &DVI;-specialiteter ställer in stöd för vissa specialiteter. </para>

      <screenshot>
        <screeninfo
>Fliken <guilabel
>Återgivning</guilabel
></screeninfo>
        <mediaobject>
          <imageobject>
            <imagedata fileref="optionrequester2.png"
            format="PNG"
></imagedata>
	  </imageobject>
          <textobject>
            <phrase
>Fliken <guilabel
>Återgivning</guilabel
></phrase>
          </textobject>
        </mediaobject>
      </screenshot>

      <variablelist>
        <varlistentry>
          <term
><guilabel
>Visa Postscript specialiteter</guilabel
></term>
          <listitem>
            <para
>Om det här alternativet är markerat, kommer DVI-visaren att visa &PostScript;-grafik som är infogad i &DVI;-filen. Du bör troligen aktivera det här alternativet.</para>

            <para
>Om en extern &PostScript;-fil inte hittas, ritar DVI-visaren en röd varningsruta istället. Tyvärr är återgivning av &PostScript;-grafik mycket långsam i den nuvarande versionen av DVI-visaren. Vi kommer att förbättra hastigheten i senare versioner. Om det här alternativet är avstängt, ritar DVI-visaren antingen en grå ruta istället för grafiken, eller så lämnas utrymmet tomt.</para>

            <note>
              <para
>Det finns inget standardiserat sätt att infoga &PostScript;-grafik i en &DVI;-fil. Därför kan det inträffa att DVI-visaren inte kan visa grafik på ett riktigt sätt, även om det fungerar bra med andra program. Äldre versioner av <command
>xdvi</command
> och <command
>dvips</command
> stöder att köra externa kommandon. Det här är en svårartad säkerhetsrisk och är därför avsiktligt inte implementerat i DVI-visaren. Teknisk information om sätt att infoga &PostScript; som stöds, finns i dokumentet <filename
>KDVI-features.dvi</filename
>.</para>
            </note>

          </listitem>
        </varlistentry>
        
        
        <varlistentry>
          <term
><guilabel
>Editor för omvänd sökning</guilabel
></term>
          <listitem>
            <para
>Om du avser att använda <link linkend="inverse-search"
>omvänd sökning</link
>, en mycket användbar funktion om du själv skriver Tex-dokument, måste du ange vilken editor som du ska använda, och hur den här editorn kan startas av DVI-visaren. I exemplet som visas, har användaren bestämt sig för editorn <application
>NEdit</application
>. Om du använder en av de förinställda editorerna från kombinationsrutan <guilabel
>Editor</guilabel
>, behöver du inte göra någonting mer. Om du vill använda en annan editor, välj <guilabel
>Användardefinierad editor</guilabel
> i kombinationsrutan <guilabel
>Editor</guilabel
> och skriv in kommandot som används för att starta din editor. Använd symbolerna <token
>%f</token
> and <token
>%l</token
>, som ersätts med namnet på Tex-filen, och raden i Tex-filen.</para>

            <para
>Om du använder en editor som inte stöds, skicka oss gärna e-post på <email
>kebekus@kde.org</email
>, och tala om vilken kommandorad du använder och hur du har ställt in din editor.</para>
          </listitem>
        </varlistentry>
      </variablelist>

    </sect1>
  </chapter>

  <chapter id="faq">
    <title
>Vanliga frågor</title>

    <qandaset>
      <qandaentry>
        <question id="fontgen">
          <para
>Vad händer när meddelandet <computeroutput
>Genererar bitmappteckensnitt</computeroutput
> visas av DVI-visaren, och varför tar proceduren så lång tid?</para>
        </question>
        <answer>
          <para
>Många av teckensnitten som typiskt används i ett Tex-dokument, måste skapas av Metafont-systemet. Metafont är ett språk som liknar Tex (och ingår i de flesta Tex-utgåvor), som tar en beskrivning av teckensnittets kantlinjer, och skapar en rasterversion (<literal role="extension"
>.pk</literal
>-fil) av teckensnittet som kan skickas till en skrivare eller användas i ett förhandsgranskningsprogram som DVI-visaren. Metafont gör alla tänkbara åtgärder för att skapa den bästa möjliga utskriften på skrivaren. Det vet till exempel att en bildpunkt på en bläckstråleskrivare är en cirkelliknade fläck, och att intilliggande bildpunkter brukar flyta ihop. I motsats till detta, är en bildpunkt på en laserskrivare rektangulär, men en isolerad bildpunkt visas ofta inte alls.</para>

          <para
>Att skapa ett sådant ytterst optimerat bitmappat teckensnitt tar helt naturligt ganska lång tid, särskilt som typiska Tex-dokument använder ett stort antal olika teckensnitt. Vi kan bara be dig om tålamod. För att förbättra saken något, lagrar de flesta Tex-utgåvor <literal role="extension"
>.pk</literal
>-filer en begränsat tid, t.ex. 100 dagar. Om du därför visar samma dokument mer än en gång, återanvänds <literal role="extension"
>.pk</literal
>-filerna.</para>
        </answer>
      </qandaentry>

      <qandaentry>
        <question id="mfmodes">
          <para
>Vad är ett Metafont-läge?</para>
        </question>
        <answer>
          <para
>För att kunna skapa bitmappade teckensnitt som är optimerade för skrivaren (se svaret på första frågan), levereras Metafont med en databas med skrivartyper, leta efter en fil som heter <filename
>modes.mf</filename
>. Ett Metafont-läge är bara namnet på en post i databasen. Namnet <quote
>ljfour</quote
> hänvisar till exempel till posten i databasen som beskriver en &Hewlett-Packard; LaserJet 4-skrivare. Ett Metafont-läge följs ofta av ett tal, upplösningen. LaserJet kan till exempel skriva ut med både 300 och 600 punkter per tum. Alltså skulle <quote
>ljfour/600</quote
> vara en fullständig beskrivning.</para>
        </answer>
      </qandaentry>

    </qandaset>
  </chapter>


  <chapter id="credits-and-license">
    <title
>Tack till och licenser</title>

    <para
>&kdvi;</para>

    <para
>DVI-visaren är baserad på det självständiga programmet &kdvi; 0.4.3 av Markku Hihnala. Det programmet är i sin tur baserat på <application
>xdvi</application
> version 18f, som har många upphovsmän.</para>

    <para
>Dokumentation är copyright 2001-2004, Stefan Kebekus <email
>kebekus@kde.org</email
></para>

    <para
>Översättning Stefan Asserhäll <email
>stefan.asserhall@comhem.se</email
></para
> 
&underGPL; &underFDL; </chapter>
    
&documentation.index;

</book>
<!--
Local Variables:
mode: sgml
sgml-omittag: nil
sgml-shorttag: t
End:
-->

