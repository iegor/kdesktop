<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN" "dtd/kdex.dtd" [
  <!ENTITY kleopatra "<application
>Kleopatra</application
>">
  <!ENTITY kwatchgnupg "<application
>KWatchGnuPG</application
>">
  <!ENTITY gpgsm "<application
>GpgSM</application
>">
  <!ENTITY gpg "<application
>GPG</application
>">
  <!ENTITY gpgconf "<application
>GpgConf</application
>">
  <!ENTITY kappname "&kleopatra;">
  <!ENTITY package "kdepim">
  <!ENTITY smime "<acronym
>S/MIME</acronym
>">
  <!ENTITY % addindex "IGNORE">
  <!ENTITY % Swedish "INCLUDE">

  <!ENTITY dn "<acronym
>DN</acronym
>">
  <!ENTITY ca "<acronym
>CA</acronym
>">

  <!-- Expanded all entities to make them translatable - lueck
    FILE menu 
  <!ENTITY file-new-key-pair "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>New Key Pair...</guimenuitem
></menuchoice
>">
  <!ENTITY file-export-certificates "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Export Certificates...</guimenuitem
></menuchoice
>">
  <!ENTITY file-export-secret-key "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Export Secret key...</guimenuitem
></menuchoice
>">
  <!ENTITY file-import-certificates "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Import Certificates...</guimenuitem
></menuchoice
>">
  <!ENTITY file-import-crls "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Import CRLs...</guimenuitem
></menuchoice
>">
  <!ENTITY file-quit "<menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>Q</keycap
></keycombo
></shortcut
><guimenu
>File</guimenu
><guimenuitem
>Quit</guimenuitem
></menuchoice
>">

   VIEW menu
  <!ENTITY view-redisplay "<menuchoice
><shortcut
><keycombo action="simul"
><keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Redisplay</guimenuitem
></menuchoice
>">
  <!ENTITY view-stop-operation "<menuchoice
><shortcut
><keycombo action="simul"
><keycap
>Esc</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Stop Operation</guimenuitem
></menuchoice
>">
  <!ENTITY view-certificate-details "<menuchoice
><guimenu
>View</guimenu
><guimenuitem
>Certificate Details...</guimenuitem
></menuchoice
>">
  <!ENTITY view-hierarchical-key-list "<menuchoice
><guimenu
>View</guimenu
><guimenuitem
>Hierarchical Key List</guimenuitem
></menuchoice
>">
  <!ENTITY view-expand-all "<menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>.</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Expand All</guimenuitem
></menuchoice
>">
  <!ENTITY view-collapse-all "<menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>,</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Collapse All</guimenuitem
></menuchoice
>">

   CERTIFICATES menu 
 <!ENTITY certificates-validate "<menuchoice
><shortcut
><keycombo action="simul"
>&Shift;<keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>Certificates</guimenu
><guimenuitem
>Validate</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-refresh-crls "<menuchoice
><guimenu
>Certificates</guimenu
><guimenuitem
>Refresh CRLs</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-delete "<menuchoice
><shortcut
><keycombo action="simul"
><keycap
>Delete</keycap
></keycombo
></shortcut
><guimenu
>Certificates</guimenu
><guimenuitem
>Delete</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-download "<menuchoice
><guimenu
>Certificates</guimenu
><guimenuitem
>Download</guimenuitem
></menuchoice
>">

   CRLS menu
  <!ENTITY crls-clear-crl-cache "<menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Clear CRL Cache...</guimenuitem
></menuchoice
>">
  <!ENTITY crls-dump-crl-cache "<menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Dump CRL Cache...</guimenuitem
></menuchoice
>">

   TOOLS menu 
  <!ENTITY tools-gnupg-log-viewer "<menuchoice
><guimenu
>Tools</guimenu
><guimenuitem
>GnuPG Log Viewer...</guimenuitem
></menuchoice
>">

   SETTINGS menu 
  <!ENTITY settings-show-statusbar "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Show Statusbar</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-shortcuts "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure Shortcuts...</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-kleopatra "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure &kleopatra;...</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-gpgme-backend "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure GpgME Backend...</guimenuitem
></menuchoice
>">
   -->

  <!-- Command line options -->
  <!ENTITY commandline-option-external "<option
>--external</option
>">
  <!ENTITY commandline-option-query "<option
>--query</option
>">
  <!ENTITY commandline-option-import-certificate "<option
>--import-certificate</option
>">
]>

<book lang="&language;">

<bookinfo>
<title
>Handbok &kleopatra;</title>

<authorgroup>
<author
><firstname
>Marc</firstname
> <surname
>Mutz</surname
> <affiliation
> <address
><email
>marc@klaralvdalens-datakonsult.se</email
></address>
</affiliation>
</author>

<othercredit role="developer"
><firstname
>David</firstname
> <surname
>Faure</surname
> <contrib
>Utvecklare</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Steffen</firstname
> <surname
>Hansen</surname
> <affiliation
> <address
>&Steffen.Hansen.mail;</address>
</affiliation>
<contrib
>Utvecklare</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Matthias Kalle</firstname
> <surname
>Dalheimer</surname
> <contrib
>Utvecklare</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Jesper</firstname
> <surname
>Pedersen</surname
> <affiliation
> <address
>&Jesper.Pedersen.mail;</address>
</affiliation>
<contrib
>Utvecklare</contrib>
</othercredit>
<othercredit role="developer"
><firstname
>Daniel</firstname
> <surname
>Molkentin</surname
> <affiliation
> <address
>&Daniel.Molkentin.mail;</address>
</affiliation>
<contrib
>Utvecklare</contrib>
</othercredit>

<othercredit role="translator"
> <firstname
>Stefan</firstname
> <surname
>Asserhäll</surname
> <affiliation
><address
><email
>stefan.asserhall@comhem.se</email
></address
></affiliation
> <contrib
>Översättare</contrib
></othercredit
> 
</authorgroup>

<legalnotice
>&GPLNotice;</legalnotice>

<date
>2004-06-11</date>
<releaseinfo
>0.31</releaseinfo>

<abstract>
<para
>&kleopatra; är ett verktyg för att hantera X509-certifikat. </para>
</abstract>


<keywordset>
<keyword
>KDE</keyword>
<keyword
>Kapp</keyword>
<keyword
>X509</keyword>
<keyword
>LDAP</keyword>
<keyword
>gpg</keyword>
<keyword
>gpgsm</keyword>
</keywordset>

</bookinfo>

<chapter id="introduction"
> <title
>Inledning</title
> 

<para
>&kleopatra; är &kde;:s verktyg för att hantera X509-certifikat i &gpgsm;-nyckellådan och för att hämta certifikat från <acronym
>LDAP</acronym
>-servrar.</para>

<para
>&kleopatra; kan startas från &kmail;s meny <guimenu
>Verktyg</guimenu
>, samt från kommandoraden. Programmet &kleopatra; heter <userinput
><command
>kleopatra</command
></userinput
>.</para>

<note
><para
>Programmet är uppkallat efter Kleopatra, en berömd kvinnlig egyptisk farao som levde samtidigt som Julius Caesar, med vilken det sägs att hon hade ett intimt förhållande.</para>

<para
>Namnet valdes eftersom programmet har sitt ursprung i <ulink url="http://www.gnupg.org/aegypten2/"
>projektet &Auml;gypten</ulink
> (&Auml;gypten är tyska för Egypten). Kleopatra stavas också på samma sätt på tyska.</para
></note>

</chapter>

<chapter id="functions"
><title
>Huvudfunktioner</title>

<sect1 id="functions-view"
><title
>Visa den lokala nyckellådan</title>

<!-- Viewing and Refreshing, also Validation -->

<para
>&kleopatra;s huvudfunktion är att visa och redigera innehållet i den lokala nyckellådan, vilket liknar konceptet i &gpg; med nyckelringar, även om man inte ska läsa ut för mycket ur jämförelsen.</para>

<para
>Huvudfönstret är uppdelat i ett stort område för att lista nycklar, menyraden och <link linkend="functions-search"
>sökraden</link
> längst upp, och en statusrad längst ner.</para>

<para
>Varje rad i nyckellistan motsvarar ett certifikat, som identifieras av det så kallade <guilabel
>Subjekt DN</guilabel
>. DN är en förkortning som betyder <quote
>Distinguished Name</quote
> (särskiljande namn), en hierarkisk identifiering som i mycket liknar en sökväg i filsystemet med en ovanlig syntax, som är avsett att unikt identifiera ett givet certifikat i hela världen.</para>

<para
>För att vara giltiga, och sålunda användbara, måste (öppna) nycklar vara signerade av en certifikatutfärdare (CA). Signaturerna kallas certifikat, men oftast används begreppen <quote
>certifikat</quote
> och <quote
>(öppen) nyckel</quote
> omväxlande, och vi skiljer inte heller på dem i den här handboken, utom när det anges explicit. Namnet på certifikatutfärdaren som gav ut certifikatet (dess DN) visas i kolumnen <guilabel
>Utfärdare DN</guilabel
>.</para>

<para
>Certifikatutfärdare måste i sin tur vara signerade av andra certifikatutfärdare för att vara giltiga. Det här måste förstås sluta någonstans, så certifikatutfärdare på toppnivå (rotcertifikatutfärdare) signerar sin nyckel själv (det kallas en självsignatur). Rotcertifikat måste därför tilldelas giltighet (vanligen kallad pålitlighet) för hand, dvs. efter att ha jämfört fingeravtrycket med det som finns på certifikatutfärdarens webbplats. Det görs typiskt av systemadministratören eller leverantören av en produkt som använder certifikat, men kan också göras av användaren via &gpgsm;s kommandoradsgränssnitt.</para>

<para
>För att se vilka certifikat som är rotcertifikat, kan du antingen jämföra <guilabel
>Subjekt DN</guilabel
> och <guilabel
>Utfärdare DN</guilabel
>, eller byta till hierarkiskt läge för nyckellistan med <link linkend="view-hierarchical-key-list"
><menuchoice
><guimenu
>Visa</guimenu
> <guimenuitem
>Hierarkisk nyckellista</guimenuitem
></menuchoice
></link
>.</para>

<para
>Du kan se detaljinformation för vilket certifikat som helst genom att dubbelklicka på det, eller använda <link linkend="view-certificate-details"
><menuchoice
><guimenu
>Visa</guimenu
> <guimenuitem
>Certifikatinformation...</guimenuitem
></menuchoice
></link
>. Då öppnas en dialogruta som visar de vanligaste egenskaperna hos certifikatet, dess certifikatkedja (dvs. kedjan av utfärdare upp till rotcertifikatutfärdaren), och en utskrift av all information som gränssnittet kan extrahera från certifikatet.</para>

<para
>Om du ändrar nyckellådan utan att använda &kleopatra; (t.ex. genom att använda kommandoradgränssnittet i &gpgsm;), kan du uppdatera vyn med <link linkend="view-redisplay"
><menuchoice
><shortcut
><keycombo action="simul"
><keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>Visa</guimenu
> <guimenuitem
>Visa igen</guimenuitem
></menuchoice
></link
>.</para>

<para
>Eftersom kontroll av en nyckel kan ta en del tid (t.ex. kan certifikatåterkallningslistor behöva hämtas), försöker inte den vanliga listan med nycklar kontrollera giltigheten hos nycklar. För detta tillhandahålls <link linkend="certificates-validate"
><menuchoice
><shortcut
><keycombo action="simul"
>&Shift;<keycap
>F5</keycap
></keycombo
> </shortcut
><guimenu
>Certifikat</guimenu
><guimenuitem
>Kontrollera</guimenuitem
></menuchoice
></link
>, en speciell version av <link linkend="view-redisplay"
><menuchoice
><shortcut
><keycombo action="simul"
><keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>Visa</guimenu
> <guimenuitem
>Visa igen</guimenuitem
></menuchoice
></link
>. Den kontrollerar antingen direkt markerade certifikat, eller alla nycklar om igen är markerad.</para>

</sect1>

<sect1 id="functions-search"
><title
>Söka efter och importera certifikat</title>

<para
>För det mesta skaffar du nya certifikat genom att kontrollera signaturer i e-post, eftersom certifikat oftast är inbäddade i signaturerna som skapats med dem. Om du dock behöver skicka ett brev till någon som du ännu inte har haft kontakt med, måste du hämta certifikatet från en LDAP-katalog (även om &gpgsm; kan göra det automatiskt), eller från en fil. Du måste också importera ditt eget certifikat efter att ha tagit emot certifikatutfärdarens svar på din certifikatbegäran.</para>

<para
>För att söka efter ett certifikat i en LDAP-katalog, ändra kombinationsrutan i sökraden från <guilabel
>I lokala certifikat</guilabel
> till <guilabel
>I externa certifikat</guilabel
>, skriv in text (t.ex. namnet på personen vars certifikat du vill ha) i radeditorn och klicka på ikonen <guilabel
>Sök</guilabel
>. Resultaten visas i nyckellistan under sökraden, där du kan markera certifikat, antingen för att titta på dem med <xref linkend="view-certificate-details"/> eller ladda ner dem till den lokala nyckellådan med <xref linkend="certificates-download"/>. Observera att du också kan ladda ner certifikatet från dialogrutan med detaljinformation, med knappen <guilabel
>Importera lokalt</guilabel
>.</para>

<para
>Du kan ställa in listan med LDAP-servrar som ska sökas i på sidan <link linkend="configuration-directory-services"
><guilabel
>Katalogtjänster</guilabel
></link
> i &kleopatra;s <link linkend="configuration"
>inställningsdialogruta</link
>.</para>

<para
>Om du tog emot certifikatet som en fil, försök med <link linkend="file-import-certificates"
><menuchoice
><guimenu
>Arkiv</guimenu
><guimenuitem
>Importera certifikat...</guimenuitem
></menuchoice
></link
>. &gpgsm; måste förstå certifikatfilens format. Se handboken för &gpgsm; för en lista med filformat som stöds.</para>

<para
>Om du inte <link linkend="functions-newkey"
>skapade ditt eget nyckelpar med &gpgsm;</link
>, måste du också manuellt importera den öppna nyckeln (och den hemliga nyckeln) från PKCS#12-filen du fick från certifikatutfärdaren. Du kan göra det från kommandoraden med <link linkend="commandline-option-import-certificate"
><userinput
><command
>kleopatra &commandline-option-import-certificate; <filename
>filnamn</filename
></command
></userinput
></link
> eller inne i &kleopatra; med <link linkend="file-import-certificates"
><menuchoice
><guimenu
>Arkiv</guimenu
><guimenuitem
>Importera certifikat...</guimenuitem
></menuchoice
></link
>, precis som du skulle göra för <quote
>normala</quote
> certifikat.</para>

</sect1>

<sect1 id="functions-newkey"
><title
>Skapa nya nyckelpar</title>

<para
>Menyalternativet <link linkend="file-new-key-pair"
><menuchoice
> <guimenu
>Arkiv</guimenu
><guimenuitem
>Nytt nyckelpar...</guimenuitem
></menuchoice
></link
> startar guiden för att skapa en begäran om ett certifikat. Den leder dig genom ett antal steg för att skapa en begäran om ett certifikat. När guiden avslutas, kan denna begäran antingen skickas till en certifikatutfärdare (&ca;) för att signeras, eller sparas i en fil (till exempel på en diskett, så att den kan skickas till certifikatutfärdaren).</para
> <para
>Så fort du är klar med ett steg i guiden, tryck på <guibutton
>Nästa</guibutton
> för att gå till nästa steg (eller <guibutton
>Tillbaka</guibutton
> för att kontrollera steg som redan är färdiga). Skapandet av begäran om certifikat kan avbrytas när som helst genom att trycka på knappen <guibutton
>Avbryt</guibutton
>. </para>
<para
>Det första steget i guiden är att skriva in persondata för certifikatet. Fälten som ska fyllas i är: <itemizedlist>
<listitem>
<para
><guilabel
>Namn:</guilabel
> Ditt namn.</para>
</listitem>
<listitem>
<para
><guilabel
>Plats:</guilabel
> Staden eller kommunen du bor i.</para>
</listitem>
<listitem>
<para
><guilabel
>Organisation:</guilabel
> Organisationen du representerar (t.ex. företaget du arbetar på).</para>
</listitem>
<listitem>
<para
><guilabel
>Avdelning:</guilabel
> Enheten i organisationen där du finns (till exempel "Logistik").</para
> 
</listitem>
<listitem>
<para
><guilabel
>Landskod:</guilabel
> Koden med två bokstäver för landet du bor i (till exempel "SE").</para>
</listitem>
<listitem>
<para
><guilabel
>E-postadress:</guilabel
> Din e-postadress. Försäkra dig om att du skriver in detta rätt &mdash; det är adressen som alla skickar brev till när de använder ditt certifikat.</para>
</listitem>
</itemizedlist>
</para
><para
>Nästa steg i guiden är att välja om certifikatet ska lagras i en fil eller skickas direkt till certifikatutfärdaren. Du måste ange filnamn eller e-postadress dit begäran om certifikatet ska skickas. </para
></sect1>


<sect1 id="functions-keybox-management"
><title
>Hantering av nyckellådan</title>

<para
>Förutom att <link linkend="functions-view"
>lista och kontrollera</link
>, <link linkend="functions-search"
>söka och importera</link
> certifikat och <link linkend="functions-newkey"
>skapa nya</link
>, har &kleopatra; också några funktioner  som inte används så ofta men hjälper dig hantera den lokala nyckellådan.</para>

<para
>Funktionerna omfattar att ta bort certifikat från den lokala nyckellådan med <link linkend="certificates-delete"
><menuchoice
><shortcut
><keycombo action="simul"
><keycap
>Delete</keycap
></keycombo
></shortcut
> <guimenu
>Certifikat</guimenu
><guimenuitem
>Ta bort</guimenuitem
></menuchoice
></link
>, samt manuell hantering av certifikatåterkallningslistor (<link linkend="certificates-refresh-crls"
><menuchoice
><guimenu
>Certifikat</guimenu
><guimenuitem
>Uppdatera CRL:er</guimenuitem
> </menuchoice
></link
>, <link linkend="crls-clear-crl-cache"
><menuchoice
><guimenu
>CRL:er</guimenu
><guimenuitem
>Rensa CRL-cache...</guimenuitem
></menuchoice
></link
>, <link linkend="crls-dump-crl-cache"
><menuchoice
><guimenu
>CRL:er</guimenu
><guimenuitem
>Visa CRL-cache...</guimenuitem
></menuchoice
></link
>).</para>

</sect1>

</chapter>

<chapter id="menu"
><title
>Menyreferens</title>

<sect1 id="menufile"
><title
>Menyn Arkiv</title>

<variablelist>

<varlistentry id="file-new-key-pair">
<term
><menuchoice
><guimenu
>Arkiv</guimenu
><guimenuitem
>Nytt nyckelpar...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Skapar ett nytt nyckelpar (öppen och hemlig)</action
> och låter dig skicka den öppna delen till en certifikatutfärdare (&ca;) för signering. Det resulterande certifikatet skickas sedan tillbaka till dig, eller lagras på en LDAP-server så att du kan ladda ner det till din lokala nyckelserver, där du kan använda den för att signera och avkoda e-post.</para>

<para
>Det här arbetssättet kallas <quote
>decentraliserad nyckelframtagning</quote
>, eftersom alla nycklar skapas lokalt. &kleopatra; (och &gpgsm;) stöder inte <quote
>centraliserad nyckelframtagning</quote
> direkt, men du kan importera nyckelknippan med öppen och hemlig nyckel som du tog emot från certifikatutfärdaren med PKCS#12-format via <menuchoice
><guimenu
>Arkiv</guimenu
> <guimenuitem
>Importera certifikat...</guimenuitem
></menuchoice
>.</para>
</listitem>
</varlistentry>


<varlistentry id="file-export-certificates">
<term
><menuchoice
><guimenu
>Arkiv</guimenu
><guimenuitem
>Exportera certifikat...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Exporterar markerade certifikat</action
> till en fil.</para>

<note
><para
>Det här exporterar bara de öppna nycklarna, även om de hemliga nycklarna är tillgängliga. Använd <menuchoice
><guimenu
>Arkiv</guimenu
> <guimenuitem
>Exportera hemlig nyckel...</guimenuitem
></menuchoice
> för att både exportera öppna och hemliga nycklar till en fil, men observera att det är nästan alltid en dålig idé.</para
></note>
</listitem>
</varlistentry>


<varlistentry id="file-export-secret-key">
<term
><menuchoice
><guimenu
>Arkiv</guimenu
><guimenuitem
>Exportera hemlig nyckel...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Exporterar både den öppna och den hemliga nyckeln till en (PKCS#12)-fil.</action
></para>

<warning
><para
>Det bör sällan vara nödvändigt att använda funktionen, och om det är det, måste det planeras noggrant. Planering av förflyttning av en hemlig nyckel omfattar bland annat val av transportmedia, och säker borttagning av nyckeldata på den gamla datorn, samt på transportmedia.</para
></warning>
</listitem>
</varlistentry>


<varlistentry id="file-import-certificates">
<term
><menuchoice
><guimenu
>Arkiv</guimenu
><guimenuitem
>Importera certifikat...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Importerar certifikat och/eller hemliga nycklar från filer till den lokala nyckellådan.</action
></para>

<para
>Certifikatfilens format ska vara ett som kan förstås av &gpgsm;. Se manualen för &gpgsm; för en lista av format som stöds.</para>
</listitem>
</varlistentry>


<varlistentry id="file-import-crls">
<term
><menuchoice
><guimenu
>Arkiv</guimenu
><guimenuitem
>Importera CRL:er...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Låter dig importera certifikatåterkallningslistor från filer för hand.</action
></para>

<para
>Normalt hanteras certifikatåterkallningslistor (CRL:er) transparent av bakgrundsprogrammet, men ibland kan det vara användbart att importera CRL:er till den lokala CRL-cachen för hand.</para>

<note
><para
>Observera: För att CRL-import ska fungera, måste verktyget <application
>dirmngr</application
> finnas i sökvägen. Om menyalternativet inte kan väljas, bör du kontakta systemadministratören och be att <application
>dirmngr</application
> installeras.</para
></note>

<para
>Du kan titta på innehållet i den lokala CRL-cachen med menyalternativet <menuchoice
><guimenu
>CRL:er</guimenu
><guimenuitem
>Visa CRL-cache</guimenuitem
></menuchoice
>. Då visas en dialogruta med information om CRL:er som finns i cachen och fingeravtrycken för certifikat i varje CRL. </para>
</listitem>
</varlistentry>


<varlistentry id="file-quit">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>Q</keycap
></keycombo
></shortcut
> <guimenu
>Arkiv</guimenu
><guimenuitem
>Avsluta</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Avslutar &kleopatra;.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1
> <!-- File Menu -->



<sect1 id="menuview"
><title
>Menyn Visa</title>

<variablelist>

<varlistentry id="view-redisplay">
<term
><menuchoice
><shortcut
><keycombo action="simul"
><keycap
>F5</keycap
></keycombo
> </shortcut
><guimenu
>Visa</guimenu
><guimenuitem
>Visa igen</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Visar markerade certifikat igen, eller uppdaterar certifikatlistan.</action
></para>

<para
>Om det finns markerade certifikat, gäller uppdateringsåtgärden bara de markerade posterna.</para>

<para
>Om ett frågeresultat (antingen fjärr- eller lokalresultat) för närvarande visas, upprepas frågan igen och det nya resultatet visas istället för det gamla.</para>

<para
>Om ingen fråga har utförts, hämtas hela nyckellådans innehåll och visas igen.</para>

<para
>Du kan använda det om du har ändrat innehållet i nyckellådan på annat sätt än via &kleopatra; (t.ex. genom att använda kommandoradgränssnittet i &gpgsm;).</para>
</listitem>
</varlistentry>


<varlistentry id="view-stop-operation">
<term
><menuchoice
><shortcut
><keycombo action="simul"
><keycap
>Esc</keycap
></keycombo
></shortcut
> <guimenu
>Visa</guimenu
><guimenuitem
>Stoppa åtgärd</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Stoppar (avbryter) alla pågående åtgärder,</action
> t.ex. en sökning eller en nerladdning.</para>

<note
><para
>Beroende på servern som används, kan &kleopatra; blockeras några sekunder när en fjärrsökning avbryts medan gränssnittet gör färdigt proceduren. Det är normalt och förväntat beteende.</para
></note>
</listitem>
</varlistentry>


<varlistentry id="view-certificate-details">
<term
><menuchoice
><guimenu
>Visa</guimenu
><guimenuitem
>Certifikatinformation...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Visar detaljinformation om certifikatet som för närvarande är markerat.</action
></para>

<para
>Funktionen är också tillgänglig genom att direkt dubbelklicka på motsvarande objekt i listvyn.</para>

<!--FIXME: link to the dialog's help, but where do we put _that_?-->
</listitem>
</varlistentry>


<varlistentry id="view-hierarchical-key-list">
<term
><menuchoice
><guimenu
>Visa</guimenu
><guimenuitem
>Hierarkisk nyckellista</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Byter mellan hierarkiskt och enkelt läge för nyckellistan. </action
></para>

<para
>I hierarkiskt läge ordnas certifikat enligt förhållandet utgivare och subjekt, så det är enkelt att se vilken certifikathierarki som ett givet certifikat tillhör, men ett givet certifikat är svårare att hitta från början (även om du förstås kan använda <link linkend="functions-search"
>sökraden</link
>).</para>

<para
>I enkelt läge visas alla certifikat i en enkel lista, alfabetiskt sorterade. Ett givet certifikat är enkelt att hitta i detta läge, men det är inte direkt klart vilket rotcertifikat det tillhör.</para>
</listitem>
</varlistentry>


<varlistentry id="view-expand-all">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>.</keycap
> </keycombo
></shortcut
><guimenu
>Visa</guimenu
><guimenuitem
>Expandera alla</guimenuitem
></menuchoice
></term>

<listitem>
<para
>(Den här funktionen är bara tillgänglig när <link linkend="view-hierarchical-key-list"
><menuchoice
><guimenu
>Visa</guimenu
> <guimenuitem
>Hierarkisk nyckellista</guimenuitem
></menuchoice
></link
> är på.)</para>

<para
><action
>Expanderar alla listobjekt i certifikatlistans vy,</action
> dvs. gör alla objekt synliga.</para>

<para
>Det här är normalt när hierarkiskt läge väljes för nyckellistan.</para>

<para
>Du kan förstås fortfarande expandera eller dra ihop varje enskild rad för sig.</para>
</listitem>
</varlistentry>



<varlistentry id="view-collapse-all">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>,</keycap
> </keycombo
></shortcut
><guimenu
>Visa</guimenu
><guimenuitem
>Dra ihop alla</guimenuitem
></menuchoice
></term>

<listitem>
<para
>(Den här funktionen är bara tillgänglig när <link linkend="view-hierarchical-key-list"
><menuchoice
><guimenu
>Visa</guimenu
> <guimenuitem
>Hierarkisk nyckellista</guimenuitem
></menuchoice
></link
> är på.)</para>

<para
><action
>Drar ihop alla listobjekt i certifikatlistans vy,</action
> dvs. döljer alla utom toppnivåobjekten.</para>

<para
>Du kan förstås fortfarande expandera eller dra ihop varje enskild rad för sig.</para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menucertificates"
><title
>Menyn Certifikat</title>

<variablelist>

<varlistentry id="certificates-validate">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Shift;<keycap
>F5</keycap
></keycombo
> </shortcut
><guimenu
>Certifikat</guimenu
><guimenuitem
>Kontrollera</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Kontrollerar markerade (eller alla) nycklar.</action
></para>

<para
>Det liknar <link linkend="view-redisplay"
><menuchoice
><shortcut
><keycombo action="simul"
><keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>Visa</guimenu
> <guimenuitem
>Visa igen</guimenuitem
></menuchoice
></link
>, men utför en kontroll av (markerade) nycklar. Kontroll betyder här att alla relevanta certifikatåterkallningslistor hämtas, och att det kontrolleras att certifikatkedjan är riktig. Som ett resultat markeras ogiltiga eller utgångna nycklar enligt dina färg- och teckensnittsinställningar från sidan <link linkend="configuration-appearance"
><guilabel
>Utseende</guilabel
></link
> i &kleopatra;s <link linkend="configuration"
>inställningsdialogruta</link
>.</para>

<warning
><para
>Du kan bara lita på informationen i kontrollerade nycklar, och eftersom vilken som helst av dem kan återkallas när som helst, är till och med en kontroll bara en ögonblicksbild av det nuvarande tillståndet i den lokala nyckelringen. Det är därför gränssnittet normalt utför den här sortens kontroller så fort nycklarna används (t.ex. för signering, verifiering av signaturer, kryptering eller avkodning).</para
></warning>
</listitem>
</varlistentry>



<varlistentry id="certificates-refresh-crls">
<term
><menuchoice
><guimenu
>Certifikat</guimenu
><guimenuitem
>Uppdatera CRL:er</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Hämtar nuvarande certifikatåterkallningslistor för alla markerade nycklar,</action
> även om de inte normalt skulle hämtas när nyckeln används.</para>

<para
>Funktionen får bara effekt på certifikat som definierar en distributionspunkt för en certifikatåterkallningslista. Beroende på gränssnittet som används, så uppdateras inte certifikat som är inställda att utföra kontroller med direktvaliderade certifikat (OCSP).</para>

<para
>Du kan till exempel använda det om du får reda på från annat håll att en nyckel har återkallats, och du vill att gränssnittet ska ange det <emphasis
>nu</emphasis
> istället för att vänta på att det ska hända automatiskt vid nästa schemalagda uppdatering av certifikatåterkallningslistor.</para>

<warning
><para
>Omfattande användning av funktionen kan ge hög last på leverantörens eller företagets nätverk, eftersom certifikatåterkallningslistor i stora organisationer kan vara förvånansvärt stora (flera Mibyte är inte ovanligt).</para>

<para
>Använd funktionen sällan.</para
></warning>
</listitem>
</varlistentry>



<varlistentry id="certificates-delete">
<term
><menuchoice
><shortcut
><keycombo action="simul"
><keycap
>Delete</keycap
></keycombo
></shortcut
> <guimenu
>Certifikat</guimenu
><guimenuitem
>Ta bort</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Tar bort markerade certifikat</action
> från den lokala nyckelringen.</para>

<para
>Använd funktionen för att ta bort oanvända nycklar från den lokala nyckellådan. Eftersom certifikat typiskt finns som bilagor i signerad e-post, kan dock verifikation av ett brev göra att nyckeln som just tagits bort dyker upp igen i den lokala nyckellådan. Därför är det troligen bäst att undvika att använda funktionen så mycket som möjligt. När du kommit vilse, använd <link linkend="functions-search"
>sökraden</link
> eller funktionen <link linkend="view-hierarchical-key-list"
><menuchoice
><guimenu
>Visa</guimenu
> <guimenuitem
>Hierarkisk nyckellista</guimenuitem
></menuchoice
></link
> för att återfå kontrollen över hela uppsättningen med certifikat.</para>
</listitem>
</varlistentry>



<varlistentry id="certificates-download">
<term
><menuchoice
><guimenu
>Certifikat</guimenu
><guimenuitem
>Ladda ner</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Laddar ner markerade certifikat från LDAP till den lokala nyckellådan.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>



<sect1 id="menucrls"
><title
>Menyn CRL:er</title>

<variablelist>

<varlistentry id="crls-clear-crl-cache">
<term
><menuchoice
><guimenu
>CRL:er</guimenu
><guimenuitem
>Rensa CRL-cache...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Rensar cachen med certifikatåterkallningslistor i &gpgsm;.</action
></para>

<para
>Du behöver troligen aldrig det här. Du kan tvinga en uppdatering av CRL-cachen genom att istället markera alla certifikat och använda <link linkend="certificates-refresh-crls"
><menuchoice
> <guimenu
>Certifikat</guimenu
><guimenuitem
>Uppdatera CRL:er</guimenuitem
></menuchoice
></link
>.</para>
</listitem>
</varlistentry>

<varlistentry id="crls-dump-crl-cache">
<term
><menuchoice
><guimenu
>CRL:er</guimenu
><guimenuitem
>Visa CRL-cache...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Visar detaljinnehållet i cachen med certifikatåterkallningslistor i &gpgsm;.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menutools"
><title
>Menyn Verktyg</title>

<variablelist>

<varlistentry id="tools-gnupg-log-viewer">
<term
><menuchoice
><guimenu
>Verktyg</guimenu
><guimenuitem
>GnuPG-loggvisning...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Startar <ulink url="help:/kwatchgnupg/index.html"
>&kwatchgnupg;</ulink
>.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menusettings"
><title
>Menyn Inställningar</title>

<variablelist>

<varlistentry id="settings-show-statusbar">
<term
><menuchoice
><guimenu
>Inställningar</guimenu
> <guimenuitem
>Visa statusrad</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Ändrar synlighet för statusraden längst ner.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-shortcuts">
<term
><menuchoice
><guimenu
>Inställningar</guimenu
> <guimenuitem
>Anpassa genvägar...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Visar &kde;:s vanliga inställningsdialogruta för snabbtangenter, där du kan tilldela och ändra snabbtangenter för alla menyalternativ.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-kleopatra">
<term
><menuchoice
><guimenu
>Inställningar</guimenu
><guimenuitem
>Anpassa &kleopatra;...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Visar &kleopatra;s inställningsdialogruta.</action
></para>

<para
>Se <xref linkend="configuration"/> för mer information.</para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-gpgme-backend">
<term
><menuchoice
><guimenu
>Inställningar</guimenu
><guimenuitem
>Anpassa GpgME-gränssnitt...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Visar en dialogruta som låter dig anpassa alla funktioner i &gpgsm; och andra gränssnittsmoduler.</action
></para>

<para
>Dialogrutan skapas dynamiskt från utmatning av verktyget &gpgconf; och den kan därför ändras när gränssnittsmoduler uppdateras.</para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menuhelp"
><title
>Menyn Hjälp</title>


<para
>Menyn <guimenu
>Hjälp</guimenu
> innehåller &kde;:s standardmeny för hjälp.</para>
&help.menu.documentation; </sect1>

</chapter>

<chapter id="commandline-options"
><title
>Referens till kommandoradsväljare</title>

<para
>Bara väljare som är specifika för &kleopatra; listas här. Som med alla &kde;-program, kan du få en fullständig lista med väljare genom att ge kommandot <userinput
><command
>kleopatra <option
>--help</option
></command
></userinput
>.</para>

<variablelist>

<varlistentry id="commandline-option-external">
<term
>&commandline-option-external;</term>

<listitem>
<para
><action
>Anger att &commandline-option-query; ska söka på andra datorer istället för i den lokala nyckellådan.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="commandline-option-query">
<term
>&commandline-option-query;</term>

<listitem>
<para
><action
>Anger att &kleopatra; ska starta med den angivna frågesträngen istället för att visa den fullständiga lokala nyckellådan.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="commandline-option-import-certificate">
<term
>&commandline-option-import-certificate;</term>

<listitem>
<para
><action
>Anger en fil eller webbadress som ska användas för att importera certifikat (eller hemliga nycklar).</action
></para>

<para
>Det här är motsvarigheten till <link linkend="file-import-certificates"
><menuchoice
><guimenu
>Arkiv</guimenu
> <guimenuitem
>Importera certifikat...</guimenuitem
></menuchoice
></link
> på kommandoraden.</para>
</listitem>
</varlistentry>

</variablelist>

</chapter>

<chapter id="configuration"
><title
>Anpassa &kleopatra;</title>

<para
>&kleopatra;s inställningsdialogruta kan kommas åt via <link linkend="settings-configure-kleopatra"
><menuchoice
><guimenu
>Inställningar</guimenu
><guimenuitem
>Anpassa &kleopatra;...</guimenuitem
></menuchoice
></link
>.</para>

<para
>Var och en av dess sidor beskrivs i avsnitten nedan.</para>

<sect1 id="configuration-directory-services"
><title
>Anpassa katalogtjänster</title>

<para
>På den här sidan kan du ställa in vilka LDAP-servrar som ska användas vid certifikatsökning. Du kan också ställa in deras ordning, samt några utvalda LDAP-relaterade inställningar från den dynamiska inställningsdialogrutan för gränssnittet, tillgänglig via <link linkend="settings-configure-gpgme-backend"
><menuchoice
><guimenu
>Inställningar</guimenu
> <guimenuitem
>Anpassa GpgME-gränssnitt...</guimenuitem
></menuchoice
></link
>.</para>

<para
>För att lägga till en ny server, klicka på knappen <guilabel
>Lägg till tjänst...</guilabel
>. I dialogrutan som visas kan du ange <guilabel
>Servernamn</guilabel
>,<guilabel
>Port</guilabel
> (förinställd till den normala LDAP-porten), <guilabel
>Bas &dn;</guilabel
> (ibland kallat sökroten eller sökbasen), och de vanliga <guilabel
>Användarnamn</guilabel
> och <guilabel
>Lösenord</guilabel
> som bara behövs om servern kräver behörighetskontroll. Genom att klicka på <guilabel
>Ok</guilabel
> läggs serverinformationen till i listan med servrar, medan <guilabel
>Avbryt</guilabel
> kastar indata.</para>

<para
>För att ta bort en server från söklistan, markera den i listan och tryck på knappen <guilabel
>Ta bort tjänst</guilabel
>.</para>

<para
>För att ändra den relativa sökordningen mellan servrarna, markera en av dem och flytta den uppåt eller neråt med piltangenterna intill listan.</para>

<para
>För att ställa in tidsgränsen för LDAP, dvs. den maximala tiden som gränssnittet väntar på att en server ska svara, använd helt enkelt motsvarande inmatningsfält som heter <guilabel
>LDAP-tidsgräns</guilabel
>.</para>

<para
>Om en av dina servrar har en stor databas, så att till och med rimliga sökningar som <userinput
>Johansson</userinput
> når <guilabel
>maximalt antal objekt som returneras av en fråga</guilabel
>, kanske du vill öka gränsen. Du kan enkelt ta reda på om du når gränsen under en sökning, eftersom en dialogruta som talar om för dig att resultatet har avkortats dyker upp, om det är fallet.</para>

<note
><para
>Vissa servrar kan införa egna begränsningar på antal objekt som returneras vid en fråga. Om det är fallet, resulterar inte en ökning av gränsen här att flera objekt returneras.</para
></note>

</sect1>

<sect1 id="configuration-appearance"
><title
>Anpassa visuellt utseende</title>

<para
>&kleopatra; låter dig anpassa utseendet hos (kontrollerade) nycklar i listvyn. Det omfattar förgrundsfärgen (textfärgen) och bakgrundsfärgen, samt teckensnittet.</para>

<para
>Varje <guilabel
>Nyckelkategori</guilabel
> till vänster tilldelas en uppsättning färger och ett teckensnitt som nycklar tillhörande kategorin visas med. Kategorilistan fungerar också som en förhandsgranskning av inställningarna. Kategorier kan fritt definieras av en administratör eller en avancerad användare, se <xref linkend="admin-key-filters"/> under <xref linkend="admin"/>.</para>

<para
>För att ändra textfärgen (förgrundsfärgen) hos en kategori, markera den i listan och tryck på knappen <guilabel
>Ange textfärg...</guilabel
>. &kde;:s vanliga färgvalsdialogruta visas, där du kan välja färg eller skapa en ny färg.</para>

<para
>Att ändra bakgrundsfärg görs på samma sätt, klicka bara på <guilabel
>Ange bakgrundsfärg</guilabel
> istället.</para>

<para
>För att ändra teckensnitt har du egentligen två alternativ:</para>

<orderedlist>
<listitem
><para
>Ändra standardteckensnitt som används för alla listvyer i &kde;.</para
></listitem>
<listitem
><para
>Använd ett eget teckensnitt.</para
></listitem>
</orderedlist>

<para
>Det första alternativet har fördelen att teckensnittet följer vilken stil du än väljer i hela &kde;, medan den senare ger dig fullständig kontroll över teckensnittet som används. Valet är ditt.</para>

<para
>För att använda det ändrade förvalda teckensnittet, markera kategorin i listan och markera eller avmarkera teckenegenskaperna <guilabel
>kursiv</guilabel
>, <guilabel
>fetstil</guilabel
> och/eller <guilabel
>överstruken</guilabel
>. Du ser omedelbart effekten på teckensnittet i kategorilistan.</para>

<para
>Tryck på knappen <guilabel
>Ange teckensnitt...</guilabel
> för att använda ett eget teckensnitt. &kde;:s vanliga teckensnittsdialogruta visas, där du kan välja ett nytt teckensnitt. Observera att du fortfarande kan använda teckenegenskaper för att ändra det egna teckensnittet, precis som för att ändra förvalt teckensnitt.</para>

<para
>För att byta tillbaka till förvalt teckensnitt, måste du trycka på knappen <guilabel
>Förval</guilabel
>.</para>

</sect1>

<sect1 id="configuration-dn-order"
><title
>Anpassa ordningen &dn;-egenskaper visas</title>

<para
>Även om en DN är hierarkisk, definieras inte ordningen hos de enskilda komponenterna (som kallas relativa DN, RDN, eller DN egenskaper). Ordningen som egenskaperna visas är därför ett uttryck för personligt tycke eller företagspolicy, vilket är orsaken till att det kan ställas in i &kleopatra;.</para>

<note
><para
>Den här inställningen gäller inte bara &kleopatra; utan alla program som använder &kleopatra; teknologin. När det här skrivs omfattar det &kleopatra;, KDE:s adressbok samt förstås &kleopatra; själv.</para
></note>

<para
>Den här inställningssidan består i huvudsak av två listor, en för de kända egenskaperna (<guilabel
>Tillgängliga egenskaper</guilabel
>) och en som beskriver <guilabel
>Nuvarande egenskapsordning</guilabel
>.</para>

<para
>Båda listor innehåller poster som beskrivs av egenskapens korta form (t.ex. <guilabel
>CN</guilabel
>) samt den utskrivna formen (<guilabel
>Vanligt namn</guilabel
>).</para>

<para
>Listan <guilabel
>Tillgängliga egenskaper</guilabel
> är alltid sorterad i alfabetisk ordning, medan ordningen i listan <guilabel
>Nuvarande egenskapsordning</guilabel
> motsvarar den inställda DN-egenskapsordningen: den första egenskapen i listan är också den som visas först.</para>

<para
>Bara egenskaper som explicit listas i <guilabel
>Nuvarande egenskapsordning</guilabel
> visas över huvud taget. Övriga döljs normalt.</para>

<para
>Om platsmarkörposten <guilabel
>_X_</guilabel
> (<guilabel
>Alla andra</guilabel
>) dock finns i <quote
>nuvarande</quote
> listan, infogas alla egenskaper som inte listas (vare sig de är kända eller inte) på platsen <guilabel
>_X_</guilabel
>, i sin ursprungliga relativa ordning.</para>

<para
>Ett litet exempel hjälper till att klargöra detta:</para>

<informalexample>
<para
>Givet DN</para>
<blockquote
> <para
> O=KDE, C=US, CN=Dave Devel, X-BAR=foo, OU=Kleopatra, X-FOO=bar, </para
> </blockquote
> <para
>förvald egenskapsordning för <quote
>CN, L, _X_, OU, O, C</quote
> ger följande formaterade DN:</para
> <blockquote
> <para
> CN=Dave Devel, X-BAR=foo, X-FOO=bar, OU=Kleopatra, O=KDE, C=US </para
> </blockquote
> <para
>medan <quote
>CN, L, OU, O, C</quote
> ger</para
> <blockquote
> <para
> CN=Dave Devel, OU=Kleopatra, O=KDE, C=US </para
> </blockquote
> </informalexample>

<para
>För att lägga till en egenskap i listan med egenskapsordning, markera den i listan <guilabel
>Tillgängliga egenskaper</guilabel
>, och tryck på knappen <guilabel
>Lägg till i nuvarande egenskapsordning</guilabel
>.</para>

<para
>För att ta bort en egenskap från listan med egenskapsordning, markera den i listan <guilabel
>Nuvarande egenskapsordning</guilabel
>, och tryck på knappen <guilabel
>Ta bort från nuvarande egenskapsordning</guilabel
>.</para>

<para
>För att bara flytta en egenskap till början (eller slutet), markera den i listan <guilabel
>Nuvarande egenskapsordning</guilabel
>, och tryck på knappen <guilabel
>Flytta längst upp</guilabel
> (eller <guilabel
>Flytta längst ner</guilabel
>).</para>

<para
>För att bara flytta en egenskap uppåt (eller neråt) ett steg, markera den i listan <guilabel
>Nuvarande egenskapsordning</guilabel
>, och tryck på knappen <guilabel
>Flytta upp ett steg</guilabel
> (eller <guilabel
>Flytta ner ett steg</guilabel
>).</para>

</sect1>

</chapter>

<chapter id="admin"
><title
>Administrationsguide</title>

<para
>Administrationsguiden beskriver sätt att anpassa &kleopatra; som inte är tillgängliga via det grafiska gränssnittet, utan bara via inställningsfiler.</para>

<para
>Det antas att läsaren känner till teknologin som används för att anpassa &kde;-program, inklusive layout, plats i filsystemet och ordning hos &kde;:s inställningsfiler, samt KIOSK-ramverket.</para>

<sect1 id="admin-certificate-request-wizard"
><title
>Anpassning av guiden för att skapa certifikat</title>

<para
>&kleopatra; låter dig anpassa fälten som användaren får skriva in för att skapa sitt certifikat.</para>

<para
>Skapa en grupp som heter <literal
>CertificateCreationWizard</literal
> i systemets <filename
>kleopatrarc</filename
>. Om du vill ha en egen ordning av egenskaper eller om du bara vill att vissa poster ska visas, skapa en nyckel som heter <varname
>DNAttributeOrder</varname
>. Argumentet är en eller flera av <varname
>CN,SN,GN,L,T,OU,O,PC,C,SP,DC,BC,EMAIL</varname
> om du vill att fält ska överskridas med ett visst värde, skriv något som liknar Egenskap=Värde. Om du vill att egenskapen ska behandlas som nödvändig, följ den med ett utropstecken (t.ex. <varname
>CN!,L,OU,O!,C!,EMAIL!</varname
>, som råkar vara förinställt värde).</para>

<para
>Genom att använda <acronym
>kiosk</acronym
>lägets flaggor <varname
>$e</varname
> blir det möjligt att hämta värden från miljövariabler eller från utvärdering av ett skript eller ett körbart program. Om du dessutom vill förhindra redigering av respektive fält, använd flaggan <varname
>$i</varname
>. Om du vill förhindra att knappen <guibutton
>Infoga min adress</guibutton
> används, ange värdet false för <varname
>ShowSetWhoAmI</varname
>.</para>

<tip
><para
>Beroende på naturen hos &kde;:s <acronym
>kiosk</acronym
>-ramverk, blir det omöjligt för användaren att överskrida flaggan för oförändringsbarhet (<varname
>$i</varname
>) när den används. Det är avsett beteende. <varname
>$i</varname
> och <varname
>$e</varname
> kan också användas med vilken annan inställningsnyckel som helst i &kde;-program.</para
></tip>

<para
>Följande exempel ger en översikt av möjliga anpassningar:</para>

<para>
<programlisting
>[CertificateCreationWizard] 
;Tillåt inte kopiering av personlig data från adressboken, tillåt inte lokal överskridning
ShowSetWhoAmI[$i]=false

;ställer in användarnamnet till $USER
CN[$e]=$USER

;ställer in företagsnamnet till "Mitt företag", tillåter inte redigering
O[$i]=Mitt företag

;ställer in avdelningsnamnet till ett värde som returneras av ett skript
OU[$ei]=$(lookup_dept_from_ip)

;ställer in land till SE, men tillåter ändring av användaren
C=SE
</programlisting>

</para>
</sect1>

    <sect1 id="admin-key-filters">

      <title
>Skapa och redigera nyckelkategorier </title>

      <para
>&kleopatra; låter användaren anpassa <link linkend="configuration-appearance"
>synligt utseende</link
> för nycklar baserat på ett koncept som kallas <guilabel
>Nyckelkategorier</guilabel
>. Avsnittet beskriver hur du kan redigera tillgängliga kategorier och lägga till nya. </para>

      <para
>Vid försök att hitta kategorin som en nyckel hör till, försöker &kleopatra; matcha nyckeln med en följd av nyckelfilter, angivna i filen <filename
>libkleopatrarc</filename
>. Det första som matchar definierar kategorin. </para>

      <para
>Varje nyckelfilter definieras i en konfigurationsgrupp som heter <literal
>Key Filter #<replaceable
>n</replaceable
></literal
>, där <replaceable
>n</replaceable
> är ett tal som börjar på <literal
>0</literal
>. </para>

      <para
>Det enda alternativ som krävs i gruppen <literal
>Key Filter #<replaceable
>n</replaceable
></literal
> är <varname
>Name</varname
>, som innehåller namnet på kategorin som det visas i <link linkend="configuration-appearance"
>inställningsdialogrutan</link
>. </para>

      <para
><xref linkend="table-key-filters-appearance"/> listar alla alternativ som definierar visningsegenskaperna för nycklar som hör till kategorin (dvs. de alternativ som kan ställas in i <link linkend="configuration-appearance"
>inställningsdialogrutan</link
>), medan <xref linkend="table-key-filters-criteria"/> anger alla alternativ som definierar de kriterier som filtret använder för att matcha nycklar. </para>

      <table id="table-key-filters-appearance">
	<title
>Inställningsalternativ för att definiera visningsegenskaper i nyckelfilter</title>
	<tgroup cols="3">
	  <colspec colnum="2" align="center"/>
	  <thead>
	    <row>
	      <entry
>Inställningsalternativ</entry>
	      <entry
>Typ</entry>
	      <entry
>Beskrivning</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><varname
>background-color</varname
></entry>
	      <entry
>färg</entry>
	      <entry
>Bakgrundsfärgen som ska användas. Om den saknas får den som standardvärde vilken bakgrundsfärg som än är definierad globalt för listvyer. </entry>
	    </row>
	    <row>
	      <entry
><varname
>foreground-color</varname
></entry>
	      <entry
>färg</entry>
	      <entry
>Förgrundsfärgen som ska användas. Om den saknas får den som standardvärde vilken förgrundsfärg som än är definierad globalt för listvyer. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font</varname
></entry>
	      <entry
>teckensnitt</entry>
	      <entry
>Det egna teckensnittet som ska användas. Teckensnittet skalas till storleken som är inställd för listvyer, och eventuella teckenegenskaper (se nedan) införs. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-bold</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>Om angiven som <literal
>true</literal
> och <varname
>font</varname
> inte är angiven, används standardteckensnittet i listvyn med teckenstilen fetstil tillagd (om tillgänglig). Ignoreras om <varname
>font</varname
> också finns med. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-italic</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>Motsvarar <varname
>font-bold</varname
>, men använder kursivstil istället för fetstil. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-strikeout</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>Om <literal
>true</literal
> ritas en centrerad linje över teckensnittet. Gäller även om <varname
>font</varname
> är angiven. </entry>
	    </row>
	    <row>
	      <entry
><varname
>ikon</varname
></entry>
	      <entry
>text</entry>
	      <entry
>Namnet på en ikon att visa i första kolumnen. Ännu inte implementerat. </entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <table id="table-key-filters-criteria">
	<title
>Inställningsalternativ för att definiera filterkriterier i nyckelfilter</title>
	<tgroup cols="3">
	  <colspec colnum="2" align="center"/>
	  <thead>
	    <row>
	      <entry
>Inställningsalternativ</entry>
	      <entry
>Typ</entry>
	      <entry
>Om angivet matchar filtret när...</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><varname
>is-revoked</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>nyckeln har återkallats.</entry>
	    </row>
	    <row>
	      <entry
><varname
>is-expired</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>nyckeln har gått ut.</entry>
	    </row>
	    <row>
	      <entry
><varname
>is-disabled</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>nyckeln har inaktiverats (markerats för att inte användas) av användaren. Ignoreras för &smime;-nycklar. </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-root-certificate</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>nyckeln är ett rotcertifikat. Ignoreras för OpenPGP-nycklar. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-encrypt</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>nyckeln kan användas för kryptering. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-sign</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>nyckeln kan användas för signering. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-certify</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>nyckeln kan användas för att signera (certifiera) andra nycklar. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-authenticate</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>nyckeln kan användas för behörighetskontroll (t.ex. som ett <acronym
>TLS</acronym
>-klientcertifikat). </entry>
	    </row>
	    <row>
	      <entry
><varname
>has-secret-key</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>den hemliga nyckeln i det här nyckelparet är tillgänglig. </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-openpgp-key</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>nyckeln är en OpenPGP-nyckel (<literal
>true</literal
>), eller en &smime;-nyckel (<literal
>false</literal
>). </entry>
	    </row>
	    <row>
	      <entry
><varname
>was-validated</varname
></entry>
	      <entry
>boolean</entry>
	      <entry
>nyckeln har kontrollerats (se <link linkend="certificates-validate"
><menuchoice
><shortcut
><keycombo action="simul"
>&Shift;<keycap
>F5</keycap
></keycombo
></shortcut
> <guimenu
>Certifikat</guimenu
> <guimenuitem
>Kontrollera</guimenuitem
></menuchoice
></link
>). </entry>
	    </row>
	    <row>
	      <entry
><varname
><replaceable
>prefix</replaceable
>-ownertrust</varname
></entry>
	      <entry
>validity<footnote
> <para
>Giltighet är en (ordnad) uppräkning av följande tillåtna värden: <literal
>unknown</literal
>, <literal
>undefined</literal
>, <literal
>never</literal
>, <literal
>marginal</literal
>, <literal
>full</literal
>, <literal
>ultimate</literal
>. Se handböckerna för &gpg; och &gpgsm; för en detaljerad förklaring. </para>
		</footnote>
	      </entry>
	      <entry
>nyckeln har exakt (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is</literal
>), har vad som helst utom (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is-not</literal
>), har åtminstone (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is-at-least</literal
>), eller har som mest (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is-at-most</literal
> ägarpålitligheten som anges som värde i inställningsalternativet. Om mer än en nyckel med <varname
><replaceable
>prefix</replaceable
>-ownertrust</varname
> (med olika <replaceable
>prefix</replaceable
> värden) finns i en enstaka grupp, är beteendet odefinierat. </entry>
	    </row>
	    <row>
	      <entry
><varname
><replaceable
>prefix</replaceable
>-validity</varname
></entry>
	      <entry
>validity</entry>
	      <entry
>Motsvarar <varname
><replaceable
>prefix</replaceable
>-ownertrust</varname
>, men för nyckelgiltighet istället för ägarpålitlighet. </entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <note>
	<para
>Några av de mest intressanta kriterierna, som <varname
>is-revoked</varname
> eller <varname
>is-expired</varname
> fungerar bara med <emphasis
>kontrollerade</emphasis
> nycklar, vilket är orsaken till att det normalt bara undersöks att kontrollerade nycklar är återkallade eller utgångna, även om det är fritt att ta bort de extra villkoren. </para>
      </note>

      <para
>I allmänhet undersöks inte kriterier som inte anges (dvs. om inställningsalternativet inte är med). Om ett kriterium anges, undersöks det och måste matcha för att filtret som helhet ska matcha, dvs. kriterierna sammanfogas med OCH. </para>

      <example>
	<title
>Exempel på nyckelfilter </title>
	<para
>För att söka efter alla utgångna men inte återkallade rotcertifikat, skulle du använda ett nyckelfilter som definieras på följande sätt: </para>
<!-- isn't there a better way to not indent this in the output??? -->
	<screen
><!--
-->[Key Filter #<replaceable
>n</replaceable
>]
Name=utgångna, men inte återkallade
was-validated=true
is-expired=true
is-revoked=false
is-root-certificate=true<!--
     --></screen>
	<para
>För att söka efter alla inaktiverade OpenPGP-nycklar (som ännu inte stöds av &kleopatra;) med åtminstone <quote
>marginell</quote
> ägarpålitlighet, skulle du använda: </para>
	<screen
><!--
-->[Key Filter #<replaceable
>n</replaceable
>]
Name=inaktivera OpenPGP-nycklar med marginell eller bättre ägarpålitlighet
is-openpgp=true
is-disabled=true
is-at-least-ownertrust=marginal<!--
     --></screen>
      </example>

    </sect1>

  </chapter
> <!-- Administrator's Guide -->

<chapter id="credits-and-license">
<title
>Tack till och licens</title>

<para
>&kleopatra; copyright 2002 &Steffen.Hansen;, &Matthias.Kalle.Dalheimer; och &Jesper.Pedersen;., copyright 2004 &Daniel.Molkentin;, copyright 2004 Klar&auml;lvdalens Datakonsult AB</para>

<para
>Dokumentation copyright 2002 &Steffen.Hansen;, copyright 2004 &Daniel.Molkentin;, copyright 2004 Klar&auml;lvdalens Datakonsult AB</para>

<itemizedlist>
<title
>Bidragsgivare</title>
<listitem>
<para
>&Marc.Mutz; &Marc.Mutz.mail;</para>
</listitem>
<listitem>
<para
>&David.Faure; &David.Faure.mail;</para>
</listitem>
<listitem>
<para
>&Steffen.Hansen; <email
>hansen@kde.org</email
></para>
</listitem>
<listitem>
<para
>&Matthias.Kalle.Dalheimer; &Matthias.Kalle.Dalheimer.mail;</para>
</listitem>
<listitem>
<para
>&Jesper.Pedersen; &Jesper.Pedersen.mail;</para>
</listitem>
<listitem>
<para
>&Daniel.Molkentin; &Daniel.Molkentin.mail;</para>
</listitem>
</itemizedlist>

<para
>Översättning Stefan Asserhäll <email
>stefan.asserhall@comhem.se</email
></para
> 
&underFDL; &underGPL; </chapter>

&documentation.index; 
</book>

<!--
Local Variables:
mode: sgml
sgml-minimize-attributes:nil
sgml-general-insert-case:lower
sgml-indent-step:0
sgml-indent-data:nil
End:

// vim:ts=2:sw=2:tw=78:noet
-->
