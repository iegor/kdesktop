<chapter id="using-kmail">

<chapterinfo>
<authorgroup>
<author
><firstname
>Daniel</firstname
> <surname
>Naber</surname
> <affiliation
><address
> <email
>daniel.naber@t-online.de</email>
</address
></affiliation>
</author>
<othercredit role="translator"
><firstname
>Matthias</firstname
><surname
>Kiefer</surname
> <affiliation
><address
><email
>matthias.kiefer@gmx.de</email
></address
></affiliation
> <contrib
>Deutsche Übersetzung</contrib
></othercredit
> <othercredit role="translator"
><firstname
>Alexander</firstname
><surname
>Gretencord</surname
> <affiliation
><address
><email
>arutha@gmx.de</email
></address
></affiliation
> <contrib
>Überarbeitung</contrib
></othercredit
> <othercredit role="translator"
><firstname
>Frank</firstname
><surname
>Schütte</surname
> <affiliation
><address
><email
>F.Schuette@t-online.de</email
></address
></affiliation
> <contrib
>Überarbeitung ab Version 1.3</contrib
></othercredit
> 
</authorgroup>
<date
>2004-09-24</date
> <releaseinfo
>1.7.50</releaseinfo
> </chapterinfo>

<title
>&kmail; verwenden</title>

<sect1 id="the-mail-reader-window">
<title
>Das Hauptfenster</title>

<para
>Das Hauptfenster erscheint nach dem Start von &kmail;. Es ist in der Voreinstellung in drei Bereiche unterteilt:</para>

<variablelist>
<varlistentry>
<term
>Ordnerbereich (links)</term>
<listitem>
<para
>Dieser Bereich enthält die Liste Ihrer Nachrichtenordner (andere Programme nennen das eventuell auch Postfächer). Ein Ordner wird durch Klicken mit der Maus ausgewählt. Die Nachrichten, die er enthält, werden dann im Vorspannbereich angezeigt. Der Ordnerbereich kann als eine kurze Ansicht, die nur einen kleinen Bereich des Fensters benutzt, oder eine lange Ansicht, die die gesamte linke Seite des Fensters benutzt und daher mehr Ordner gleichzeitig aufnehmen kann, angezeigt werden. In <guilabel
>Erscheinungsbild</guilabel
>/<guilabel
>Layout</guilabel
> in dem Dialog <menuchoice
><guimenu
>Einstellungen</guimenu
><guimenuitem
>&kmail; einrichten...</guimenuitem
></menuchoice
> kann zwischen beiden Ansichten umgeschaltet werden. Nähere Informationen über Benutzung der Ordner bekommen Sie im Kapitel <link linkend="folders"
>Nachrichtenordner</link
>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Nachrichtenliste (in der Voreinstellung oben rechts)</term>
<listitem>
<para
>In diesem Bereich werden Informationen (Status der Nachricht, Absender, Betreff und Absendedatum, optionale Spalten wie Größe, Kennzeichnung für Anhänge, Wichtig etc.) über die Nachrichten im ausgewählten Ordner angezeigt. Wenn Sie auf einen Vorspann klicken, wird die dazugehörige Nachricht ausgewählt und im Nachrichtenbereich angezeigt. Sie können mehrere Nachrichten auswählen, indem Sie beim Klicken die &Strg;-Taste gedrückt hält. Um Nachrichten zu sortieren, klicken Sie einfach auf das Feld in der Kopfzeile der Spalte, nach der Sie sortieren wollen. Klicken Sie mehrmals hintereinander auf dieselbe Spalte, wird die Sortierrichtung zwischen Aufwärts und Abwärts umgeschaltet und einige zusätzliche Sortierkriterien stehen zur Verfügung (wie etwa das Sortieren nach Status, wenn Sie auf den Vorspann der Betreff-Spalte klicken). Wenn Sie mit der <mousebutton
>rechten</mousebutton
> Maustaste auf die Kopfzeile der Liste klicken, erscheint ein Aufklappmenü, mit dem Sie die verschiedenen Spalten ein- bzw. ausblenden können. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Nachrichtenbereich (in der Voreinstellung unten rechts)</term>
<listitem>
<para
>Dieser Bereich zeigt die ausgewählte Nachricht an. Anhänge erscheinen als im unteren Bereich der Nachricht als Symbole oder eingebettet. Die Darstellung ist abhängig von der Auswahl unter <menuchoice
><guimenu
>Ansicht</guimenu
><guimenuitem
>Anhänge</guimenuitem
></menuchoice
>. Bei komplexen Nachrichten wird die Struktur der Nachricht in der Nachrichtenstrukturanzeige unter dem Vorschaubereich angezeigt. Die Position des Vorschaubereichs sowie der Strukturanzeige kann unter <guilabel
>Erscheinungsbild</guilabel
>/<guilabel
>Layout</guilabel
> im Dialog <menuchoice
><guimenu
>Einstellungen</guimenu
><guimenuitem
>&kmail; einrichten</guimenuitem
></menuchoice
> eingestellt werden. Sie können außerdem die Vorschauansicht abschalten und auswählen, wann die Strukturanzeige angezeigt werden soll. Sie können den Text seitenweise mit den Tasten <keycap
>Bild auf</keycap
> und <keycap
>Bild ab</keycap
>, oder zeilenweise mit den Tasten <keycap
>Pfeil hoch</keycap
> und <keycap
>Pfeil runter</keycap
> durchlaufen. Um zu einer anderen Nachricht zu gelangen, ohne die Maus benutzen zu müssen, kann man <link linkend="keyboard-shortcuts"
>Tastenkürzel</link
> verwenden.</para>
</listitem>
</varlistentry>
</variablelist>

</sect1>

<sect1 id="keyboard-shortcuts">
<title
>Tastenzuordnung</title>

<para
>Folgende Tastenkürzel können im Hauptfenster verwendet werden:</para>

<informaltable>
<tgroup cols="2">
<thead>
<row>
<entry
>Tastenzuordnungen</entry>
<entry
>Aktion</entry>
</row>
</thead>
<tbody>
<row>
<entry
><keycap
>Leertaste</keycap
></entry>
<entry
>Scrollt in der gewählten Nachricht nach unten oder geht zur nächsten ungelesenen Nachricht, falls Sie schon am unteren Rand sind.</entry>
</row>
<row>
<entry
><keycap
>Pfeil rechts</keycap
> Taste oder <keycap
>N</keycap
></entry>
<entry
>Wechselt zur nächsten Nachricht im aktuellen Ordner.</entry>
</row>
<row>
<entry
><keycap
>Pfeil links</keycap
> Taste oder <keycap
>P</keycap
></entry>
<entry
>Wechselt zur vorigen Nachricht im aktuellen Ordner.</entry>
</row>
<row>
<entry
><keycap
>+</keycap
></entry>
<entry
>Wechselt zur nächsten ungelesenen Nachricht in diesem Ordner.</entry>
</row>
<row>
<entry
><keycap
>-</keycap
></entry>
<entry
>Wechselt zur vorigen ungelesenen Nachricht in diesem Ordner.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Strg;<keycap
>+</keycap
></keycombo
></entry>
<entry
>Wechselt zum nächsten Ordner mit ungelesenen Nachrichten.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Strg;<keycap
>-</keycap
></keycombo
></entry>
<entry
>Wechselt zum vorigen Ordner mit ungelesenen Nachrichten.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Strg;<keycap
>Pfeil hoch</keycap
></keycombo
></entry>
<entry
>Geht zum nächsten Ordner in der Ordnerliste (wenn die Ordnerliste den Fokus hat)</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Strg;<keycap
>Pfeil runter</keycap
></keycombo
></entry>
<entry
>Wechselt zum vorigen Ordner in der Ordnerliste (wenn die Ordnerliste den Fokus hat).</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Strg;<keycap
>Pfeil links</keycap
></keycombo
></entry>
<entry
>Bewegung aufwärts in der Ordnerliste. Um in einen Ordner zu wechseln, muss man <keycombo action="simul"
>&Strg;<keycap
>Leertaste</keycap
></keycombo
> betätigen.</entry>
<!-- TODO: or wait for timeout so the folder is selected? -->
</row>
<row>
<entry
><keycombo action="simul"
>&Strg;<keycap
>Pfeil rechts</keycap
></keycombo
></entry>
<entry
>Bewegung abwärts in der Ordnerliste. Um in einen Ordner zu wechseln, muss man <keycombo action="simul"
>&Strg;<keycap
>Leertaste</keycap
></keycombo
> betätigen.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Strg;<keycap
>Leertaste</keycap
></keycombo
></entry>
<entry
>Wechselt in den aktuellen Ordner, also den Ordner, den man mit Hilfe der Tasten <keycombo action="simul"
>&Strg;<keycap
>Pfeil links</keycap
></keycombo
> und <keycombo action="simul"
>&Strg;<keycap
>Pfeil rechts</keycap
></keycombo
> ausgewählt hat.</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Shift;<keycap
>Pfeil links</keycap
></keycombo
> und <keycombo action="simul"
>&Shift;<keycap
>Pfeil rechts</keycap
></keycombo
></entry>
<entry
>Wählt beginnend mit der aktuellen Nachricht Nachrichten in der Nachrichtenliste aus.</entry>
</row>
</tbody>
</tgroup>
</informaltable>

<para
>Weitere Tastaturkürzel finden Sie im Dialog <menuchoice
><guimenu
>Einstellungen</guimenu
><guimenuitem
>Kürzel konfigurieren...</guimenuitem
></menuchoice
>.</para>

</sect1>

<sect1 id="the-composer-window">
<title
>Nachrichten erstellen</title>

<para
>Im Fenster Nachricht erstellen kann man neue Nachrichten schreiben. Es kann über <menuchoice
><guimenu
>Nachricht</guimenu
><guimenuitem
>Neue Nachricht...</guimenuitem
></menuchoice
> oder über das Symbol <guiicon
>Neue Nachricht</guiicon
> des <guilabel
>Hauptfensters</guilabel
> aufgerufen werden.</para>

<sect2 id="composing-a-message">
<title
>Eine Nachricht schreiben</title>

<para
>Um eine Nachricht zu erstellen, muss man die entsprechenden Felder im Fenster zum Nachricht erstellen ausfüllen. Im Menü <guimenu
>Ansicht</guimenu
> kann man die anzuzeigenden Vorspannfelder auswählen. Neben dem Feld <guimenuitem
>Identität</guimenuitem
> befindet sich das Ankreuzfeld <guibutton
>Beibehalten</guibutton
>. Markiert man dieses Feld, so wird die aktuelle Identität die Standardidentität für alle zukünftig erstellten neuen Nachrichten.</para>

<para
>Für die Erstellung der Nachricht gibt es eine Reihe von Abkürzungen. Die Knöpfe <guibutton
>...</guibutton
> neben den Feldern <guilabel
>An:</guilabel
>, <guilabel
>Kopie:</guilabel
> und <guilabel
>Blindkopie:</guilabel
> ermöglichen die Auswahl von Adressen direkt aus dem Adressbuch.</para>

<para
>Wenn Sie anfangen, eine Adresse in das Feld <guilabel
>An:</guilabel
>/<guilabel
>Kopie </guilabel
>/<guilabel
>Blindkopie</guilabel
> einzugeben, wird ein Ausklappmenü erscheinen, welches entsprechende Adressen anbietet, welche Sie vor Kurzem benutzt haben, oder die in Ihrem Adressbuch vorhanden sind. Man kann dieses automatische Ausklappmenü deaktivieren, indem man mit der rechten Maustaste auf das Feld klickt und einen anderen Vervollständigungsmodus auswählt.</para>

<para
>Wann immer Sie mehr als einen Empfänger in einem der Felder eingeben wollen, trennen Sie diese bitte mit einem Komma. Sie müssen abhängig von der Systemkonfiguration u. U. vollständige Adressen (also <userinput
>benutzer@domain.de</userinput
>) auch für lokale Benutzer angeben.</para>

<para
>Wenn die Nachricht fertig geschrieben ist, klicken Sie auf das Symbol <guiicon
>E-Mail versenden</guiicon
>, um die Nachricht sofort zu versenden, oder <guiicon
>Später versenden</guiicon
>, um die Nachricht in den Ordner Postausgang zu stellen. Falls die Nachricht noch nicht fertig ist, können Sie im Menü <menuchoice
><guimenu
>Nachricht</guimenu
><guimenuitem
>In Entwürfe-Ordner speichern</guimenuitem
></menuchoice
> auswählen. </para
></sect2>

<sect2 id="encrypt-sign">
<title
>Signieren und Verschlüsseln von Nachrichten</title>

<para
>Falls man eine Nachricht <link linkend="pgp-encrypt-your-messages"
>verschlüsselt</link
> oder <link linkend="pgp-sign-your-messages"
>digital signiert</link
> versenden möchte, muss man das Symbol <guiicon
>Nachricht verschlüsseln</guiicon
> bzw. <guiicon
>Nachricht signierten</guiicon
> in der Werkzeugleiste auswählen. Außerdem können Sie das Formast auswählen, das zum Signieren und/oder Verschlüsseln der Nachrichten verwendet werden soll. Je nach installierten Verschlüsselungsprogrammen können Sie wählen zwischen: </para>

<variablelist id="cryptographic-message-formats">
<varlistentry>
<term
><guilabel
>Alle</guilabel
></term>
<listitem>
<para
>&kmail; verwendet ein Format, dass alle Empfänger der Nachricht verstehen. Das bevorzugte Format der Empfänger kann im KDE-Adressbuch hinterlegt werden.</para
></listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Inline-OpenPGP (veraltet)</guilabel
></term>
<listitem>
<para
>Dieses Format ist veraltet. Wenn Sie dieses Format verwenden, wird nur der Nachrichtentext signiert und/oder verschlüsselt. <emphasis
>Anhänge werden weder signiert noch verschlüsselt.</emphasis
> HTML-Nachrichten können mit diesem Format nicht signiert werden. Sie sollten dieses Format nur verwenden, wenn es absolut nöig ist, d. h., wenn Sie Nachrichten an Benutzer von E-Mail-Programmen verschicken, die die moderneren Formate nicht verstehen.</para
></listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>PGP/MIME</guilabel
></term>
<listitem>
<para
>Dieses Format ist der Nachfolger des Inline-OpenPGP-Formats. Wenn Sie dieses Format verwenden, dann werden der Nachrichtentext und alle Anhänge signiert und/oder verschlüsselt (zumindest in der Voreinstellung). Dies ist das empfohlene Format, wenn Sie OpenPGP verwenden.</para
></listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>S/MIME</guilabel
></term>
<listitem>
<para
>Dieses Format ist eine Alternative zu PGP/MIME. Wenn Sie dieses Format verwenden, dann werden der Nachrichtentext und alle Anhänge signiert und/oder verschlüsselt (zumindest defaultmäßig). Dieses Format wird hauptsächlich von großen Firmen und Behörden verwendet.</para
></listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>S/MIME-opak</guilabel
></term>
<listitem>
<para
>Dieses Format ist eine Variante des S/MIME-Formats. Es sollte nur verwendet werden, wenn es absolut notwendig ist.</para
></listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="html-mails">
<title
>HTML-Nachrichten schreiben</title>

<para
>Beachten Sie, dass HTML-Nachrichten häufig als Ärgernis empfunden werden. Sie sollten das Versenden solcher Nachrichten daher vermeiden. Das gilt insbesondere inMailinglisten, sofern HTML-Nachrichten dort nicht ausdrücklich erlaubt sind.</para>

<para
>Um HTML-Nachrichten zu erzeugen, müssen Sie zunächst die Auszeichnungswerkzeuge einschalten. Das geschieht durch Anwählen von <guimenuitem
>Formatierung (HTML)</guimenuitem
> im Menü <menuchoice
><guimenu
>Optionen</guimenu
></menuchoice
>. Eine Werkzeugleiste mit mehreren Werkzeugen zum Formatieren der Nachricht wird erscheinen. Über das Ausklappmenü können Sie zwischen Standardtext und sechs verschiedenen Listentypen (drei unnummerierten Listen mit verschiedenen Symbolen und drei nummerierten Listen mit unterschiedlichen Nummerierungen) auswählen. Außerdem können Sie den Zeichensatz, die Zeichengröße, den Zeichenstil (fett, kursiv, unterstrichen) und die Zeichenfarbe bestimmen. Und schließlich können Sie die Ausrichtung des Textes (linksbündig, zentriert oder rechtsbündig) auswählen.</para>

<para
>Das Erstellen von Tabellen und eingebetteten Bildern ist derzeit nicht möglich.</para>

</sect2>

<sect2 id="attachments">
<title
>Dateien anhängen (Attachments)</title>

<para
>Folgende Möglichkeiten gibt es, Dateien an eine Nachricht anzuhängen:</para>

<itemizedlist>
<listitem>
<para
>Klicken Sie auf <guiicon
>Datei anhängen</guiicon
> (Büroklammer) und wählen Sie die Datei, die Sie anhängen wollen.</para>
</listitem>
<listitem>
<para
>Ziehen Sie eine Datei mit der Maus von der Arbeitsfläche oder einem Ordner in das Fenster zum Erstellen der Nachrichten und lassen Sie sie dort fallen.</para
> 
</listitem>
<listitem>
<para
>Ziehen Sie eine Nachricht aus der Nachrichtenliste von &kmail; in das Fenster zum Erstellen von Nachrichten -- diese Nachricht wird dann angehängt.</para>
</listitem>
<listitem>
<para
>Wählen Sie einen Punkt aus dem Menü <guilabel
>Anhängen</guilabel
>.</para>
</listitem>
</itemizedlist>

<para
>Wenn eine Datei angehängt wurde, erscheint diese im Anhang-Bereich am unteren Ende des 'Nachricht erstellen'-Fensters. Sie können eine angehängte Datei wieder entfernen, speichern oder die Eigenschaften ändern, indem auf die Nachricht mit der <mousebutton
>rechten</mousebutton
> Maustaste klicken und im angezeigten Menü <guilabel 
>Entfernen</guilabel
>, <guilabel 
>Speichern</guilabel
> oder <guilabel
>Ansicht</guilabel
> wählen.</para>

<para
>Der Eintrag <guimenuitem
>Eigenschaften</guimenuitem
> öffnet den Dialog <guilabel
>Nachrichtenteil-Eigenschaften</guilabel
>. Das erste Feld enthält den &MIME;-Typ des Anhangs. Es wurde wie das Feld <guilabel
>Name</guilabel
> automatisch mit einem geeigneten Wert gefüllt. Der &MIME;-Typ kann manchmal falsch sein. Sie können ihn dann selbst eintippen, oder aus einer Liste den korrekten Typ wählen. Sie können auch noch eine Kodierungsmethode auswählen (normalerweise ist der Standardwert in Ordnung). Man kann <guilabel
>Automatische Anzeige vorschlagen</guilabel
> auswählen, um den Empfänger die automatische Anzeige dieses Nachrichtenteils in der Nachrichtenvorschau anstelle des Standardsymbols vorzuschlagen. Ob dies funktioniert oder nicht hängt vom E-Mail-Klienten des Empfängers und dessen Einstellungen ab.</para>

<para
>Sie können auch öffentliche Schlüssel anhängen, indem Sie die entsprechende Option aus dem Menü <guilabel
>Anhängen</guilabel
> auswählen. Angehängte <application
>PGP</application
>-Schlüssel werden wie angehängte Dateien behandelt.</para>

</sect2>

<sect2 id="checking-the-spelling-of-your-message">
<title
>Die Nachricht auf Rechtschreibfehler überprüfen</title>

<para
>&kmail; überprüft automatisch die Rechtschreibung Ihrer Nachricht (dies funktioniert derzeit nicht im HTML-Modus) und zeigt unbekannte Wörter in roter Farbe an. Wenn zu viele unbekannte Wörter gefunden werden, schaltet &kmail; die Rechtschreibprüfung ab. Um die verwendete Sprahce auszuwählen, benutzen Sie <menuchoice
><guimenu
>Ansicht</guimenu
><guimenuitem
>Wörterbuch</guimenuitem
></menuchoice
>. Sie können die automatische Rechtschreibkontrolle im Menü <menuchoice
><guimenu
>Optionen</guimenu
></menuchoice
> abschalten.</para>

<para
>Um die Rechtschreibung Ihrer Nachricht zu überprüfen, benutzen Sie <menuchoice
><guimenu
>Extras</guimenu
> <guimenuitem
>Rechtschreibung...</guimenuitem
></menuchoice
>. &kmail; benutzt <ulink url="/kspell/"
>&kspell;</ulink
> um die Rechtschreibung zu überprüfen. Dies ist die &kde;-Oberfläche für <application
>ispell</application
> oder <application
>aspell</application
>. Bitte beachten Sie, dass das Rechtschreibprogramm über <menuchoice
><guimenu
>Einstellungen</guimenu
> <guimenuitem
>Rechtschreibprüfung...</guimenuitem
></menuchoice
> zuerst eingerichtet werden muss.</para>

</sect2>

</sect1>

<sect1 id="folders">
<title
>Nachrichtenordner</title>

<para
>Nachrichtenordner sind nützlich, um Ihre Nachrichten zu organisieren. Standardmäßig werden, sofern Sie noch keinen Nachrichtenordner haben, alle Nachrichten im Ordner <filename class="directory"
>$<envar
>KDEHOME</envar
>/share/apps/kmail/</filename
>, gespeichert. Existieren bereits Nachrichtenordner in <filename class="directory"
>~/Mail</filename
>,werden stattdessen diese verwendet. Beim ersten Start von &kmail; werden die Ordner <guilabel
>Posteingang</guilabel
>, <guilabel
>Postausgang</guilabel
>, <guilabel
>Gesendete Nachrichten</guilabel
>, <guilabel
>Mülleimer</guilabel
> und <guilabel
>Entwürfe</guilabel
> automatisch angelegt. Diese Ordner haben spezielle Funktionen:</para>

<variablelist>
<varlistentry>
<term
><guilabel
>Posteingang:</guilabel
></term>
<listitem>
<para
>Hier legt &kmail; Ihre neu abgeholten Nachrichten ab. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Postausgang:</guilabel
></term>
<listitem>
<para
>Hier werden Nachrichten zwischengespeichert, die für den Versand bestimmt sind. Man sollte hierhin keine Nachrichten verschieben, sondern statt dessen das Symbol <guiicon
>Senden</guiicon
> im Fenster Nachricht erstellen verwenden. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Gesendete Nachrichten:</guilabel
></term>
<listitem>
<para
>Enthält in der Voreinstellung Kopien von allen versandten Nachrichten.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Mülleimer:</guilabel
></term>
<listitem>
<para
>Enthält in der Voreinstellung alle Nachrichten, die Sie in den Mülleimer verschoben haben.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Entwürfe:</guilabel
></term>
<listitem>
<para
>Enthält Nachrichten, die Sie angefangen dann in diesem Ordner gespeichert anstatt abgesandt haben.</para>
</listitem>
</varlistentry>
</variablelist>

<para
>Möglicherweise genügen Ihnen die Ordner, die standardmäßig erstellt werden. Eventuell werden Sie aber mehr Ordner brauchen, um Ihre Nachrichten zu organisieren. Um einen neuen Ordner zu erstellen, wählen Sie <menuchoice
><guimenu
> Ordner</guimenu
><guimenuitem
>Neuer Ordner...</guimenuitem
></menuchoice
>. Der Dialog <link linkend="folders-properties-window"
>Ordner-Eigenschaften</link
> fragt daraufhin die notwendigen Informationen ab. Wenn Sie die Einstellungen eines Ordners ändern wollen, müssen Sie ihn im Ordnerbereich auswählen und dann <menuchoice
><guimenu
>Ordner</guimenu
><guimenuitem
>Eigenschaften</guimenuitem
></menuchoice
> wählen.</para>

<para
>Um Nachrichten von einem Ordner in einen anderen zu verschieben, wählen Sie diese aus und drücken dann die Taste <keycap
>M</keycap
> oder wählen <menuchoice
><guimenu
>Nachricht</guimenu
><guimenuitem
>Verschieben nach </guimenuitem
></menuchoice
> Geben Sie den gewünschten Zielordner an. Alternativ können Sie die Nachrichten auch mit der Maus aus dem Vorspannbereich auf den gewünschten Ordner in der Liste ziehen.</para>

<para
>Wenn Sie alle Nachrichten eines Ordners entfernen wollen, wählen Sie diesen aus und wählen Sie <menuchoice
><guimenu
>Ordner</guimenu
><guimenuitem
>Alle Nachrichten in den Mülleimer verschieben</guimenuitem
></menuchoice
>. Um einen Ordner und alle darin enthaltenen Unterordner und Nachrichten zu entfernen, kann man <menuchoice
><guimenu
>Ordner</guimenu
><guimenuitem
>Ordner entfernen</guimenuitem
></menuchoice
> auswählen.</para>

<sect2 id="folders-properties-window">
<title
>Ordner-Eigenschaften</title>

<para
>Der Dialog <guilabel
>Eigenschaften</guilabel
> des Ordners erlaubt neben Umbenennen und Verschieben die Angabe aller anderen Eigenschaften des Ordners. Die meisten Eigenschaften sind nur für eigene Ordner und nicht für Standardordner wie <guilabel
>inbox</guilabel
> &etc; verfügbar. Standardordner können auch nicht verschoben oder umbenannt werden.</para>

<sect3 id="folders-properties-general">
<title
>Allgemein</title>

<para
>Benennt einen Ordner durch Ändern des Eintrags im <guilabel
>Name:</guilabel
>-Feld um.</para>

<para
>Man kann einen Ordner zu einem Unterordner manchen, indem man den übergeordneten Ordner im Feld <guilabel
>Gehört zu</guilabel
> auswählt. </para>

<para
>Der Abschnitt <guilabel
>Ordner-Symbole</guilabel
> erlaubt die Auswahl von eigenen Symbolen zur Darstellung in der Ordnerliste.</para>

<para
>Weitergehende Informationen zum <guilabel
>Mailbox-Format</guilabel
> findet man im Abschnitt <link linkend="folders-format"
>Ordnerformat</link
>.</para>

<para
>Im Abschnitt <guilabel
>Identität</guilabel
> kann man die Standardidentität festlegen, die für neue Nachrichten verwendet wird, wenn dieser Ordner ausgewählt ist. Für Antworten auf Nachrichten wird standardmäßig dennoch die im Feld <quote
>An</quote
> angegebene Adresse verwandt, falls eine entsprechende Identität existiert.</para>

<para
>Mit <guilabel
>Absender/Empfänger anzeigen</guilabel
> kann man die sichtbaren Spalten des Vorspannbereiches ändern. Das ist nützlich, falls man einen Ordner zur Speicherung von eigenen versandten Nachrichten nutzen will.</para>

<para
>Wählen Sie <guilabel
>Neue Nachrichten in diesem Ordner ignorieren</guilabel
> an, wenn Sie nicht darüber informiert werden wollen, wenn neue Nachrichten in diesem Ordner eintreffen. Das ist beispielsweise für den Ordner sinnvoll, in den Sie alle erkannten Spam-Nachrichten verschieben.</para>

<para
>Wählen Sie <guilabel
>Antworten in diesem Ordner aufbewahlen</guilabel
> an, wenn Sie möchten, dass Antworten auf Nachrichten in diesem Ordner ebenfalls in diesem Ordner abgelegt werden, anstatt in den speziellen Ordner für gesendete Nachrichten verschoben zu werden.</para>

</sect3>

<sect3 id="folders-properties-expiry">
<title
>Ablauf alter Nachrichten</title>

<para
>Hier können Sie auswählen, was mit alten Nachrichten in diesem Ordner passieren soll. Wenn Sie <guilabel
>Alte Nachrichten in diesem Ordner löschen</guilabel
> einschalten, werden alte Nachrichten von KMail je nach Ihren Einstellungen gelöscht oder in einen anderen Ordner verschoben. Sie können den Verfall alter Nachrichten auch manuell über <menuchoice
><guimenu
>Ordner</guimenu
><guisubmenu
>Aufbewahrungsfrist festlegen</guisubmenu
></menuchoice
> und über <menuchoice
><guimenu
>Datei</guimenu
><guisubmenu
>Alte Nachrichten aus allen Ordnern löschen</guisubmenu
></menuchoice
> auslösen.</para>

<warning
><para
>Verfallene Nachrichten werden gelöscht. Sie werden <emphasis
>nicht</emphasis
> in den Mülleimer verschoben. Daher sollte man diese Einstellung mit Bedacht einsetzen.</para
></warning>

</sect3>

<sect3 id="folders-properties-mailinglist">
<title
>Mailingliste</title>

<para
>Wenn Sie den Ordner für eine Mailingliste verwenden wollen, sollten Sie das Feld <guilabel
>Ordner enthält eine Mailingliste</guilabel
> ankreuzen, sowie auf <guilabel
>Automatisch feststellen</guilabel
> klicken. KMail versucht dann Informationen über die Mailingliste anhand der aktuell ausgewählten Nachricht zu ermitteln. Wenn KMail einige der Adressen nicht ermitteln kann, können Sie die fehlenden Informationen von Hand nachtragen. Dazu wählen Sie zunächst den <guilabel
>Adresstyp</guilabel
> aus, für den Sie eine Adresse hinzufügen wollen. Sie haben die folgenden Wahlmöglichkeiten:</para>

	<variablelist>
	  <varlistentry id="folders-properties-mailinglist-post">
	    <term>
	      <guilabel
>An Liste posten</guilabel>
	    </term>
	    <listitem>
	      <para
>Diese Adresse wird zum Versenden von Nachrichten an die Mailingliste ausgewählt. Dies ist normalerweise eine E-Mail-Adresse. </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry id="folders-properties-mailinglist-subscribe">
	    <term>
	      <guilabel
>Liste abonnieren</guilabel>
	    </term>
	    <listitem>
	      <para
>Diese Adresse wird verwendet, um eine Mailingliste zu abonnieren. Dies kann eine E-Mail-Adresse oder die Adresse einer Webseite sein. </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry id="folders-properties-mailinglist-unsubscribe">
	    <term>
	      <guilabel
>Abmelden</guilabel>
	    </term>
	    <listitem>
	      <para
>Diese Adresse wird verwendet, um eine Mailingliste abzubestellen. Dies kann eine E-Mail-Adresse oder die Adresse einer Webseite sein. </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry id="folders-properties-mailinglist-archive">
	    <term>
	      <guilabel
>Archive anzeigen</guilabel>
	    </term>
	    <listitem>
	      <para
>Dies ist die Adresse des Archivs der Mailingliste. Dies ist normalerweise die Adresse einer Webseite. </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry id="folders-properties-mailinglist-help">
	    <term>
	      <guilabel
>Hilfe anzeigen</guilabel>
	    </term>
	    <listitem>
	      <para
>Diese Adresse wird verwendet, um Hilfe für diese Mailingliste anzufordern. Dies ist normalerweise eine E-Mail-Adresse. </para>
	    </listitem>
	  </varlistentry>
	</variablelist>

<para
>Nachdem Sie den passenden <guilabel
>Adresstyp</guilabel
> ausgewählt haben, geben Sie die E-Mail-Adresse oder die Adresse der Webseite ein und klicken dann auf <guilabel
>Hinzufügen</guilabel
>. Mit <guilabel
>Entfernen</guilabel
> können Sie die Adressen dann wieder entfernen.</para>

<para
>Wenn Sie alle Adressen hinzugefügt haben, können Sie eine Aktion ausführen, &eg; das Listenarchiv ansehen, indem Sie den passenden <guilabel
>Adresstyp</guilabel
> auswählen und dann auf <guilabel
>Programm aufrufen</guilabel
> klicken. Wenn es für die gewünschte Aktion eine E-Mail-Adresse und eine Adresse einer Webseite gibt, müssen Sie zunächst das <guilabel
>Bevorzugte Programm</guilabel
> auswählen, bevor Sie auf <guilabel
>Programm aufrufen</guilabel
> klicken. Wählen Sie <guilabel
>KMail</guilabel
>, wenn Sie eine Nachricht an die E-Mail-Adresse schicken wollen und <guilabel
>Browser</guilabel
>, wenn Sie zur Webseite gehen wollen.</para>

<para
>Anstatt das Programm für <guilabel
>An Liste posten</guilabel
> aufzurufen, können Sie mit <menuchoice
><guimenu
>Nachricht</guimenu
><guimenuitem
>Neue Nachricht an Mailingliste...</guimenuitem
></menuchoice
> oder durch Klicken mit dem <mousebutton
>mittleren</mousebutton
> Mausknopf auf den Ordner in der Ordnerliste ebenfalls eine neue Nachricht an die Mailingliste schicken.</para>

</sect3>

      <sect3 id="folders-properties-acl">
	<title
>Die Seite Zugriffskontrolle (nur &imap;)</title>

	<para
>Hier können Sie die Zugriffskontrollisten (&acl;s) von &imap;-Ordnern verwalten. </para>

	<para
>Die derzeit aktive &acl; wird in der Liste angezeigt. Sie besteht aus Paaren aus <guilabel
>Benutzer-ID</guilabel
>s und den <guilabel
>Zugriffsrechten</guilabel
>, den den Benutzern gewährt werden, die mit dieser <guilabel
>Benutzer-ID</guilabel
> identifiziert werden. <footnote
><para
>Beachten Sie, dass eine einzelne <guilabel
>Benutzer-ID</guilabel
> für mehr als einen Benutzer stehen kann. Je nach &imap;-Server und dessen Konfiguration kann es Benutzer-IDs geben, die für Benutzergruppen, anonyme Benutzer oder beliebige Benutzer stehen. Schlagen Sie im Handbuch Ihres jeweiligen &imap;-Servers nach, um weitere Informationen zu erhalten.</para
></footnote
> &acl;s werden per Ordner eingestellt. </para>

	<note>
	  <para
>Wie sonst auch, wenn <emphasis
>Disconnected &imap;</emphasis
> verwendet wird, müssen Sie eine Serversynchronisation durchführen, damit die Änderungen an den Server übertragen werden. </para>
	</note>

	<para
>&imap;-&acl;s definieren viele fein abgestufte Zugriffsrechte, die Sie anderen Benutzern gewähren oder verweigern können. Aus Gründen der Übersichtlichkeit stellt &kmail; diese als die folgenden fünf Kategorien dar, aus denen Sie auswählen können (unter <xref linkend="table-acl-summary"/> finden Sie die Details, wenn Sie sich schon mit &imap;-&acl;s auskennen). </para>

	<variablelist>

	  <varlistentry id="folders-properties-acl-none">
	    <term>
	      <guilabel
>Keine</guilabel>
	      </term>
	    <listitem>
	      <para
>Verweigert allen durch <guilabel
>Benutzer-ID</guilabel
> identifizierten Benutzern alle Zugriffsrechte. Dies ist auch die Voreinstellung für Benutzer, die nicht explizit (oder implizit als eine Gruppe) in der &acl; aufgeführt sind. Diese Benutzer bekommen diesen Ordner in der Liste der &imap;-Ordner in ihrem E-Mail-Klienten nicht zu sehen. </para>
	    </listitem>
	  </varlistentry>

	  <varlistentry id="folders-properties-acl-read">
	    <term>
	      <guilabel
>Lesen</guilabel>
	    </term>
	    <listitem>
	      <para
>Gewährt allen durch <guilabel
>Benutzer-ID</guilabel
> identifizierten Benutzern Leserechte auf diesen Ordner. Dazu gehört auch die Möglichkeit, Nachrichten als gelesen zu markieren und diese Informationen auf dem Server abzulegen. <footnote
> <para
>Jeder Benutzer hat eine eigene Liste gelesener Nachrichten, so dass Ihre eigenen ungelesenen Nachrichten nicht einfach als gelesen markiert werden, nur weil jemand anders sie gelesen hat. </para>
		</footnote>
	      </para>
	      <para
>Diese Benutzer werden diesen Ordner in der Liste der &imap;-Ordner sehen, die ihre E-Mail-Klienten ihnen anzeigen. </para>
	      <para
>Benutzen Sie diese Einstellung, um einen gemeinsam genutzten Ordner anzulegen, den andere lesen, aber nicht verändern können. </para>
	      <informalexample>
		<para
>Wenn Sie beispielsweise der Redakteur eines Firmenrundbriefs sind, könnten Sie einen Ordner zur Verteilung dieses Rundbriefs anlegen, allen Leserechte darauf geben, und den Rundbrief in diesem Ordner ablegen, anstatt ihn als Nachricht an alle Adressen zu versenden. </para>
	      </informalexample>
	    </listitem>
	  </varlistentry>

	  <varlistentry id="folders-properties-acl-append">
	    <term>
	      <guilabel
>Anhängen</guilabel>
	    </term>
	    <listitem>
	      <para
>(auch als <guilabel
>Posten</guilabel
> bekannt) </para>
	      <para
>Gewährt allen durch <guilabel
>Benutzer-ID</guilabel
> identifizierten Benutzern Lese- (siehe oben) und Anhängerechte für diesen Ordner. </para>
	      <para
>Benutzen Sie diese Einstellung, um einen gemeinsam genutzten Ordner zu bekommen, den andere lesen, und in den sie Nachrichten ablegen können, den sie aber nicht anderweitig verändern können. </para>
	      <informalexample>
		<para
>Wenn Sie eine firmenweites Diskussionsforum anlegen wollen und kein Web-Formulat oder einen firmeninternen Usenet-Server einrichten wollen, könnten Sie eine Reihe von Ordnern (einen per Thema) einrichten und allen Lese- und Anhängerechte darauf gewähren. Anstatt auf einem &nntp;-Server zu posten oder seine Nachrichten in einem Web-Formular einzutragen, würden alle Mitarbeiter einfach Nachrichten schreiben und in dem zum Thema passenden Ordner ablegen. </para>
	      </informalexample>
	    </listitem>
	  </varlistentry>

	  <varlistentry id="folders-properties-acl-write">
	    <term>
	      <guilabel
>Schreiben</guilabel>
	    </term>
	    <listitem>
	      <para
>Gewährt allen durch <guilabel
>Benutzer-ID</guilabel
> identifizierten Benutzern Lese-, Anhänge- (siehe oben) und Schreibrechte auf diesen Ordner. </para>
	      <para
>Das Recht, in einen Ordner zu schreiben, behinhaltet das Löschen von Nachrichten, das Anlegen von Unterordnern und das Speichern anderer Attribute als gelesen/ungelesen auf dem Server (etwa "beantwortet"). </para>
	      <para
>Benutzen Sie diese Einstellung, um einen gemeinsam genutzten Ordner zu bekommen, auf den jeder (fast, siehe <xref linkend="folders-properties-acl-all"/>) die gleichen Rechte hat. </para>
	      <informalexample>
		<para
>Im Beispiel <xref linkend="folders-properties-acl-append"/> könnten Sie eine Reihe von Leuten, die als Moderatoren dienen, Schreibrechte einräumen. Diese könnten dann Nachrichten, die nicht zum Thema passen, entfernen, und Unterordner in besonders eifrig genutzten Ordnern anlegen. </para>
	      </informalexample>
	    </listitem>
	  </varlistentry>

	  <varlistentry id="folders-properties-acl-all">
	    <term>
	      <guilabel
>Alle</guilabel>
	    </term>
	    <listitem>
	      <para
>Gewährt allen durch <guilabel
>Benutzer-ID</guilabel
> identifizierten Benutzern Lese-, Anhänge-, Schreib- (siehe oben) und Verwaltungsrechte, d.h. das Recht, die &acl; dieses Ordners zu verändern. </para>
	      <para
>Dies ist die Voreinstellung für den Besitzer eines Ordners. </para>
	    </listitem>
	  </varlistentry>

	</variablelist>

	<para
><xref linkend="table-acl-summary"/> fasst die &imap;-&acl;-Zugriffsrechte für jedes Stufe zusammen. </para>

	<table id="table-acl-summary">
	  <title
>&acl;-Rechteübersicht </title>
	  <tgroup cols="6">
	    <thead>
	      <row>
		<entry
>&acl;-Recht</entry>
		<entry
><xref linkend="folders-properties-acl-none"/></entry>
		<entry
><xref linkend="folders-properties-acl-read"/></entry>
		<entry
><xref linkend="folders-properties-acl-append"/></entry>
		<entry
><xref linkend="folders-properties-acl-write"/></entry>
		<entry
><xref linkend="folders-properties-acl-all"/></entry>
	      </row>
	    </thead>
	    <!--tfoot/-->
	    <tbody>
	      <row>
		<entry
>Nachschlagen</entry>
		<entry
></entry>
		<entry
>x</entry>
		<entry
>x</entry>
		<entry
>x</entry>
		<entry
>x</entry>
	      </row>
	      <row>
		<entry
>Lesen</entry>
		<entry
></entry>
		<entry
>x</entry>
		<entry
>x</entry>
		<entry
>x</entry>
		<entry
>x</entry>
	      </row>
	      <row>
		<entry
>Gelesen speichern</entry>
		<entry
></entry>
		<entry
>x</entry>
		<entry
>x</entry>
		<entry
>x</entry>
		<entry
>x</entry>
	      </row>
	      <row>
		<entry
>Einfügen</entry>
		<entry
></entry>
		<entry
></entry>
		<entry
>x</entry>
		<entry
>x</entry>
		<entry
>x</entry>
	      </row>
	      <row>
		<entry
>Posten</entry>
		<entry
></entry>
		<entry
></entry>
		<entry
>x</entry>
		<entry
>x</entry>
		<entry
>x</entry>
	      </row>
	      <row>
		<entry
>Schalter schreiben</entry>
		<entry
></entry>
		<entry
></entry>
		<entry
></entry>
		<entry
>x</entry>
		<entry
>x</entry>
	      </row>
	      <row>
		<entry
>Anlegen</entry>
		<entry
></entry>
		<entry
></entry>
		<entry
></entry>
		<entry
>x</entry>
		<entry
>x</entry>
	      </row>
	      <row>
		<entry
>Löschen</entry>
		<entry
></entry>
		<entry
></entry>
		<entry
></entry>
		<entry
>x</entry>
		<entry
>x</entry>
	      </row>
	      <row>
		<entry
>Verwalten</entry>
		<entry
></entry>
		<entry
></entry>
		<entry
></entry>
		<entry
></entry>
		<entry
>x</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

      </sect3>

</sect2>

<sect2 id="folders-format">
<title
>Ordnerformat</title>

<para
>Ein Nachrichtenordner kann entweder im <guilabel
>mbox</guilabel
>- oder im <guilabel
>maildir</guilabel
>-Format gespeichert werden. Das <guilabel
>mbox</guilabel
>-Format speichert alle Nachrichten eines Ordners in einer einzigen Datei, während das <guilabel
>maildir</guilabel
>-Format für jede Nachricht eine eigene Datei verwendet. Aus diesem Grund wird das standardmäßig verwendete <guilabel
>maildir</guilabel
>-Format als robuster, allerdings auch auf manchen Systemen als langsamer erachtet. Im Zweifelsfall sollte man das <guilabel
>maildir</guilabel
>-Format auswählen.</para>

<para
>Hinweis: Momentan gibt es keine Funktion in &kmail; zur automatischen Konvertierung zwischen beiden Formaten - man kann aber einfach alle Nachrichten aus einem alten <guilabel
>mbox</guilabel
>-Ordner in einen neuen <guilabel
>maildir</guilabel
>-Ordner verschieben.</para>

</sect2>

</sect1>

<sect1 id="filters">
<title
>Nachrichtenfilter</title>
<anchor id="filters-id"/>

<para
>Wenn Sie &kmail; eine Weile benutzt haben, haben Sie vielleicht Probleme neue Nachrichten in Ihrem Posteingang auszusortieren. Filter erlauben es Ihnen, automatisch bestimmte Aktionen auf eingehende Nachrichten anzuwenden oder manuell auf ausgewählte Nachrichten in einem Ordner.</para>

<para
>Hinweis: Die in diesem Abschnitt beschriebenen Filter werden angewandt, <emphasis
>nachdem</emphasis
> die Nachrichten vom Server heruntergeladen wurden. Falls man Nachrichten auf dem Server filtern möchte, findet man Informationen unter <link linkend="popfilters"
>Pop-Filter</link
>.</para>

<para
>Filter bestehen aus Suchmustern, deren Regeln bestimmen, ob der Filter auf eine Nachricht angewendet werden soll, und einer Liste von Filteraktionen, die beschreiben, was mit den Nachrichten passieren soll, auf die das Suchmuster zutrifft. Lesen Sie mehr zu Suchmustern und Filteraktionen in den folgenden Unterabschnitten.</para>

<note
><para
>Filter werden der Reihe nach abgearbeitet, beginnend mit dem ersten Filter in der Liste. Der erste Filter, dessen Muster passt, wird ausgeführt. Sie können wählen, ob nachstehende Filter  ebenfalls angewendet werden sollen, aber in der Voreinstellung wird das Anwenden von Filtern für diese Nachricht nach dem ersten passenden Filter angehalten. </para
></note>

<para
>Normalerweise werden Filter auf eingehende Nachrichten angewandt, aber sie können ebenso auf gesendete Nachrichten, einzelne oder mehrere Nachrichten angewandt werden. Dazu wählen Sie die Nachrichten in der Nachrichtenliste aus, die Sie filtern wollen, und drücken Sie <keycombo action="simul"
>&Strg;<keycap
>J</keycap
></keycombo
> , oder wählen Sie <menuchoice
><guimenu
>Nachrichten</guimenu
><guimenuitem
> Filter anwenden</guimenuitem
></menuchoice
>. Beachten Sie, dass alle Filter, die im <link linkend="filter-dialog"
>Filter-Dialog</link
> für manuelle Filterung vorgesehen sind, auf diese Nachrichten angewandt werden.</para>

<sect2 id="filter-quick">
<title
>Schnelle Filtererstellung</title>

<para
>Es gibt zwei Möglichkeiten zum Anwenden von  Filtern. Die schnelle Methode benutzt <menuchoice
><guimenu
>Nachricht</guimenu
><guimenuitem
>Filter anlegen</guimenuitem
></menuchoice
>. Hierdurch wird der Filter-Dialog mit einem neuen Filter aufgerufen, dessen erste Regel und Aktion (<guilabel
>In Ordner verschieben</guilabel
>) vorbesetzt sind. In den meisten Fällen müssen Sie nur noch den Ordner auswählen, in den die Nachricht verschoben werden soll. Sie können aber den Filter natürlich so einstellen, wie Sie möchten.</para>

<para
>Wenn Sie einen Filter mit einer Mailinglisten-Nachricht erstellen, versucht diese Methode mit allen Mitteln die Kriterien zu finden, die eine Nachricht für diese Liste eindeutig identifiziert. Falls dies gelingt, wird der wahrscheinliche Name der Liste in <menuchoice
><guimenu
>Nachricht</guimenu
><guisubmenu
> Filter anlegen</guisubmenu
><guimenuitem
>Nach Mailing-Liste filtern...</guimenuitem
></menuchoice
> eingefügt.</para>

<para
>Die zweite Methode ist, einen Filter manuell durch Aufruf von <menuchoice
><guimenu
>Einstellungen</guimenu
><guimenuitem
>Filter einrichten...</guimenuitem
></menuchoice
> zu erzeugen. Der Filter-Dialog wird im folgenden Abschnitt detailliert beschrieben.</para>
</sect2>

<sect2 id="filter-dialog">
<title
>Der Filter-Dialog</title>
<anchor id="filter-dialog-id"/>

<para
>Dieser Dialog erlaubt es Ihnen Ihre Liste mit Filtern zu verwalten und zu ändern.</para>

<para
>Sie können ihn über <menuchoice
><guimenu
>Nachricht</guimenu
><guisubmenu
>Filter anlegen</guisubmenu
></menuchoice
> oder über <menuchoice
><guimenu
>Einstellungen</guimenu
><guimenuitem
>Filter einrichten...</guimenuitem
></menuchoice
> erreichen.</para>

<para
>Dieser Dialog ist in vier Hauptteile getrennt.</para>
<variablelist>
<varlistentry>
<term
><guilabel
>Vorhandene Filter</guilabel
></term>
<listitem
><para
>Diese Gruppe enthält eine Liste mit Filtern und Aktionsknöpfen, um Filter zu ändern. Filter können hinzugefügt werden, in der Liste nach oben oder unter verschoben werden, oder gelöscht oder umbenannt werden. Wenn Sie einen Filter in der Liste auswählen, werden seine Eigenschaften in der rechten Hälfte des Dialogs angezeigt.</para
></listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Filterkriterien</guilabel
></term
> <listitem
><para
>In dieser Gruppe können Sie die Muster ändern, denen eine Nachricht entsprechen muss, damit der Filter auf sie anspricht. Sie können hier auch auswählen, ob alle Muster zutreffen müssen, oder ob es reicht, wenn eines der Muster passt. Sehen Sie dazu auch <link linkend="filter-criteria"
>Suchmuster</link
> weiter unten für eine detaillierte Beschreibung der einzelnen Regeltypen.</para>

<para
>Sie können <guibutton
>Mehr</guibutton
> klicken um eine zusätzliche (anfangs leere) Filterregel zu erhalten, falls Sie komplexere Muster festlegen wollen. Oder wählen Sie <guibutton
>Weniger</guibutton
> um die letzte Regel zu entfernen. <guibutton
>Löschen</guibutton
> löscht das Muster, d.h., es werden alle bis auf zwei Regeln vom Bildschirm entfernt, und diese zurückgesetzt.</para>
<para
>Ungültige oder leere Regeln werden nicht ausgewertet.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Filter Aktionen</guilabel
></term
> <listitem
><para
>In dieser Gruppe können Sie die Liste der Aktionen, die auf Nachrichten angewendet werden, die dem Suchmuster entsprechen, ändern. Siehe<link linkend="filter-action"
>Filteraktionen</link
> weiter unten für eine genauer Beschreibung jedes Aktionstyps.</para>

<para
>Man kann auf <guibutton
>Mehr</guibutton
> klicken, um eine neue leere Filteraktion zu bekommen, falls man mehr als eine Filteraktion benötigt, sowie auf <guibutton
>Weniger</guibutton
>, um die letzte Aktion zu entfernen. <guibutton
>Zurücksetzen</guibutton
> löscht die Liste, entfernt also alle bis auf die letzte Aktion und setzt diese zurück.</para>
<para
>Ungültige oder leere Aktionen werden nicht ausgeführt.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Erweiterte Einstellungen</guilabel
></term>

<listitem>

<para
>In diesem Abschnitt können einige Einstellungen zur Verfeinerung des Filters geändert werden.</para>

<para
>Mit Hilfe der ersten Zeile von Ankreuzfeldern können Sie auswählen, auf welche Nachrichten der entsprechende Filter angewandt wird. Eine Markierung bei <guilabel
>Eingehende Nachrichten</guilabel
> zeigt, dass der Filter auf gerade ankommende Nachrichten angewandt werden soll (also bei Aufruf von <guiicon
>Nach E-Mail sehen</guiicon
>). Eine Markierung bei <guilabel
>Versendete Nachrichten</guilabel
> gilt entsprechend für gesendete Nachrichten ( genauer gesagt: <emphasis
>nach</emphasis
> dem <guiicon
>Senden</guiicon
>), und eine Markierung bei <guilabel
>manuelle Filterung</guilabel
> zeigt, ob dieser Filter bei manueller Filterung (also über <menuchoice
><guimenu
>Nachricht</guimenu
> <guimenuitem
>Filter anwenden</guimenuitem
></menuchoice
>) angewandt werden soll.</para>

<para
>Das Ankreuzfeld <guilabel
>Bearbeitung hier abbrechen, falls Filterbedingung zutrifft</guilabel
> in der zweiten Reihe bestimmt, ob weitere Filter nach dem aktuellen Filter angewendet werden, falls der aktuelle Filter schon auf die Nachricht zutrifft.</para>

<para
>Wenn das Ankreuzfeld <guilabel
>Dieses Menü zum Menü "Filteraktionen anwenden" hinzufügen</guilabel
> in der dritten Reihe angekreuzt ist, dann wird dieser Filter in das Untermenü <menuchoice
><guimenu
>Nachricht</guimenu
> <guimenuitem
>Filter anwenden</guimenuitem
></menuchoice
> eingefügt. Sie können diesen Filter dann auf eine Nachricht anwenden. Eine andere Möglichkeit, Filter anzuwenden, besteht darin, den Menüpunkt <menuchoice
><guimenu
>Nachricht</guimenu
> <guimenuitem
>Filter anwenden</guimenuitem
></menuchoice
> zu benutzen. Dieser wendet <emphasis
>alle</emphasis
> Filter einen nach dem anderen an, bis entweder alle benutzt worden sind, oder einer der Filter zutraf, bei denen <guilabel
>Wenn der Filter zutrifft, Verarbeitung hier abbrechen</guilabel
>.</para>

</listitem>
</varlistentry>
</variablelist>

<note
><para
>Filter werden automatisch benannt, wenn man sie nicht explizit durch Klicken auf den Knopf <guibutton
>Umbenennen</guibutton
> benennt. Der Dialog nimmt an, das die automatische Benennung verwendet werden soll, solange der Filtername mit <quote
>&lt;</quote
> beginnt. </para
></note>

<note>
<para
>Klickt man auf <guibutton
>OK</guibutton
> oder <guibutton
>Anwenden</guibutton
>, werden nur gültige Filter in den internen Filter-Manager übernommen.</para>

<para
>Genauso werden leere Regeln und Aktionen von der Liste der Filterbedingungen und Aktionen entfernt, bevor der Filter gespeichert wird.</para>
</note>

</sect2>

<sect2 id="filter-criteria">
<title
>Filterbedingungen</title>

<para
>Die häufigste Verwendung von Filtern stellen Filter nach dem Absender der Nachricht dar. Das kann durch Auswahl von <guilabel
>From</guilabel
> erreicht werden. Für eine Mailingliste könnte man <guilabel
>&lt;Empfänger&gt;</guilabel
> verwenden. Es gibt aber auch andere Kriterien für Filter. Hinweis: Alle Suchkriterien machen keinen Unterschied zwischen Groß- und Kleinschreibung:</para>

<variablelist>
<varlistentry>
<term
><guilabel
>&lt;Nachricht&gt;</guilabel
></term>
<listitem>
<para
>Durchsucht die gesamte Nachricht (also Vorspann, Nachricht und Anhänge, falls vorhanden).</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>&lt;Nachrichtentext&gt;</guilabel
></term>
<listitem>
<para
>Durchsucht den Nachrichtentext (also die gesamte Nachricht außer dem Vorspann).</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>&lt;Feld im Vorspann&gt;</guilabel
></term>
<listitem>
<para
>Durchsucht den Vorspann der Nachricht.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>&lt;Empfänger&gt;</guilabel
></term>
<listitem>
<para
>Durchsucht die Vorspannfelder <quote
>An</quote
> und <quote
>Kopie</quote
>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>&lt;Größe in Byte&gt;</guilabel
></term>
<listitem>
<para
>Setzt eine Unter- und Obergröße für die Nachricht fest.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>&lt;Alter in Tagen&gt;</guilabel
></term>
<listitem>
<para
>Setzt obere und untere Grenze für das Alter einer Nachricht.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>&lt;Status&gt;</guilabel
></term>
<listitem>
<para
>Legt Einschränkungen für den Status der Nachricht fest.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Irgendein anderer Name</term>
<listitem>
<para
>Durchsucht des Vorspann-Feld, das durch diesen Namen angegeben ist.</para>
</listitem>
</varlistentry>
</variablelist>

<para
>Die Liste der möglichen Regeln ist davon abhängig, was Sie im ersten Ausklappmenü ausgewählt haben. Die folgenden Regeln stehen zur Verfügung:</para>

<informaltable>
<tgroup cols="3">
<thead>
<row>
<entry
>Regel</entry>
<entry
>Verfügbar für</entry>
<entry
>Beschreibung</entry>
</row>
</thead>
<tbody>
<row>
<entry
><guilabel
>enthält</guilabel
>/<guilabel
>enthält nicht</guilabel
></entry>
<entry
>alle Text-Suchelemente</entry>
<entry
>Trifft zu, wenn das durchsuchte Element den angegebenen Text (nicht) enthält.</entry>
</row>
<row>
<entry
><guilabel
>ist gleich</guilabel
>/<guilabel
>ist ungleich</guilabel
></entry>
<entry
>die meisten Text-Suchelemente</entry>
<entry
>Trifft zu, wenn das durchsuchte Element (un-)gleich dem angegebenen Text ist.</entry>
</row>
<row>
<entry
><guilabel
>passt auf regulären Ausdruck</guilabel
>/<guilabel
>passt nicht auf regulären Ausdruck</guilabel
></entry>
<entry
>alle Text-Suchelemente</entry>
<entry
>Passt, wenn ein Teil des durchsuchten Elements (nicht) auf den angegebenen regulären Ausdruck passt. Wenn der Editor für reguläre Ausdrücke installiert ist, dann können Sie den regulären Ausdruck durch Anklicken der Schaltfläche <guilabel
>Editieren...</guilabel
> damit editieren.</entry>
</row>
<row>
<entry
><guilabel
>hat einen Anhang</guilabel
>/<guilabel
>hat keinen Anhang</guilabel
></entry>
<entry
><guilabel
>&lt;Nachricht&gt;</guilabel
></entry>
<entry
>Trifft zu, wenn die Nachricht (k)einen Anhang hat.</entry>
</row>
<row>
<entry
><guilabel
>ist im Adressbuch</guilabel
>/<guilabel
>ist nicht im Adressbook</guilabel
></entry>
<entry
>die meisten Text-Suchelemente</entry>
<entry
>Passt, wenn das durchsuchte Element eine Adresse enthält, die sich in Ihrem Adressbuch befindet (wenn die durchsuchten Elemente nur unbekannte Adressen enthalten). Diese Regel ist natürlich nur sinnvoll bei Adressfelder wie Von oder <guilabel
>&lt;Empfänger&gt;</guilabel
></entry>
</row>
<row>
<entry
><guilabel
>ist in Kategorie</guilabel
>/<guilabel
>ist nicht in Kategorie</guilabel
></entry>
<entry
>die meisten Text-Suchelemente</entry>
<entry
>Trifft zu, wenn das durchsuchte Element eine Adresse enthält, die zur angegebenen Kategorie in Ihrem Adressbuch gehört (oder wenn das durchsuchte Element keine Adresse in der angegebenen Kategorie enthält). Auch diese Regel ist natürlich nur bei Adressfeldern sinnvoll.</entry>
</row>
<row>
<entry
><guilabel
>ist gleich mit</guilabel
>/<guilabel
>ist nicht gleich mit</guilabel
></entry>
<entry
>numerische Suchelemente</entry>
<entry
>Trifft zu, wenn der Wert des Suchelements (un)gleich dem angegebenen Wert ist.</entry>
</row>
<row>
<entry
><guilabel
>ist kleiner als</guilabel
></entry>
<entry
>numerische Suchelemente</entry>
<entry
>Trifft zu, wenn der Wert des Suchelements kleiner als der angegebene Wert ist.</entry>
</row>
<row>
<entry
><guilabel
>ist größer als</guilabel
></entry>
<entry
>numerische Suchelemente</entry>
<entry
>Trifft zu, wenn der Wert des Suchelements größer als der angegebene Wert ist.</entry>
</row>
<row>
<entry
><guilabel
>ist kleiner als oder gleich</guilabel
></entry>
<entry
>numerische Suchelemente</entry>
<entry
>Trifft zu, wenn der Wert des Suchelements kleiner oder gleich dem angegebenen Wert ist.</entry>
</row>
<row>
<entry
><guilabel
>ist größer oder gleich</guilabel
></entry>
<entry
>numerische Suchelemente</entry>
<entry
>Trifft zu, wenn der Wert des Suchelements größer oder gleich dem angegebenen Wert ist.</entry>
</row>
<row>
<entry
><guilabel
>ist</guilabel
>/<guilabel
>ist nicht</guilabel
></entry>
<entry
><guilabel
>&lt;Status&gt;</guilabel
></entry>
<entry
>Trifft zu, wenn die Nachricht den angegebenen Status (nicht) hat.</entry>
</row>
</tbody>
</tgroup>
</informaltable>

</sect2>

<sect2 id="filter-action">
<title
>Filter Aktion</title>

<para
>Die häufigste Anwendung für Filter ist das Sortieren von eingehenden Nachrichten in verschiedene Eingangsordner. Das kann durch <guilabel
>In Ordner verschieben</guilabel
> erreicht werden. Folgende Aktionen sind möglich:</para>

<variablelist>
<varlistentry>
<term
><guilabel
>In Ordner verschieben</guilabel
></term>
<listitem>
<para
>Legt die Nachrichten in einen anderem Ordner ab und entfernt sie dazu, wenn nötig, aus dem aktuellen Ordner. Sie können derzeit keine <acronym
>IMAP</acronym
>-Ordner als Ziel benutzen.</para>
<!-- fixme: still correct? -->
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>In Ordner kopieren</guilabel
></term>
<listitem>
<para
>Kopiert die Nachricht in einen anderen Ordner.</para>
<note
><para
>&imap;-Ordner können derzeit nicht als Ziel angegeben werden.</para
></note>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Identität setzen auf</guilabel
></term>
<listitem>
<para
>Diese Aktion setzt <emphasis
>Ihre</emphasis
> Identität für die Antwort auf diese Nachricht fest.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Markieren als</guilabel
></term>
<listitem>
<para
>Dies erlaubt es, eine Nachricht als gelesen oder wichtig (markiert) aber auch als weitergeleitet, beantwortet &etc; zu kennzeichnen.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Fingierte MDN senden</guilabel
></term>
<listitem>
<para
>Verschickt eine falsche Zustellbenachrichtung (&dh; eine Lesebestätigung) an den Absender der Nachricht.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Versandart setzen auf</guilabel
></term>
<listitem>
<para
>Diese Aktion setzt die Versandart (z.B. <acronym
>SMTP</acronym
>) für die Antwort auf diese Nachricht fest.</para>
</listitem>
</varlistentry
> 
<varlistentry>
<term
><guilabel
>Antwortadresse setzen auf</guilabel
></term>
<listitem
><para
>Diese Aktion ändert das Feld <guilabel
>Antwortadresse</guilabel
> dieser Nachricht. Das kann für eine Mailingliste sinnvoll sein, da diese automatisch eine Antwortadresse einsetzen, die Sie möglicherweise nicht verwenden wollen.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Weiterleiten an</guilabel
></term>
<listitem
><para
>Leitet die Nachricht inline (d.h., als wenn Sie <menuchoice
><guimenu
>Nachricht</guimenu
><guimenuitem
>Weiterleiten</guimenuitem
> <guimenuitem
>Inline...</guimenuitem
></menuchoice
> ausgewählt hätten) an eine andere Adresse weiter.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Umleiten nach</guilabel
></term>
<listitem
><para
>Leitet die Nachricht unverändert an eine andere E-Mail-Adresse um.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Zustellung bestätigen</guilabel
></term>
<listitem
><para
>Versucht eine Nachricht zum Absender zurückzusenden, um ihn zu benachrichtigen, dass die Mail angekommen ist, falls dieser eine solche angefordert hat.</para
> <para
>Mit dieser Aktion kann ausgewählt werden, wer von Ihnen eine Zustellungsbestätigung erhält. Obwohl man den Versand einer Zustellungsbestätigung im Dialog <guilabel
>&kmail; einrichten...</guilabel
> (Karteikarte <link linkend="configure-security"
><guilabel
>Sicherheit</guilabel
></link
>) global aktivieren kann, ist es empfehlenswert, nicht jedem eine solche Bestätigung zu senden, da ansonsten Versender von Werbepost eine leichte Kontrolle haben.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Befehl ausführen</guilabel
></term>
<listitem>
<para
>Führt ein Programm aus, verändert aber nicht die Nachricht. Der vollständige Pfad zum Programm muss angegeben werden. &kmail; wird bis zum Beenden dieses Programms blockiert. Wenn &kmail; nicht blockiert werden soll, hängen Sie "&amp;" an den Befehl an. Sie können Nachrichtenteile an das Programm übergeben übergeben: <symbol
>&percnt;0</symbol
>, <symbol
>&percnt;1</symbol
> &etc; stehen für Dateien, die die Nachrichtenteile repräsentieren. Für übliche Nachrichten steht <symbol
>&percnt;0</symbol
> für den Nachrichtentext, <symbol
>&percnt;1</symbol
> für den ersten Anhang &etc; Zusätzlich wird die gesamte Nachricht über die Standardeingabe <acronym
>stdin</acronym
> an das Programm übergeben. Jedes Vorkommen von <symbol
>&percnt;{irgendwas}</symbol
> wird durch den Inhalt des gleichnamigen Vorspannfeldes ersetzt.</para>

<!-- fixme: still correct? -->
<warning
><para
>Das funktioniert bisher nur für Nachrichten, die <emphasis
>mindestens</emphasis
> einen Anhang haben. Nicht einmal <symbol
>&percnt;0</symbol
> funktioniert ansonsten!</para
></warning>

<tip
><para
>Man kann hier beliebig komplexe Shell-Befehle verwenden, da &kmail; diese in einer Subshell ausführt. Daher funktioniert sogar (mit Einschränkungen) dieser Befehl: <userinput
><command
>uudecode</command
> <option
>-o</option
> <parameter
>$(mktemp kmail-uudecoded.XXXXXX)</parameter
> &amp;&amp; <command
>echo</command
> <parameter
>$'\a'</parameter
></userinput
></para
></tip>
<!-- fixme: is this uudecode tip useless now?? -->
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Durch Programm leiten</guilabel
></term>
<listitem>
<para
>Leitet die Nachricht durch ein Programm. Wenn das Programm eine Ausgabe liefert, wird die gesamte Nachricht durch die erzeugte Ausgabe (einschließlich des Vorspanns) ersetzt. Wenn das Programm keine Ausgabe liefert oder einen anderen Rückgabecode als 0 hat (was auf das Auftreten eines Fehlers hindeutet), wird die Nachricht nicht verändert. Der volle Programmpfad muss angegeben werden. Es werden die gleichen automatischen Ersetzungen in der Befehlszeile (<symbol
>&percnt;n</symbol
>, <symbol
>&percnt;{irgendwas}</symbol
>) wie bei <guilabel
>Befehl ausführen</guilabel
> durchgeführt.</para>
<warning
><para
>Diese Aktion muss mit Vorsicht eingesetzt werden, da man leicht seine Nachrichten zerstören kann, wenn das Filterprogramm nur Müll oder zusätzliche Zeilen zurückgibt.</para
></warning>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Vorspann entfernen</guilabel
></term>
<listitem>
<para
>Entfernt <emphasis
>alle</emphasis
> Vorspannfelder mit dem angegebenen Namen aus der Nachricht. Das ist vor allem nützlich, um ungewünschte <quote
>Antwortadressen</quote
> zu entfernen.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Vorspann hinzufügen</guilabel
></term>
<listitem>
<para
>Wenn noch kein Vorspannfeld dieses Namens existiert, wird eines hinzugefügt mit dem angegebenen Namen und Wert hinzugefügt. Existiert bereits eines, wird dessen Inhalt überschrieben. Gibt es bereits mehrere Vorspannfelder dieses Namens (z.B. <quote
>Received:</quote
>-Vorspann) wird ein zufällig ausgewähltes überschrieben und die anderen nicht verändert. Dies ist eine bekannte Einschränkung. Man kann diesen Filter mit dem Filter <guilabel
>Vorspann entfernen</guilabel
> kombinieren, um sicher zu stellen, dass nur eine Vorspannzeile vorhanden ist.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Vorspann neu schreiben</guilabel
></term>
<listitem>
<para
>Liest das bisherige Vorspannfeld, verändert seinen Inhalt und schreibt diesen veränderten Inhalt. Der Suchtext ist immer ein regulärer Ausdruck mit Unterscheidung der Klein-/Großschreibung. Der Ersetzungstext wird wörtlich eingefügt, außer den Sonderzeichen <userinput
>\n</userinput
>, <userinput
>$n</userinput
> und <userinput
>${nn}</userinput
>, wobei <userinput
>n</userinput
> für eine positive (mit Ausnahme der dritten Form einziffrige) Zahl oder <userinput
>0</userinput
> steht. Diese Sonderzeichen verweisen zurück auf Teiltexte in Anführungszeichen, die im Suchtext vorkamen.</para
><para
>Analog zur <guilabel
>add header</guilabel
> Aktion bestehen auch hier Einschränkungen.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Einen Klang abspielen</guilabel
></term>
<listitem>
<para
>Spielt den angegebenen Klang ab.</para>
</listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="filter-examples">
<title
>Beispiele für Filter</title>

<para
>Wenn man in der Mailingliste für &kde;-Benutzer eingetragen ist, könnte man einen extra Ordner für Nachrichten aus dieser Liste erstellen (er könnte z.B. <replaceable
>KDE-Benutzer</replaceable
> heißen) und einen Filter benutzen, um automatisch von dieser Liste eingehende Nachrichten in diesen Ordner zu verschieben. Hier ist eine Beschreibung, wie man einen solchen Filter erstellt:</para>

<procedure>
<title
>Eine Mailingliste herausfiltern</title>
<step>
<para
>Wenn <menuchoice
><guimenu
>Nachricht</guimenu
><guisubmenu
>Filter anlegen</guisubmenu
><guimenuitem
>Nach Mailingliste filtern...</guimenuitem
></menuchoice
> die Mailingliste identifizieren kann, erscheint der Name der Liste im Menüeintrag. Im Beispiel funktioniert es und ein Filter mit dem Eintrag <quote
>List-Id<guilabel
>enthält</guilabel
> &lt;kde.kde.org&gt;</quote
> wird angelegt. Wählen Sie den gewünschten Zielordner aus dem Auswahlfeld der Gruppe <guilabel
>Filteraktionen</guilabel
> aus und der Filter ist fertig!</para>

<para
>Falls das nicht funktioniert, überlegen Sie sich einen eindeutigen Weg zum Identifizieren der Nachrichten, die Sie filtern wollen. Das (beinahe) eindeutige Kennzeichen der Nachrichten aus der &kde;-Liste ist, dass die Felder <guilabel
>An:</guilabel
> oder <guilabel
>Kopie:</guilabel
> immer <quote
>kde@kde.org</quote
> enthalten. Das "beinah" erklärt daraus, dass diese Identifikation bei "cross posted"-Nachrichten versagt.</para>
</step>
<step>
<para
>Man wählt <menuchoice
><guimenu
>Einstellungen</guimenu
><guimenuitem
>Filter einrichten...</guimenuitem
></menuchoice
>.</para>
</step>
<step>
<para
>Wählen Sie <guibutton
>Neu</guibutton
>, um einen leeren Filter zu erzeugen. Er erscheint als <guilabel
>&lt;Unbenannt&gt;</guilabel
>.</para>
</step>
<step>
<para
>Im Bereich <guilabel
>Filterkriterien</guilabel
> wählen Sie <guilabel
>&lt;Empfänger&gt;</guilabel
> aus dem ersten Auswahlfeld und <guilabel
>enthält</guilabel
> aus dem zweiten Auswahlfeld. In das Textfeld geben Sie <userinput
>kde@kde.org</userinput
> ein.</para>
</step>
<step>
<para
>Wechseln Sie in den Bereich <guilabel
>Filteraktionen</guilabel
> und wählen Sie <guilabel
>Verschieben in Ordner</guilabel
> aus der ersten Auswahlliste. Es erscheint daraufhin eine neue Auswahlliste, die die möglichen Ordner enthält. Wählen Sie den Ordner, in den Sie die Nachrichten übertragen möchten, falls sie den Filterkriterien entsprechen. In diesem Beispiel würden Sie den Ordner <guilabel
>KDE-General</guilabel
>wählen.</para>
</step>
</procedure>

<para
>Vielleicht brauchen Sie kompliziertere Kriterien, um Ihre Nachrichten zu filtern. So könnten Sie z.B. nur Nachrichten aus der &kde;-Benutzerliste speichern wollen, die von Ihrem Freund <replaceable
>Martin Mustermann &lt;mm@irgendwo.de&gt;</replaceable
> geschrieben wurden. Hier kommen die restlichen Filterkriterien ins Spiel:</para>

<procedure>
<title
>Den Filter erweitern</title>
<step>
<para
>Öffnen Sie das Fenster <guilabel
>Filterregeln</guilabel
> und wählen Sie den gerade erstellten Filter aus.</para>
</step>
<step>
<para
>Da Sie alle Nachrichten filtern wollen, die <replaceable
>kde@kde.org</replaceable
> im Feld <guilabel 
>An:</guilabel
> oder <guilabel
>Kopie:</guilabel
> haben <emphasis
>und</emphasis
> die von Martin Mustermann sind, wählen Sie den Auswahlknopf <guibutton
>Trifft auf alle Folgenden zu</guibutton
>.</para>
</step>
<step>
<para
>Gehen Sie jetzt zum zweiten Filterkriterium und wählen Sie folgendes aus den Auswahllisten aus: <guilabel
>From</guilabel
> und <guilabel
>enthält</guilabel
>. Im Eingabefeld geben Sie dann <userinput
>mm@irgendwo.com</userinput
> ein.</para>
</step>
</procedure>

<para
>Sie haben nun einen Filter, der alle Nachrichten von <userinput
>Martin.Mustermann@Irgendwo.de</userinput
> aus der &kde;-Benutzerliste überträgt.</para>
<!-- fixme: trigger with ctrl-j or whenever new mail arrives (unless
<guilabel
>Advanced Options</guilabel
> are changed. -->
</sect2>

<sect2 id="filter-optimization">
<title
>Filteroptimierung</title>

<para
>Die Reihenfolge der Filter hat einen Einfluss auf die Geschwindigkeit des Filtervorganges. Die folgenden Ideen sollen Ihnen dabei helfen, Ihre Filter zu optimieren: </para>

<variablelist>
<varlistentry>
<term
>Brechen Sie die Filterverarbeitung so früh wie möglich ab:</term>
<listitem>
<para
>Wenn Sie wissen, dass ein bestimmter Filter eine bestimmte Klasse von Nachrichten endgültig verarbeitet, dann wählen Sie für diesen Filter die Option <guilabel
>Bearbeitung hier abbrechen, falls Filterbedingung zutrifft</guilabel
>. Damit werden für die folgenden Filter keine Filterregeln mehr ausgewertet. (Siehe dazu auch die fortgeschrittenen Optionen im <link linkend="filter-dialog-id"
>Filter-Dialog</link
>).</para>
<para
>Ein Beispiel ist das Filter von Nachrichten von Mailinglisten über List-Id-Vorspannzeilen in separate Ordner. Wenn Sie herausgefunden haben, dass eine Nachricht von der Liste A kam, müssen Sie nicht mehr überprüfen, ob sie von der Liste B kam. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
>Denken Sie an den Preis der Auswertung von Filterregeln:</term>
<listitem>
<para
>Wie lange es dauert, eine Filterregel auszuwerten, hängt davon ab, wie die Regel aufgebaut ist. Insbesondere ist das Suchen nach einem Teilstring mit der <guilabel
>enthält</guilabel
>-Operation schneller als der Mustervergleich mit der Operation <guilabel
>passt auf regulären Ausdruck</guilabel
>. </para>
<para
>Die Geschwindigkeit der Auswertung von Filterregeln hängt auch von der Menge von Daten ab, die auszuwerten ist. Eine Regel, die auf einer Vorspannzeile basiert, wird normalerweise sehr viel schneller ausgewertet werden, als eine Regel, die auf dem gesamten Nachrichtentext basiert. </para>
<para
>Sie sollten Ihre Filterregeln so einfach wie möglich halten. </para>
</listitem>
</varlistentry>


<varlistentry>
<term
>Überprüfen Sie die Reihenfolge Ihrer Filter:</term>
<listitem>
<para
>Die einzelnen Filteraktionen sind unterschiedlich komplex. Die teuersten Filteraktionen sind <guilabel
>Durch Programm leiten</guilabel
> und <guilabel
>Befehl ausführen</guilabel
>, weil bei beiden externe Programme ausgeführt werden müssen. Wenn man Filter, die diese Aktionen enthalten, hinter andere Filter stellt, kann man die Ausführung dieser komplexen Aktionen reduzieren; natürlich nur, wenn die Logik des Filters das erlaubt.</para
> 
<para
>Ein Beispiel ist das Filtern von Nachrichten aus einer Mailingliste und das Entdecken unerwünschter Mails (SPAM). Zum Entdecken unerwünschter Mails verwenden Sie normalerweise ein externes Programm über die Aktion <guilabel
>Durch Programm leiten</guilabel
>. Das Filtern von Nachrichten für die Mailingliste geschieht über den Vorspann List-Id. Wenn Sie die Nachrichten, die von dieser Mailingliste kommen, nicht nach unerwünschten Mails durchsuchen wollen, sollten Sie den Filter für die Mailingliste vor den Filter  für unerwünschte Mails setzen. Auf diese Weise können Sie die aufwendige und langsame Überprüfung auf unerwünschte Nachrichten für alle Nachrichten vermeiden, die als von der Mailingliste stammend identifiziert worden sind. </para>
</listitem>
</varlistentry>
</variablelist>
</sect2>

<sect2 id="filter-logging">
<title
>Filterprotokoll</title>
<para
>Wenn Sie sicherstellen wollen, das Ihre Filter wie beabsichtigt arbeiten, können Sie mittels <menuchoice
><guimenu
>Extras</guimenu
> <guimenuitem
>Betrachter für Filter-Protokoll...</guimenuitem
></menuchoice
> einen Betrachter für das Filter-Protokoll öffnen. </para>
<para
>Hier können Sie das Protokollieren der Filterverarbeitung konfigurieren. Sie können angeben, wie detailliert protokolliert werden soll, das Protokoll löschen oder es in eine Datei speichern. Das Protokoll kann Ihnen wertvolle Informationen liefern, wenn Sie nach Fehlern in Ihren Filtern suchen. </para>
</sect2>
</sect1>

<!-- dnaber update 2004-02-22 -->
<sect1 id="popfilters">
<title
>Filter zum Herunterladen</title>

<para
>Filter zum Herunterladen können verwendet werden, um Nachrichten eine POP-Server <emphasis
>vor</emphasis
> dem vollständigen Herunterladen anzuwenden. Man kann auf diese Weise das Herunterladen von großen Nachrichten verhindern und somit Zeit sparen.</para>

<para
>Im Einrichtungsdialog des POP-Kontos kann man Filter zum Herunterladen durch Markierung des Ankreuzfeldes <guilabel
>Nachrichten filtern, falls sie die angegebene Größe überschreiten</guilabel
> aktivieren. Danach kann man eine maximale Nachrichtengröße festlegen. Alle Nachrichten, die diesen Grenzwert überschreiten, werden durch die Filterregeln gefiltert. Falls keine der Regeln zutrifft, wird für die Nachrichten ein Bestätigungsdialog angezeigt und somit das weitere Vorgehen erfragt. Die Standardgröße beträgt 50000 Bytes. Damit wird der Zusatzaufwand für das zweifache Herunterladen des Nachrichtenvorspanns gering gehalten. Die Standardaktion ist <guilabel
>Nachrichten herunterladen</guilabel
>, um den irrtümlichen Verlust von Nachrichten zu verhindern.</para>

<warning
><para
>Setzen Sie die Option <guilabel
>Nachrichten vom Server löschen</guilabel
> mit Bedacht ein, da vom Server entfernte Nachrichten nicht wiederhergestellt werden können.</para
></warning>

<para
>Durch sehr gute Filterregeln ist es möglich, alle zu großen Nachrichten automatisch (also ohne weitere Bestätigung) für eine Aktion zu markieren (Herunterladen, Löschen oder auf dem Server belassen). Man sollte allerdings sorgfältig vorgehen, da man nicht mit Sicherheit die Möglichkeit hat, die Aktion zu ändern, bevor sie ausgeführt wird. <emphasis
>Nur</emphasis
> wenn eine Nachricht von keiner der Filterregeln erfasst wird, erscheint ein Bestätigungsdialog.</para>

<sect2 id="popfilters-dialog">
<title
>Der Dialog <guilabel
>Pop-Filter einrichten</guilabel
></title>

<para
>Das Hinzufügen von neuen Filterregeln funktioniert analog zu anderen <link linkend="filters"
>Filtern</link
>. Im linken Bereich werden die vorhandenen Filter aufgelistet. Durch Klicken auf <guiicon
>Neu</guiicon
> kann man einen Filter hinzufügen. Auf der rechten Seite kann man die Regeln für den aktuellen Filter bearbeiten. Unter <guilabel
>Filter-Aktion</guilabel
> kann man festlegen, wie der Filter auf passende Nachrichten reagiert. Es stehen folgende Aktionen zur Auswahl:</para>

<variablelist>

<varlistentry>
<term
><guilabel
>Nachricht herunterladen</guilabel
></term>
<listitem>
<para
>Lädt die Nachricht wie jede andere Nachricht herunter, die nicht die Maximalgröße überschreitet.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Nachricht später herunterladen</guilabel
></term>
<listitem>
<para
>Markiert die Nachricht für späteres Herunterladen. Das bedeutet, die Nachricht verbleibt auf dem POP-Server bis man später manuell die Aktion ändert.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Nachricht vom Server löschen</guilabel
></term>
<listitem>
<para
>Löscht die Nachricht vom Server und lädt sie nicht herunter. Nachdem eine Nachricht vom Server gelöscht wurde, gibt es <emphasis
>keine</emphasis
> Möglichkeit, diese Aktion rückgängig zu machen. Man muss sicherstellen, dass der Filter auf keine Nachrichten zutrifft, die man doch lesen wollte.</para
></listitem>
</varlistentry>

</variablelist>

<para
>Die Option <guilabel
>Für das 'spätere Herunterladen' markierte Nachrichten im Bestätigungsdialog immer anzeigen</guilabel
> zeigt einen Bestätigungsdialog, wenn mindestens eine Nachricht beim Überprüfen des Posteingangs für die Aktion <guilabel
>Später Herunterladen</guilabel
> markiert wurde - auch dann, wenn für alle zu großen Nachrichten ein passender Filter gefunden wurde. Diese Option ist nützlich, wenn Nachrichten durch einen Filter für <guilabel
>Später Herunterladen</guilabel
> markiert wurden, aber für lange Zeit keine zu große Nachricht empfangen wird. Ohne diese Option würde der Bestätigungsdialog nie angezeigt und man hätte keine Möglichkeit, die Aktion für diese Nachrichten jemals zu ändern.</para>

</sect2>

<sect2 id="popfilters-confirmation">
<title
>Der Bestätigungsdialog</title>

<para
>Dieser Dialog erscheint immer dann, wenn man Pop-Filter aktiviert hat und es Nachrichten auf dem Server gibt, die die maximale Nachrichtengröße überschreiten. Im Dialog hat man die Möglichkeit, über den weiteren Verbleib der Nachricht zu entscheiden. Die Wahlmöglichkeiten sind <guilabel
>Herunterladen</guilabel
> (grün), <guilabel
>Später Herunterladen</guilabel
> (gelb mit Eieruhr) und <guilabel
>Vom Server entfernen</guilabel
> (rotes <quote
>x</quote
>). Vorsicht mit der letzten Möglichkeit: Nach dem Löschen gibt es keine Möglichkeit, die Nachricht wiederherzustellen.</para>

<para
>Wenn man das Ankreuzfeld <guilabel
>Zeige Nachrichten, die von einer Filterregel betroffen sind</guilabel
> markiert, erscheint ein Dialog, wenn es Nachrichten gibt, die von einer Filterregel für eine bestimmte Aktion (Herunterladen, später Herunterladen, Löschen) markiert worden sind. Dieses Ankreuzfeld ist nur dann aktiviert, wenn es solche Nachrichten gibt. Falls das Ankreuzfeld markiert ist, erscheint ein dem Bestätigungsdialog ähnlicher Dialog, der die Möglichkeit bietet, für jede Nachricht einzeln die gewünschte Aktion zu verändern.</para>

<para
>Zu beachten ist, dass dieser Dialog nur dann erscheint, wenn mindestens eine der zu großen Nachrichten nicht von einer Filterregel verarbeitet worden ist. Eine Ausnahme davon gibt es: Wenn man das Ankreuzfeld <guilabel
>Für das 'spätere Herunterladen' markierte Nachrichten im Bestätigungsdialog immer anzeigen</guilabel
> im Abschnitt <guilabel
>Globale Einstellungen</guilabel
> des Einrichtungsdialogs für Pop-Filter markiert. In diesem Falls wird der Dialog auch angezeigt, wenn man nur verarbeitete Nachrichten erhalten hat, falls mindestens eine der Nachrichten zum <guilabel
>später Herunterladen</guilabel
> markiert worden ist.</para>

</sect2>

</sect1>

<sect1 id="multiple-accounts">
<title
>Mehrere Postfächer verwenden</title>

<para
>Wenn Sie E-Mail von mehreren E-Mail-Adressen und/oder Mailservern bekommen, müssen Sie weitere Postfächer anlegen. Wählen Sie <menuchoice
><guimenu
>Einstellungen</guimenu
><guimenuitem
>&kmail; einrichten...</guimenuitem
></menuchoice
> und benutzen Sie die Seite <guilabel
>Netzwerk</guilabel
>, um Postfächer hinzuzufügen oder zu ändern. Für Details zu den Einstellungen auf der Seite <guilabel
>Netzwerk</guilabel
> schauen Sie bitte im Kapitel <link linkend="getting-started"
>Nutzung von KMail</link
> nach.</para>

<para
>Um neue Nachrichten für ein bestimmtes Postfach abzurufen, wählt man das Untermenü <menuchoice
><guimenu
>Datei</guimenu
><guimenuitem
>Nach E-Mail sehen in</guimenuitem
></menuchoice
> und wählt dort das gewünschte Postfach aus. Man kann auch die linke Maustaste auf dem Symbol <guiicon
>Nachrichten abrufen</guiicon
> für einige Zeit gedrückt halten, um eine Liste der Postfächer zu erhalten.</para>

</sect1>

<sect1 id="pgp">
<!-- This section is from Andreas Gungl, 2000-05-21, updated 2002-10-06 by Ingo Kloecker -->
<title
>Signierung und Verschlüsselung von Nachrichten mit Hilfe von <application
>PGP</application
> oder <application
>GnuPG</application
></title>

<note
><para
>Die Verschlüsselungs- und Signierfunktionalität in &kmail; ist grundlegend überarbeitet worden. Die folgende Einführung beschreibt die früheren Versionen von &kmail;. Sie können diese Einführung trotzdem noch lesen, um einen Überblick über das Signieren und Verschlüsseln von Nachrichten zu bekommen, aber die Details, insbesondere in der Konfiguration, werden sich vom hier Beschriebenen unterscheiden.</para
></note>

<para
>Dies ist eine kurze Einleitung zur Konfiguration von &kmail;'s <application
>PGP</application
>-Unterstützung (<application
>Pretty Good Privacy</application
>). Es sind außerdem einige Hinweise zur Verwendung von <application
>PGP</application
> enthalten. Der Abschnitt ist für Anfänger geschrieben. Wenn Sie mit der Bedienung von <application
>PGP</application
> vertraut sind, können Sie die meisten Schritte überspringen. Diese Dokumentation (und die &kmail; Benutzeroberfläche) gehen hauptsächlich auf <application
>PGP</application
> ein, treffen aber für <application
>PGP</application
> und <application
>GnuPG</application
> (<application
>GNU Privacy Guard</application
>) zu, wenn auch einige Befehlszeilenparameter von <application
>GnuPG</application
> unterschiedlich sein können.</para>

<para
>Informationen zu <application
>PGP</application
> findet man außerdem unter <link linkend="pgp-faq"
>&FAQ; zu <application
>PGP</application
></link
>.</para>

<warning
><para
>Falls man die eingebaute OpenPGP-Unterstützung verwendet, können Anhänge nicht verschlüsselt und signiert werden. Um Anhänge zu verschlüsseln, muss man zunächst GnuPG und einige notwendige Bibliotheken installieren. Danach kann man für jeden Anhang einzeln festlegen, ob er verschlüsselt werden soll. </para
></warning>

<warning
><para
>&kmail; ist auf die Ausgabe von <application
>PGP</application
> angewiesen. Das Ausgabeformat hat sich bei <application
>PGP</application
> mehrfach zwischen den Versionen geändert. Daher ist es unbedingt notwendig, die Verschlüsselung zu testen, bevor man sie ernsthaft verwendet. &kmail; warnt <emphasis
>nicht</emphasis
> in jedem Fall, wenn etwas schiefgeht. Man sollte sicherheitshalber <guilabel
>Nach Erstellung signierten/verschlüsselten Text anzeigen</guilabel
> aktivieren. </para
></warning>

<para
>Um die <application
>PGP</application
>-Unterstützung in &kmail; verwenden zu können, muss man zunächst <application
>PGP</application
> installieren und einrichten. Hier kann keine vollständige Einführung zu <application
>PGP</application
> gegeben werden. Die wichtigsten Schritte zur Einrichtung von <application
>PGP</application
> werden aber erläutert. Detaillierte Informationen findet man in der hervorragenden <application
>PGP</application
>-Dokumentation oder in <ulink url="http://www.gnupg.org/docs.html#guides"
>The GNU Privacy Handbook</ulink
>.</para
> 

<para
>Es ist sicherlich hilfreich, diese Dokumentation und eine generelle Einführung in Verschlüsselung mit öffentlichen Schlüsseln (z.B. aus dem Paket zu <application
>PGP</application
> 6.5.x) zu lesen. Dort werden die grundlegenden Konzepte erläutert, die ein Verständnis des Ablaufes erleichtern. Außerdem werden dort viele sicherheitsrelevante Themen erläutert.</para>

<para
>Auf geht's.</para>

<sect2 id="pgp-preconditions">
<title
>Voraussetzungen</title>

<para
>&kmail; erwartet, dass Ihr <application
>PGP</application
> Programm den Namen <command
>pgp</command
> hat. Falls Sie <application
>GnuPG</application
> verwenden, wird nach <command
>gpg</command
> gesucht. Sollten Ihre Programme andere Namen haben, legen Sie einfach einen symbolischen Link an.</para>

<para
>Falls noch nicht erfolgt, muss zunächst ein Schlüsselpaar (aus öffentlichem und privatem Schlüssel) für die eigene Identität erzeugt werden. Das wird in einem Konsolenfenster gemacht: <userinput
><command
>pgp</command
> <option
>-kg</option
></userinput
> bzw. <userinput
><command
>gpg</command
> <option
>--gen-key</option
></userinput
>. Es gibt in &kmail; noch keine Unterstützung für diese Prozedur der Schlüsselerzeugung. Die Identität (überlicherweise der Name gefolgt von der E-Mail-Adresse in spitzen Klammern, wie z.B. <userinput
>Hans Mustermann &lt;Hans.Mustermann@beispiel.de&gt;</userinput
>) und das Passwort sind wichtig für das Zusammenspiel zwischen &kmail; und <application
>PGP</application
>.</para>

</sect2>

<sect2 id="pgp-settings">
<title
>Einstellungen zu <application
>PGP</application
> innerhalb von &kmail;</title>

<para
>Man wählt die Karteikarte <guilabel
>OpenPGP</guilabel
> im Abschnitt <guilabel
>Sicherheit</guilabel
> des Einrichtungsdialogs. Dort findet man die folgenden Einstellmöglichkeiten:</para>

<variablelist>

<varlistentry>
<term
><guilabel
>Verschlüsselungsprogramm</guilabel
></term>
<listitem>
<para
>Hier können Sie auswählen, ob Sie <application
>PGP</application
> , <application
> GnuPG</application
>.oder gar kein Verschlüsselungsprogramm verwenden wollen. Das Programm, welches Sie verwenden wollen muss natürlich auf Ihrem System installiert sein. Es ist außerdem wichtig, die richtige Version auszuwählen.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Passwort im Speicher halten</guilabel
></term>
<listitem>
<para
>Wenn dieses Ankreuzfeld nicht aktiviert ist, fragt &kmail; bei jeder Signierung oder der Auswahl einer verschlüsselten Nachricht nach dem Passwort. Sobald man dieses Feld aktiviert, speichert &kmail; das Passwort nach der ersten erfolgreichen Abfrage bis zum Programmende von &kmail;. Das Passwort wird im Arbeitsspeicher gehalten und nicht auf die Festplatte geschrieben. Falls man eines der Krypto-Module oder den gpg-agent von <application
>GnuPG</application
> verwendet, fragt ein externes Programm nach der Passphrase und speichert diese optional für eine gewisse Zeit.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Zusätzlich eigenen Schlüssel verwenden</guilabel
></term>
<listitem>
<para
>Wenn dieses Ankreuzfeld nicht aktiviert ist, kann man nach dem Versenden einer verschlüsselten Nachricht diese nach der Verschlüsselung selbst auch nicht mehr lesen. Will man selbst die Nachricht noch lesen können, sollte man diese Option aktivieren.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Nach Erstellung signierten/verschlüsselten Text anzeigen</guilabel
></term>
<listitem>
<para
>Ist dieses Feld angekreuzt, wird das Resultat der Verschlüsselung oder Signierung noch einmal angezeigt, bevor die Nachricht versandt wird. Auf diese Weise kann man den Versand stoppen, falls ein Fehler passiert ist. Diese Option sollte man möglichst aktivieren.</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Wahl des Schlüssel für die Verschlüsselung immer bestätigen lassen</guilabel
></term>
<listitem>
<para
>Es wird vor dem Versand einer verschlüsselten Nachricht immer ein Dialog geöffnet, der die Wahl der Schlüssel für jeden Empfänger ermöglicht. Wenn dieses Ankreuzfeld nicht markiert ist, zeigt &kmail; diesen Dialog nur dann an, wenn für einen der Empfänger kein passender Schlüssel gefunden werden kann oder wenn die Verschlüsselungseinstellungen widersprüchlich oder unvollständig sind.</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Nachrichten automatisch mit OpenPGP signieren</guilabel
></term>
<listitem
><para
>Hier kann man einstellen, ob Nachrichten automatisch signiert werden sollen. Natürlich kann man dennoch eine unsignierte Nachricht senden, indem man das entsprechende Symbol im Fenster 'Nachricht erstellen' deselektiert.</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><guilabel
>Nachrichten möglichst automatisch verschlüsseln</guilabel
></term>
<listitem
><para
>Mit dieser Einstellung verschlüsselt &kmail; Nachrichten automatisch mit Hilfe der eingebauten OpenPGP-Unterstützung oder dem PGP/MIME-Modul, vorausgesetzt, es existiert für jeden Empfänger der Nachricht im Schlüsselring ein vertrauenswürdiger PGP-Schlüssel, und weiterhin vorausgesetzt, dass man nicht in &kmail; die Verschlüsselung für einige Empfänger abgeschaltet hat. Im Zweifelsfall fragt &kmail;, ob die Nachricht verschlüsselt werden soll.</para
></listitem>
</varlistentry>

</variablelist>

<para
>Nach Einrichtung des Verschlüsselungsprogramms muss man &kmail; mitteilen, welcher OpenPGP-Schlüssel zum Signieren und Verschlüsseln von Nachrichten verwendet werden soll. Dazu legt man bei der <link linkend="configure-identity"
>Identitäten-Einrichtung</link
> auf der Karteikarte <guilabel
>Erweitert</guilabel
> den gewünschten Schlüssel fest.</para>

<para
>Nun ist man in der Lage, eigene Nachrichten vor dem Versand zu signieren. Damit andere Benutzer Nachrichten an Sie schicken und Ihre Signatur überprüfen können, muss man seinen öffentlichen Schlüssel an diese Personen senden oder an einen öffentlichen Key-Server schicken, von dem sie dann herunter geladen werden können. Um verschlüsselte Nachrichten an andere Personen versenden zu können oder um signierte Nachrichten anderer Personen zu überprüfen, benötigt man die öffentlichen Schlüssel dieser Personen. Man kann seine öffentlichen Schlüssel auf einem öffentlichen <application
>PGP</application
>-Key-Server wie z.B. <ulink url="http://www.cam.ac.uk.pgp.net/pgpnet/"
>http://www.cam.ac.uk.pgp.net/pgpnet/</ulink
> speichern.</para>

</sect2>

<sect2 id="pgp-sign-your-messages">
<title
>Signieren von Nachrichten</title>

<para
>Man erstellt seine Nachricht wie gewöhnlich im 'Nachricht erstellen'-Fenster von &kmail;. Vor dem Versand der Nachricht sollte man das Symbol <guibutton
>Nachricht signieren</guibutton
> in der Werkzeugleiste überprüfen. Nun kann man die Nachricht versenden. Für die Signierung muss die verwendete Identität unter <guilabel
>Identität</guilabel
> im Dialog <guilabel
>&kmail; einrichten...</guilabel
> mit einem <guilabel
>OpenPGP</guilabel
>-Schlüssel verbunden worden sein. Für die Signierung ist das <application
>PGP</application
>-Passwort erforderlich. Wenn man nicht <guilabel
>Passwort im Speicher halten</guilabel
> auf der Seite <guilabel
>Sicherheit</guilabel
> bei den Einstellungen von &kmail; gewählt hat, fragt &kmail; nach dem Passwort. Andernfalls wird die Nachricht ohne Nachfrage von &kmail; signiert, falls man das Passwort bereits einmal eingegeben hatte.</para>

</sect2>

<sect2 id="pgp-encrypt-your-messages">
<title
>Verschlüsseln von Nachrichten</title>

<para
>Um jemandem, dessen öffentlichen Schlüssel man besitzt, eine verschlüsselte Nachricht zu senden, schreibt man die Nachricht zunächst im Dialog 'Nachricht erstellen'. Vor dem Versand der Nachricht klickt man auf das Symbol <guibutton
>Nachricht verschlüsseln</guibutton
> in der Werkzeugleiste. Falls man im Einrichtungsdialog bereits <guilabel
>Nachrichten möglichst automatisch verschlüsseln</guilabel
> markiert haben, ist dieser Schritt überflüssig (siehe auch <link linkend="pgp-sign-your-messages"
>weiter oben</link
>). Dann kann die Nachricht versandt werden.</para>

<para
>Falls man den Knopf <guilabel
>Nachricht verschlüsseln</guilabel
> gedrückt hat und &kmail; für einen Empfänger keinen passenden vertrauenswürdigen Schlüssel findet, wird eine Liste der verfügbaren vertrauenswürdigen Schlüssel im Dialog <guilabel
>Wahl des Verschlüsselungs-Schlüssels</guilabel
> angezeigt. Falls &kmail; mehr als einen vertrauenswürdigen Schlüssel für einen Empfänger findet, wird eine Liste der Schlüssel für diesen Empfänger angezeigt. In beiden Fällen kann man den Schlüssel auswählen, der zur Verschlüsselung der Nachricht verwendet werden soll. Falls man die Auswahl für zukünftige Nachrichten beibehalten möchte, markiert man das Ankreuzfeld <guilabel
>Auswahl speichern</guilabel
>.</para>

<para
>Falls man einen Schlüssel das erste Mal verwendet, widersprüchliche Verschlüsselungseinstellungen vorhanden sind oder man <guilabel
>Wahl des Schlüssels für die Verschlüsselung immer bestätigen lassen</guilabel
> im Einrichtungsdialog von &kmail; im Abschnitt <guilabel
>Sicherheit</guilabel
> auf der Karteikarte <guilabel
>OpenPGP</guilabel
> markiert hat, wird der Dialog <guilabel
>Wahl des Verschlüsselungs-Schlüssels bestätigen</guilabel
> angezeigt. Hier kann für die Empfänger ein anderer Schlüssel ausgewählt und außerdem für jeden Empfänger ein Primärer Schlüssel festgelegt werden. Die Standardeinstellung <guilabel
>Möglichst immer verschlüsseln</guilabel
> verschlüsselt jede Nachricht, bei der für alle Empfänger ein vertrauenswürdiger Schlüssel vorhanden ist.</para>

<para
>Weiter oben wurde bereits erwähnt, dass man nicht in der Lage ist, die verschlüsselte Nachricht wieder zu entschlüsseln, wenn man nicht bei den Einstellungen unter <guilabel
>Sicherheit</guilabel
> das Ankreuzfeld <guilabel
>Zusätzlich eigenen Schlüssel verwenden</guilabel
> markiert hat.</para>

</sect2>

<sect2 id="pgp-send-your-public-key">
<title
>Den öffentlichen Schlüssel versenden</title>

<para
>Man schreibt zunächst eine Nachricht an die Person, die den öffentlichen Schlüssel erhalten soll. Dann wählt man <menuchoice
><guimenu
>Anhängen</guimenu
><guimenuitem
>Öffentlichen Schlüssel anhängen...</guimenuitem
></menuchoice
> im 'Nachricht erstellen'-Fenster. Damit wird der für diese Identität festgelegte öffentliche Schlüssel an die Nachricht angefügt. Nun kann man die Nachricht abschicken.</para>

<para
>Man sollte daran denken, das die Signierung der Nachricht kein verlässlicher Weg ist, den Schlüsselversand abzusichern. Die Nachricht kann auf dem Weg abgefangen werden ("man-in-the-middle"-Attacke) und von einer Person mit einem falschen Schlüssel versehen und mit diesem falschen Schlüssel auch signiert werden. Daher sollte der Schlüsselempfänger die Signatur mit einer Signatur vergleichen, die er auf einem sicheren Weg erhalten hat. Genauere Hinweise dazu findet man in der Dokumentation zu <application
>PGP</application
>.</para>

</sect2>

<sect2 id="pgp-you-received-an-encrypted-message">
<title
>Empfang einer verschlüsselten Nachricht</title>

<para
>Man muss lediglich die Nachricht in &kmail; auswählen. Dann wird man nach dem Passwort gefragt. &kmail; versucht nun, die Nachricht zu entschlüsseln und zeigt danach den unverschlüsselten Text, wenn die Nachricht mit dem öffentlichen Schlüssel verschlüsselt worden ist (falls nicht, ist das Ergebnis unleserlich). &kmail; speichert diese Nachricht verschlüsselt ab, sodass niemand ohne Passwort die Nachricht lesen kann.</para>

</sect2>

<sect2 id="pgp-receiving-a-public-key">
<title
>Einen öffentlichen Schlüssel erhalten</title>

<para
>Sie können einen öffentlichen Schlüssel als Anhang oder per http, ftp oder Diskette erhalten. Bevor Sie diesen Schlüssel benutzen, um eine Nachricht an den Besitzer zu verschlüsseln, sollten Sie den Schlüssel überprüfen (Überprüfen Sie den Fingerabdruck oder schauen Sie nach vertrauenswürdigen Signaturen). Danach können Sie den Schlüssel Ihrem Schlüsselbund hinzufügen, indem Sie folgendes eingeben an der Kommandozeile eingeben: Für <application
>PGP</application
>: <userinput
><command
>pgp</command
><option
>ka</option
> <replaceable
>Dateiname</replaceable
></userinput
> oder für <application
>GnuPG</application
> <userinput
><command
>gpg</command
><option
>--import</option
><replaceable
> Dateiname</replaceable
></userinput
>. Falls der Schlüssel keine vertrauenswürdige Signatur enthält, können Sie &kmail; nicht benutzen, um Nachrichten damit zu verschlüsseln, es sei denn Sie signieren den Schlüssel mit dem eigenen Schlüssel. </para>

</sect2>

</sect1>

<sect1 id="the-anti-spam-wizard">
<title
>Der Anti-Spam-Assistent</title>

<sect2 id="spam-wizard-basics">
<title
>Grundlagen</title>

<para
>&kmail; besitzt keine eingebaute Funktion zur Erkennung unerwünscher Mails. Die Entwickler sind der Überzeugung, dass die Verwendung externer, spezialisierter Werkzeuge die bessere Lösung ist. &kmail; verwendet diese Werkzeuge über seine flexible Filterarchitektur. Der Assistent für Spam-Filter hilft Ihnen bei der anfänglichen Einrichtung der Filter. </para>

<variablelist>
<varlistentry>
<term
>Wie kann der Assistent Ihnen helfen?</term>
<listitem>
<para
>Er bietet Ihnen einige Auswahlmöglichkeiten an, wie Sie das Filtern von Spam einrichten wollen. Danach richtet er automatisch die passenden Filterregeln ein. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Welche Einschränkungen hat der Assistent?</term>
<listitem>
<para
>Er kann die Filter nur einmal einrichten und eine Standardkonfiguration bereitstellen. Das Modifizieren existierender Filter ist noch nicht möglich. Stattdessen werden diese Filter vom Assistenten überschrieben. </para>
</listitem>
</varlistentry>
</variablelist>

<para
>Sie starten den Assistenten über <menuchoice
><guimenu
>Werkzeuge</guimenu
><guimenuitem
>Assistent für Spam-Filter einrichten...</guimenuitem
></menuchoice
>.</para>

<para
>Der Assistent sucht auf Ihrem Computer nach bekannten Werkzeugen zur Erkennung unerwünschter Nachrichten. Darüberhinaus können Sie die Ergebnisse einer Erkennung durch Ihren Provider nutzen, indem Vorspanninformationen ausgewertet werden, die zu diesem Zweck vom Provider hinzugefügt wurden. Sie können &kmail; mit dem Assistenten für eine oder mehrere Werkzeuge gleichzeitig einrichten. Bedenken Sie aber, dass die Erkennung unerwünschter E-Mails gewöhnlich zeitaufwendig ist. Während des Erkennungsvorgangs kann &kmail; leicht unbedienbar werden. Wenn der Filtervorgang für Sie zu langsam wird, sollten Sie das Löschen der vom Assistenten erstellen Regeln in Erwägung ziehen. Hier sind einige Empfehlungen bezüglich der unterstützten Werkzeuge:</para>

<variablelist>
<varlistentry>
  <term
>Bogofilter</term>
<listitem>
<para
>Bogfilter ist ein Bayesian-Filter. Das bedeutet die Erkennung unerwünschter E-Mails erfordert zu Beginn eine Lernphase. Anderseits ist dieses Programm sehr schnell. Darum wird es für Anwender empfohlen, die Wert auf eine schnelle Erkennung unerwünschter Mails legen und denen die kurze Lernphase zu Beginn nichts ausmacht. </para>
</listitem>
</varlistentry>
<varlistentry>
  <term
>SpamAssassin</term>
<listitem>
<para
>SpamAssassin ist ein hochkomplexes Werkzeug zur Bekämpfung unerwünschter E-Mails. Auch wenn sein Verhalten sehr stark von der Konfiguration abhängt, kann dieses Werkzeug auch ohne Lernphase eine hohe Erkennungsrate erzielen. Allerdings dauert der Erkennungsvorgang etwas länger als bei reinen Bayesian-Filtern. Sagen wir so: es ist nicht das Werkzeug der Wahl für Leute ohne Hintergrundwissen über die Möglichkeiten von SpamAssassin. </para>
</listitem>
</varlistentry>
<varlistentry>
  <term
>Annoyance-Filter</term>
<listitem>
<para
>Wahrscheinlich nur selten verwendet, wenn die Distributionen es nicht irgendwann aufnehmen. Es ganz klar ein Werkzeug für Spezialisten. </para>
</listitem>
</varlistentry>
<varlistentry>
  <term
>GMX Spam-Filter</term>
<listitem>
<para
>Vorausgesetzt Sie  erhalten Ihre E-Mails über den Provider GMX-Freemail, sind diese bereits auf unerwünschte E-Mails durchsucht. Das Ergebnis dieses Vorgangs ist für jede Nachricht in einer speziellen Vorspannzeile abgelegt. Es ist möglich den Inhalt dieser Vorspannzeile zum Ausfiltern von unerwünschen E-Mails zu verwenden. Wenn Sie nur dieses Werkzeug verwenden, entstehen keine Geschwindigkeitseinbußen, da die Nachrichten bereits durchsucht wurden. </para>
</listitem>
</varlistentry>
</variablelist>


</sect2>

<sect2 id="spam-wizard-advanced">
<title
>Fortgeschrittene Informationen</title>

<para
>So funktioniert der Assistent: &kmail; kann verschiedene externe Werkzeuge verwenden, um unerwünschte E-Mails zu entdecken, und versucht automatisch herauszufinden, welche dieser Werkzeuge auf Ihrem Rechner installiert sind. Diese werden Ihnen in einer Liste angezeigt. Die Liste ist nach der durchschnittlichen Schnelligkeit des Filtervorgangs sortiert. Sie können die gewünschten Werkzeuge markieren; Natürlich können Sie den Assistenten schließen, ein Werkzeug installieren und den Assistenten dann neu starten. </para>

<para
>Wenn Sie zumindest ein Werkzeug markiert haben, ist &kmail; in der Lage Filter anzubieten, die die Einordnung von Nachrichten als erwünscht oder unerwünscht ermöglichen. Darüberhinaus erhalten Sie die Möglichkeit Nachrichten manuell einzuordnen. Diese Aktionen sind über das Menü und die Werkzeugleiste verfügbar. Unterstützt eines der ausgewählten Werkzeuge Baysian-Filterung (eine Methode zur Erkennung unerwünschter E-Mails basierend auf einer statistischen Auswertung der Nachrichten), werden die Nachrichten nicht nur markiert sondern auch zum Lernen an die Werkzeuge übergeben, damit diese ihre Erkennungsrate verbessern können. </para>

<para
>Auf der zweiten Seite können Sie weitere in &kmail; durchzuführende Aktionen bezüglich unerwünschter Mails auswählen: wenn als unerwünscht erkannte Nachrichten in einen bestimmten Ordner verschoben werden sollen, wählen Sie den gewünschten Ordner aus und markieren Sie das Ankreuzfeld <guilabel
>Erkannte unerwünschte Nachrichten verschieben nach</guilabel
>. Wenn als unerwünscht erkannte Nachrichten zusätzlich als gelesen markiert werden sollen, kreuzen Sie die Einstellung <guilabel
>Erkannte unerwünschte Nachrichten als gelesen markieren</guilabel
> an. </para>

<para
>Wenn Sie zumindest eines der angebotenen Werkzeuge markiert haben, können Sie den Assistenten die Filtereinrichtung abschließen lassen. Der Assistent berücksichtigt existierende Filterregeln nicht, sondern hängt auf jeden Fall neue Regeln an oder ersetzt existierende Filter; Sie sollten das Ergebnis daher im <link linkend="filter-dialog"
>Filter-Dialog</link
> kontrollieren. Wenn Sie die Option <guilabel
>Nachrichten von Hand als SPAM/HAM klassifizieren</guilabel
> angekreuzt haben, erzeugt der Assistent entsprechende Symbole in der Werkzeugleiste, mit denen Sie Nachrichten als Spam oder als Ham klassifizieren können. Denken Sie dabei daran, dass das Klassifizieren von Nachrichten als Spam diese auch in den Ordner verschiebt, den Sie für unerwünschte Nachrichten angegeben haben. </para>

</sect2>

<sect2 id="spam-wizard-details">
<title
>Einige weitere Einzelheiten für Experten</title>

<para
>Der Assistent speichert seine Informationen in einer speziellen Konfigurationsdatei namens <filename
>kmail.antispamrc</filename
> (die im globalen oder lokalen Konfigurationsverzeichnis von KDE abgelegt wird). Zunächst wird die globale Konfigurationsdatei und danach die lokale durchsucht. wenn die lokale Konfigurationsdatei Einträge mit höheren (neueren) Versionsnummern pro Werkzeug enthält, dann werden für dieses Werkzeug die Konfigurationsdaten aus der lokalen Datei verwendet; auf diese Weise können sowohl Administratoren als auch Benutzer die Konfiguration des Assistenten aktualisieren. </para>

<para
>Die Erkennung unerwünschter Nachrichten funktioniert durch das Anlegen von Aktionen des Typs <guilabel
>Durch Programm leiten</guilabel
> für jedes Werkzeug in einem speziellen Filter. Ein weiterer Filter enthält Regeln, mit denen erkannte unerwünschte Nachrichten markiert und (optional, je nach Einstellung im Assistenten) in einen Ordner verschoben werden. Beide Filter werden so eingerichtet, dass sie sowohl für eingehende Nachrichten als auch bei manueller Filterung verwendet werden. </para>

<para
>Für die Klassifikation von Ham und Spam werden zwei Filter benötigt. Sie enthalten Aktionen, um die Nachrichten ensprechend zu kennzeichen. Wie oben erwähnt, kann der Filter zur Klassifikation als Spam eine weitere Aktion enthalten, mit der die Nachricht in einen festgelegten Ordner verschoben wird. Wenn die ausgewählten Werkzeuge Bayes-Filterung unterstützen, erzeugt der Assistent zusätzliche Filteraktionen, um die Nachrichten im jeweiligen Lern-Modus an die Werkzeuge zu übergeben (Aktion vom Typ <guilabel
>Befehl ausführen</guilabel
>). </para>

<para
>Wenn Sie den Filtervorgang verfeinern wollen, sollten Sie das Kapitel <link linkend="filter-optimization"
>Filter-Optimierung</link
> lesen.</para>

</sect2>

</sect1>

<sect1 id="the-anti-virus-wizard">
<title
>Der Anti-Virus-Assistent</title>

<sect2 id="virus-wizard-basics">
<title
>Grundlagen</title>

<para
>&kmail; enthält keine eingebaute Viruserkennung; die Entwickler sind der Meinung, dass externe spezialisierte Werkzeuge die bessere Lösung sind. &kmail; verwendet diese Werkzeuge über seine flexible Filterarchitektur. Der Assistent für Anti-Virus hilft Ihnen bei der anfänglichen Einrichtung dieser Filter. </para>

<variablelist>
<varlistentry>
<term
>Wie kann der Assistent Ihnen helfen?</term>
<listitem>
<para
>Sie bekommen einige Auswahlmöglichkeiten, wie die Virus-Filterung eingerichtet werden soll. Anschließend werden die nötigen Filterregeln automatisch erzeugt. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Welche Einschränkungen hat der Assistent?</term>
<listitem>
<para
>Er kann die Filter nur einmal einrichten und eine Standardkonfiguration bereitstellen. Das Modifizieren existierender Filter ist noch nicht möglich. </para>
</listitem>
</varlistentry>
</variablelist>

<para
>Sie starten den Assistenten über  <menuchoice
><guimenu
>Einstellungen</guimenu
><guimenuitem
>Assistent für Anti-Virus</guimenuitem
></menuchoice
>.</para>

</sect2>

<sect2 id="virus-wizard-advanced">
<title
>Fortgeschrittene Informationen</title>

<para
>Der Anti-Virus-Assistent funktioniert im Großen und Ganzen wie der <link linkend="the-anti-spam-wizard"
>Anti-Spam-Assistent</link
>: &kmail; kann mehrere externe Werkzeuge verwenden, um Nachrichten zu erkennen, die Viren enthalten. Die auf Ihrem System installierten Werkzeuge werden automatisch erkannt und angezeigt. Sie können die Werkzeuge, mit denen Sie &kmail; nach Viren suchen lassen wollen, markieren; Werkzeuge, die nicht gefunden wurden, können auch nicht markiert werden, weil die jeweiligen Ankreuzfelder abgeschaltet sind. Natürlich können Sie den Assistenten beenden, ein Werkzeug installieren und den Assistenten erneut starten. </para>

<para
>Wenn Sie wenigstens ein Werkzeug zur Verwendung markiert haben, können Sie einige Aktionen auswählen, die &kmail; bei Nachrichten mit Viren ausführen soll: Auf jeden Fall sollten sie &kmail; Nachrichten automatisch mit <guilabel
>Nachrichten mit Anti-Virus-Programmen prüfen</guilabel
> nach Viren suchen lassen. Wenn als mit Viren infizierte Nachrichten in einen bestimmten Ordner verschoben werden sollen, wählen Sie bitte diesen Ordner aus und kreuzen Sie die Option <guilabel
>Erkannte Viren-Nachrichten in den ausgewählten Ordner verschieben</guilabel
> an. Wenn infizierte Nachrichten außerdem noch als gelesen markiert werden sollen, dann kreuzen Sie auch die Option <guilabel
>Erkannte Viren-Nachrichten zusätzlich als gelesen markieren</guilabel
> an. </para>

<para
>Wenn Sie wenigstens eine dieser letzten Optionen angekreuzt haben, können Sie den Assistenten die Filtereinrichtung abschließen lassen. Der Assistent berücksichtigt keine existierenden Filterregeln, sondern hängt in jedem Fall neue Regeln an; Sie können sich das Ergebnis dieses vorgangs im <link linkend="filter-dialog"
>Filter-Dialog</link
> anschauen. </para>

</sect2>

<sect2 id="virus-wizard-details">
<title
>Details</title>

<para
>Der Assistent speichert seine Informationen in einer speziellen Konfigurationsdatei namens <filename
>kmail.antivirusrc</filename
> (die im globalen oder lokalen Konfigurationsverzeichnis von KDE abgelegt wird). Zunächst wird die globale Konfigurationsdatei und danach die lokale durchsucht. wenn die lokale Konfigurationsdatei Einträge mit höheren (neueren) Versionsnummern pro Werkzeug enthält, dann werden für dieses Werkzeug die Konfigurationsdaten aus der lokalen Datei verwendet; auf diese Weise können sowohl Administratoren als auch Benutzer die Konfiguration des Assistenten aktualisieren. </para>

<para
>Die Erkennung mit Viren infizierter Nachrichten funktioniert durch das Anlegen von Aktion des Typs <guilabel
>Durch Befehl leiten</guilabel
> für jedes Werkzeug in einem speziellen Filter. Ein weiterer Filter enthält Regeln, mit denen erkannte infizierte Nachrichten markiert und (optional, je nach Einstellung im Assistenten) in einen Ordner verschoben wird. Beide Filter werden so konfiguriert, dass sie sowohl für eingehende Nachrichten als auch bei manueller Filterung verwendet werden. </para>

</sect2>

</sect1>

</chapter>
