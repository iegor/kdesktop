<chapter id="indi">
<title
>Astronomisk enhedskontrol med <acronym
>INDI</acronym
></title>
<indexterm
><primary
>INDI kontrol</primary>
<secondary
>Overblik</secondary>
</indexterm>

<para
>KStars giver dig mulighed for at indstille og kontrollere astronomiske instrumenter via <acronym
><link linkend="what-is-indi"
>INDI</link
></acronym
>-protokollen.</para>

<para
><acronym
>INDI</acronym
>-protokollen understøtter en række astronomiske instrumenter som f.eks. CCD-kamaraer og fokuseringsenheder. I øjeblikket understøttes følgende enheder i KStars:</para>

<table id="device-table" pgwide="1" frame="all">
<title
>Understøttede teleskoper</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>Teleskop</entry>
<entry
>Enhedsdriver</entry>
<entry
>Version</entry>
</row>
</thead>
<tbody>
<row>
<entry
>LX200 8"-12" Classic</entry>
<entry
>lx200classic</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>Autostar baserede teleskoper</entry>
<entry
>lx200autostar</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>LX200 GPS 8"-16"</entry>
<entry
>lx200gps</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>LX200 Classic 16"</entry>
<entry
>lx200_16</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>NexStar GPS, CGE, AS-GT</entry>
<entry
>celestrongps</entry>
<entry
>0.9</entry>
</row>
<row>
<entry
>Ny GT, NexStar 5i/8i</entry>
<entry
>celestrongps</entry>
<entry
>0.9</entry>
</row>
<row>
<entry
>Takahashi Temma</entry>
<entry
>temma</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Astro-Physics AP</entry>
<entry
>apmount</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Astro-Electronic FS-2</entry>
<entry
>lx200basic</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Argo Navis</entry>
<entry
>lx200basic</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Losmandy Gemini</entry>
<entry
>lx200basic</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Mel Bartels Controllere</entry>
<entry
>lx200basic</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Sky Commander</entry>
<entry
>skycommander</entry>
<entry
>0.1</entry>
</row>
</tbody>
</tgroup>
</table>
<table id="focuser-table" pgwide="1" frame="all">
<title
>Understøttede fokuseringsenheder (okularudtræk)</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>Fokuseringsenhed (okularudtræk)</entry>
<entry
>Enhedsdriver</entry>
<entry
>Version</entry>
</row>
</thead>
<tbody>
<row>
<entry
>Meade LX200GPS Microfocuser</entry>
<entry
>lx200gps</entry>
<entry
>0.9</entry>
</row>
<row>
<entry
>Meade 1206 Primary Mirror Focuser</entry>
<entry
>lx200generic</entry>
<entry
>0.9</entry>
</row>
<row>
<entry
>JMI NGF Series</entry>
<entry
>lx200generic</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>JMI MOTOFOCUS</entry>
<entry
>lx200generic</entry>
<entry
>0.1</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="ccd-table" pgwide="1" frame="all">
<title
>Understøttede CCD'er</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>CCD</entry>
<entry
>Enhedsdriver</entry>
<entry
>Version</entry>
</row>
</thead>
<tbody>
<row>
<entry
>Finger Lakes Instruments CCDs</entry>
<entry
>fliccd</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>Santa Barbara Instrument CCD'er</entry>
<entry
>sbigccd</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Apogee CCD'er</entry>
<entry
>apogee_ppi, apogee_pci, apogee_isa, apogee_usb</entry>
<entry
>0.1</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="filter-table" pgwide="1" frame="all">
  <title
>Filterhjul som understøttes</title>
  <tgroup cols="3" colsep="1" rowsep="1">
    <thead>
      <row>
	<entry
>Filterhjul</entry>
	<entry
>Enhedsdriver</entry>
	<entry
>Version</entry>
      </row>
    </thead>
    <tbody>
      <row>
	<entry
>FLI filterhjul</entry>
	<entry
>fliwheel</entry>
	<entry
>0.9</entry>
      </row>
    </tbody>
  </tgroup>
  </table>
  
<table id="video-table" pgwide="1" frame="all">
<title
>Understøttede net-kameraer</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>Netkamera</entry>
<entry
>Enhedsdriver</entry>
<entry
>Version</entry>
</row>
</thead>
<tbody>
<row>
<entry
>Alle enheder som virker med Video4Linux</entry>
<entry
>v4ldriver</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>Philips netkameraer</entry>
<entry
>v4lphilips</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>Meade Lunar Planetary Imager</entry>
<entry
>meade_lpi</entry>
<entry
>0.1</entry>
</row>

</tbody>
</tgroup>
</table>

<sect1 id="indi-kstars-setup">
<title
>INDI-opsætning</title>
<indexterm
><primary
>INDI</primary>
<secondary
>Opsætning</secondary>
</indexterm>
<para
>Kstars kan styre lokale enheder og fjernenheder fint via <link linkend="what-is-indi"
>INDI</link
>'s klient/server-arkitektur. INDI-enheder kan køres i tre forskellige tilstande:</para>

<orderedlist>
<listitem
><para
>Lokalt: Den lokale tilstand er den almindeligste, og bruges til at styre lokale enheder (&ie; en enhed som er koblet til din maskine).</para
></listitem>
<listitem
><para
>Server: Servertilstand etablerar en INDI-server for en vis enhed og venter på tilslutning fra fjernklienter. Du kan ikke styre serverenheder, du kan kun starte og afslutte dem.</para
></listitem>
<listitem
><para
>Klient: Klienttilstand bruges til at tilslutte til INDI-fjernservere som kører INDI-enheder. Du kan styre fjernenheder fint som lokale enheder.</para
></listitem>
</orderedlist>

<para
>Du kan styre lokale enheder, oprette INDI-servere og forbinde til fjernklienter fra <guimenuitem
>Enhedshåndteringen</guimenuitem
> i menuen <guimenu
>Enheder</guimenu
>.</para>

<para
>Her er et skærmbillede af <guilabel
>Enhedshåndteringen</guilabel
>:</para>

<screenshot>
<screeninfo
>Kørende enhedsdrivere</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="devicemanager.png" format="PNG"/>
</imageobject>
<textobject>
<phrase
>Start enhedsdrivere</phrase>
</textobject>
</mediaobject>
</screenshot>

<para
>Du kan styre enheder ved at søge i enhedstræet, vælge en særlig enhed, og derefter klikke på knappen <guibutton
>Kør tjeneste</guibutton
>. Du kan vælge køretilstand, enten lokal eller server, ifølge definitionen ovenfor.</para>

<para
>For at styre fjernenheder, se afsnittet <link linkend="indi-remote-control"
>Fjernstyring af enhed</link
>.</para>
</sect1>

<sect1 id="indi-telescope-setup">
<title
>Teleskopopsætning</title>
<indexterm
><primary
>INDI</primary>
<secondary
>Opsætning</secondary>
</indexterm>

<para
>De fleste teleskoper har et <hardware
>RS232</hardware
>-stik til fjernkontrol. Sæt RS232-stikket fra dit teleskop i din computers <hardware
>Seriel/USB</hardware
>-port. Traditionelt bruger RS232 en seriel port til forbindelsen til computeren, men da mange nye bærbare computere har droppet serielporten til fordel for <hardware
>USB/FireWire</hardware
>-porte er du måske nød til at bruge en seriel til USB-adaptor for at kunne bruge din bærbare.</para>

<para
>Når du har forbunder dit teleskop til Seriel/USB-porten tænder du teleskopet. Det anbefales <emphasis
>meget</emphasis
> at du henter og installerer det seneste firmware til din teleskop-controller.</para>

<para
>Teleskopet skal kalibreres før det kan bruges ordentligt. Kalibrér dit teleskop (en eller to-stjernerskalibrering) som vist i dit teleskops manual.</para>

<para
>&kstars; har brug for at fastslå tid og sted før det tilslutter teleskopet. Det sikrer ordentlig følgen og synkronisering mellem teleskopet og &kstars;. Følgende skridt vil sætte dig i stand til at skabe forbindelse til en enhed der er tilsluttet direkte til din computer. For at skabe forbindelse til enheder tilsluttet andre computere se afsnittet <link linkend="indi-remote-control"
>Kontrollér fjerne enheder</link
>.</para>

<para
>Du kan bruge teleskopguiden, den vil så kontrollere al information som kræves mens den køres. Den kan automatisk afsøge porte efter forbundne teleskoper. Du kan køre guiden ved at vælge <guimenuitem
>Teleskopguide</guimenuitem
> i menuen <guimenu
>Enheder</guimenu
>.</para>

<para
>Alternativt kan du få forbindelse til et lokalt teleskop, ved at udføre følgende skridt:</para>

<orderedlist>
<listitem
><para
>Indstil geografisk sted. Åbn vinduet <guilabel
>Geografisk...</guilabel
> ved at vælge <guimenuitem
>Angiv geografisk sted...</guimenuitem
> i menuen <guimenu
>Opsætning</guimenu
>, ved at klikke på <guiicon
>jordkloden</guiicon
> i værktøjslinjen, eller ved at trykke på <keycombo action="simul"
>&Ctrl;<keycap
>G</keycap
></keycombo
>.</para>
</listitem>
<listitem
><para
>Angiv din lokale tid og dato. Du kan skifte til ethvert tidspunkt eller dato ved at vælge <guimenuitem
>Sæt tiden...</guimenuitem
> fra menuen <guimenu
>Tid</guimenu
> eller ved at trykke på <guiicon
>tids</guiicon
>ikonet på værktøjslinjen. Vinduet <guilabel
>Sæt tiden</guilabel
> bruger &kde;s standardtidsvælger kombineret med 3 drejevælgere til at indstille timer, minutter og sekunder. Hvis du får brug for at sætte uret tilbage til den aktuelle tid, kan du bare trykke på <guimenuitem
>Sæt tiden til nu</guimenuitem
> i menuen <guimenu
>Tid</guimenu
>.</para>
</listitem>
<listitem>
<para
>Klik på menuen <guimenu
>Enheder</guimenu
> og vælg <guimenuitem
>Enhedshåndteringen</guimenuitem
>.</para>
</listitem>
<listitem>
<para
>Vælg din teleskopmodel i søjlen <guilabel
>Enhed</guilabel
>.</para>
</listitem>
<listitem>
<para
><mousebutton
>Højre</mousebutton
>-klik på enheden og vælg <guilabel
>Kør tjeneste</guilabel
>.</para>
</listitem>
<listitem>
<para
>Klik <guibutton
>O.k.</guibutton
> for at lukke enhedshåndteringen igen.</para>
</listitem>
</orderedlist>

<note id="geo-time-note">
<title
>Ofte brugte indstillinger</title>
<para
>Du behøver ikke indstille geografisk sted hver gang du tilslutter et teleskop. Justér blot indstillingerne efter behov.</para
></note>

<para
>Du er nu klar til at bruge enhedens muligheder. &kstars; tilbyder to forskellige muligheder for at styre teleskopet med en grafisk brugerflade:</para>

<orderedlist>
<title
>Styr dit teleskop</title>
<listitem>
<para
><guilabel
>Kontrol via stjernekortet</guilabel
>: For hver enhed du har startet i <guilabel
>Enhedshåndteringen</guilabel
> vises et tilhørende menupunkt i popop-menuen hvor du kan styre indstillingerne for enheden. Du kan udføre kommandoer som <command
>Flyt, Synk,</command
> og <command
>Spor</command
> direkte fra stjernekortet. </para>
<para
>Her er et skærmbillede af popop-menuen med et aktivt LX200 Classic-teleskop:</para>
<screenshot>
<screeninfo
>Kontrollér enheder fra stjernekortet</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="skymapdevice.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>

<listitem>
<para
><guilabel
>INDI-indstillingsfelt</guilabel
>: Feltet tilbyder brugeren alle de funktioner som understøttes af en enhed. </para>

<para
>Panelet er inddelt i tre hovedsektioner:</para>
<itemizedlist>
<listitem>
<para
><guilabel
>Enhedsfaneblade</guilabel
>: Hver aktiv enhed har sit faneblad i INDI-panelet. Flere enheder kan køre samtidig uden at influere på styringen af de andre enheder. </para>
</listitem>
<listitem>
<para
><guilabel
>Visning af egenskaber</guilabel
>: Egenskaber er nøgleelementet i INDI-arkitekturen. Hver enhed definer et sæt egenskaber til kommunikation med klienten. Den nuværende position af teleskopet er et eksempel på en egenskab. Semantisk ens egenskaber er normalt indeholdt i logiske blokke eller grupperinger. </para>
</listitem>
<listitem>
<para
><guilabel
>Logfremvisere</guilabel
>: Enheder rapporterer deres status og modtagne kommandoer ved at sende INDI-meddelelser. Hver enhed har sin egen logvisning, og alle enheder deler en generisk logfremviser. En enhed sender normalt kun meddelelser til sin enhedsdriver, men enheder har også lov at sende generiske meddelelser hvis det er nødvendigt. </para>
</listitem>
</itemizedlist>
<screenshot>
<screeninfo
>INDI kontrolpanel</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="indicontrolpanel.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
</orderedlist>

<para
>Du er ikke begrænset til at bruge en grænseflade af gangen, de kan bruges samtidigt. Handlinger fra <guilabel
>stjernekortet</guilabel
> bliver automatisk overført til <guilabel
>INDI-kontrolpanelet</guilabel
> og omvendt.</para>

<para
>For at tilslutte dit teleskop kan du enten trykke på <guimenuitem
>Forbind</guimenuitem
> på din enhedspopop-menu eller alternativt kan du trykke på <guibutton
>Forbind</guibutton
> på enhedsfanebladet i <guilabel
>INDI-kontrolpanelet</guilabel
>.</para>

<important
><para
>Som standard prøver KStars at forbinde til porten <constant
>/dev/ttyS0</constant
>. For at ændre forbindelsesporten kan du vælge <guilabel
>INDI-kontrolpanel</guilabel
> fra menuen <guimenu
>Enheder</guimenu
> og ændre porten på enhedens faneblad.</para
></important>

<para
>&kstars; opdaterer automatisk teleskopets længdegrad, breddegrad og tid ud fra de aktuelle indstillinger i &kstars;. Du kan slå disse opdateringer fra og til i menuen <guimenu
>Enheder</guimenu
> under <guimenuitem
>Konfigurér INDI</guimenuitem
>. </para>

<para
>Hvis &kstars; kommunikerer succesfuldt med teleskopet, vil &kstars; modtage den aktuelle <abbrev
>RA</abbrev
> og <abbrev
>Dekl</abbrev
> fra teleskopet og vil vise et trådkors på stjernekortet der indikerer teleskopets position.</para>

<note id="indi-sync">
<title
>Synkronisér dit teleskop</title>
<para
>Hvis du kalibrerede dit teleskop og den sidste stjerne du brugte under kalibreringen f.eks. var Vega, vil der være et trådkors der peger på Vega. Hvis trådkorset peger forbi målet kan du <mousebutton
>højre</mousebutton
>klikke på Vega på stjernekortet og vælge <command
>Synkronisér</command
> på teleskopmenuen. Denne handling vil få teleskopet til at synkronisere sine interne koordinater med Vegas. Teleskopets trådkors skulle nu pege korrekt på Vega. </para>
</note>

<para
>Færdig. Dit teleskop er klar til at udforske himlen!</para>

<warning>
<title
>ADVARSEL</title>
<para
>Brug aldrig et teleskop til at se direkte på solen. Hvis du kigger direkte på solen kan både dine øjne og dit teleskop blive ødelagt for altid.</para>
</warning>
</sect1>

<sect1 id="indi-other-setup">
<title
>Indstilling af CCD- og videoindfangning</title>
<indexterm
><primary
>CCD-videokontrol</primary>
<secondary
>Opsætning</secondary>
</indexterm>

<para
>Kstars understøtter følgende billedenheder:</para>
<itemizedlist>
  <listitem
><para
>Finger Lakes Instruments CCD'er</para
></listitem>
  <listitem
><para
>Apogee CCD:er: Parallel, ISA, PCI og USB-tilstande understøttes. Du skal installere <ulink url="http://indi.sf.net/apogee_kernel.tar.gz"
>Apogee-driver for kernen</ulink
> for din specifikke tilstand (for USB behøver du kun libusb).</para
></listitem>
  <listitem
><para
>Enheder som virker med <ulink url="http://www.exploits.org/v4l/"
>Video4Linux</ulink
>. De udvidede funktioner for Philips web-kameraer understøttes også.</para
></listitem>
</itemizedlist>

<para
>Du kan køre CCD- og videoenheder fra <guimenuitem
>Enhedshåndteringen</guimenuitem
> i menuen <guimenu
>Enheder</guimenu
>. Som alle INDI-enheder, er en der adgang til en vis styring af enheden fra himmelkortet. Enheden kan styres fuldstændigt fra <guimenuitem
>INDI-kontrolpanelet</guimenuitem
>.</para>

<para
>Standardformatet for at tage billeder er FITS. Når et billede er taget og hentet, vises det automatisk i Kstars <link linkend="tool-fitsviewer"
>FITS-visning</link
>. For at tage en følge af billeder, bruges værktøjet <guimenuitem
>Tag billedsekvens</guimenuitem
> i menuen <guimenu
>Enheder</guimenu
>. Værktøjet er inaktivt indtil du opretter en forbindelse til en billedenhed.</para>

<important>
<para
>FLICCD-driveren kræver systemadministratorrettigheder for at virke rigtigt. Bemærk at køre driveren som systemadministrator anses for at være en sikkerhedsrisiko.</para>
</important>
</sect1>

<sect1 id="indi-capture">
<title
>Tag en billedsekvens</title>
<indexterm
><primary
>Tag et  billede</primary>
<secondary
>Billede</secondary>
</indexterm>

<para
>Værktøjet til indfangning af billedsekvenser kan bruges til at tage billeder fra kameraer og CCD'er i interaktiv og batch-tilstand. Du kan yderligere vælge hvilket filter, om noget, du ønsker at bruge for dine billeder. Indfangningsværktøjet er deaktiveret indtil du etablerer en forbindelse  til en billedenhed.</para
> 

<screenshot>
<screeninfo
>Tag en billedsekvens</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="indicapture.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>

<para
>Skærmaftrykket ovenfor viser et eksempel på en session for at tage billeder. Værktøjet sørger for følgende tilvalg:</para>
<itemizedlist>
  <listitem
><para
>Kamera eller CCD</para>
     <itemizedlist>
         <listitem
><para
><option
>Enhed:</option
> Ønsket billedenhed.</para
></listitem>
         <listitem
><para
><option
>Præfiks:</option
> Billedpræfikset som tilføjes i begyndelsen af hvert taget billedes filnavn.</para
></listitem>
         <listitem
><para
><option
>Eksponeringstid:</option
> Antal sekunder at eksponere hvert billede.</para
></listitem>
         <listitem
><para
><option
>Antal:</option
> Antal billeder som skal tages.</para
></listitem>
         <listitem
><para
><option
>Forsinkelse:</option
> Forsinkelse i sekunder mellem  to billeder.</para
></listitem>
         <listitem
><para
><option
>Tilføj ISO-8601 tidsstempel</option
>: Tilføj ISO-8601 tidsstempel i filnavnet (f.eks. billede_01_20050427T09:48:05).</para
></listitem>
     </itemizedlist>
    </listitem>
   <listitem
><para
>Filter</para>
      <itemizedlist>
          <listitem
><para
><option
>Enhed:</option
> Ønsket filterenhed.</para
></listitem>
          <listitem
><para
><option
>Filter:</option
> Det ønskede filtersted. Du kan tildele farveværdier til stednummer med vinduet <link linkend="indi-configure"
>Indstil INDI</link
> (f.eks. sted nummer 1 = Rød, sted nummer 2 = Blå, osv.).</para
></listitem
>          
       </itemizedlist>
   </listitem>
</itemizedlist>

<para
>Efter du har udfyldt de ønskede tilvalg, kan du begynde proceduren med at tage billeder ved at trykke på knappen <guibutton
>Start</guibutton
>. Du kan afbryde når som helst ved at bruge knappen <guibutton
>Stop</guibutton
>. Alle tagne billeder gemmes i FITS standardmappe:, som kan angives i vinduet <link linkend="indi-configure"
>Indstil INDI</link
>.</para>

<para
>Hvis du har mere komplekse krav for at tage af billeder og betingelser at opfylde, anbefales det at du opretter et script for at opfylde dine specielle behov med værktøjet <link linkend="tool-scriptbuilder"
>scriptbyggeren</link
> i menuen <guimenu
>Værktøjer</guimenu
>.</para>
</sect1>

<sect1 id="indi-configure">
<title
>Indstil INDI</title>
<indexterm
><primary
>Indstil</primary>
<secondary
>INDI</secondary>
</indexterm>

<para
>Vinduet Indstil INDI lader dig ændre <emphasis
>klientsidens</emphasis
> INDI-specifikke tilvalg. Vinduet er opdelt i fire hovedkategorier: Generelt, Automatiske opdateringer af enhed, Skærm og Filterhjul:</para>

 <itemizedlist>
   <listitem
><para
>Generelt</para>
      <itemizedlist>
         <listitem
><para
><option
>FITS-standardmappe:</option
> Angiv mappen hvor alle FITS-billeder gemmes. Hvis ingen mappe er angivet, opbevares billeder i $HOME.</para
></listitem>
         <listitem
><para
><option
>Automatisk visning af FITS ved opbevaring</option
>: Hvis markeret, viser Kstars tagne FITS-billeder i Kstars værktøj <link linkend="tool-fitsviewer"
>FITS-visning</link
>. Hvis du bruger værktøjet <link linkend="indi-capture"
>Tag billedsekvens</link
>, gemmes alle tagne billeder på disken uanset indstillingen af dette tilvalg.</para
></listitem>
         <listitem
><para
><option
>Teleskopport:</option
> Standardteleskopport. Når du forbinder til en lokal eller fjernteleskoptjeneste, fylder Kstars automatisk  teleskopenhedens port ud med den angivne standardport.</para
></listitem>
         <listitem
><para
><option
>Videoport:</option
> Standardvideoport. Når du forbinder til en lokal eller fjernvideotjeneste, fylder Kstars automatisk web-kameraenhedensporten ud med den angivne standardport.</para
></listitem>
      </itemizedlist>
   </listitem>
   <listitem
><para
>Automatisk enhedsopdateringer</para>
    <itemizedlist>
       <listitem
><para
><option
>Tid:</option
> Opdatér teleskopets dato og tid, hvis det understøttes, ved forbindelse.</para
></listitem>
       <listitem
><para
><option
>Geografisk sted</option
>: Opdatér teleskopets information om geografisk sted (nuværende længdegrad og breddegrad), hvis det understøttes, ved forbindelse.</para
></listitem>
    </itemizedlist>
   </listitem>
   <listitem
><para
>Skærm</para>
    <itemizedlist>
     <listitem
><para
><option
>Trådkors for enhed</option
>: Hvis markeret, viser Kstars teleskopets trådkors på himmelkortet. Trådkorset vises efter forbindelsen til teleskopet er lykkedes, og dets sted opdateres periodisk. Teleskopets navn vises ved siden af trådkorset. Kstars viser et trådkors pr forbundet teleskop. For at ændre farve på teleskopets trådkors, åbnes vinduet <link linkend="viewops"
>Indstil Kstars</link
>. Vælg fanebladet <guilabel
>Farver</guilabel
>, og ændr derefter farve på <emphasis
>Målindikator</emphasis
> til den ønskede farve.</para
></listitem>
     <listitem
><para
><option
>INDI-meddelelser i statuslinjen</option
>: Hvis markeret, viser Kstars INID-statusmeddelelser i Kstars statuslinje.</para
></listitem>
    </itemizedlist>
   </listitem>
  <listitem
><para
>Filterhjul: Tilldel farvekoder til filterhjulets pladser (f.eks. plads nummer 0 rød, plads nummer 1 blå, etc.). Du kan tildele farvekoder for op til 10 filterpladser (0 til 9). Vælg et pladsnummer i dropned-feltet for at tildele en farvekode, og skriv tilsvarende farvekode i redigeringsfeltet. Gentag dette for alle ønskede pladser, og tryk derefter på O.k.</para>
  </listitem>
  </itemizedlist>

</sect1>

<sect1 id="indi-concepts">
<title
>INDI koncepter</title>
<indexterm
><primary
>Teleskopkontrol</primary>
<secondary
>Koncepter</secondary>
</indexterm>

<para
>Hovednøglebegrebet i INDI er at enheder har mulighed for at beskrive sig selv. Dette opnås ved at bruge XML til at beskrive et generelt hierarki som både kan repræsentere konventionelle og ikke-konventionelle enheder. I INDI kan alle <emphasis
>enheder</emphasis
> indeholde en eller flere <emphasis
>egenskaber</emphasis
>. Alle <emphasis
>egenskaber</emphasis
> kan indeholde et eller flere <emphasis
>elementer</emphasis
>. Der er fire typer INDI-egenskaber:</para>
<itemizedlist>
<listitem
><para
>Tekstegenskab.</para
></listitem>
<listitem
><para
>Nummeregenskab.</para
></listitem>
<listitem
><para
>Skifteegenskab (repræsenteres med knapper og afkrydsningsfelter i den grafiske grænseflade).</para
></listitem>
<listitem
><para
>Lysegenskab (repræsenteres af farvede lysdioder i den grafiske grænseflade)</para
></listitem>
</itemizedlist>

<para
>Alle INDI-enheder deler den standardiserede <emphasis
>skifteegenskab</emphasis
> CONNECTION. Egenskaben CONNECTION har to elementer CONNECT og DISCONNECT. Kstars tolker den generelle XML-beskrivelse af egenskaber og bygger en repræsentation i en grafisk grænseflade som er passende for direkte interaktion med brugeren.</para>

<para
>INDI-kontrolpanelet indeholder mange egenskaber for enheder man ikke kan nå fra stjernekortet. De tilgængelige egenskaber er forskellige fra enhed til enhed. Men alle egenskaber deler fælles muligheder der afgør hvordan de vises og bruges:</para>

<itemizedlist>
<listitem>
<para
>Tilladelse: Til alle egenskaber kan du enten have "kun læsetilladelse", "kun skrivetilladelse" eller "både læse- og skrivetilladelse". Teleskopets rektascension er et eksempel på en egenskab hvor du både har læse- og skrivetilladelse. Du kan angive en ny rektascension, baseret på de aktuelle indstillinger, og teleskopet vil enten dreje til eller synkronisere med det nye input. Ydermere sendes teleskopets opdaterede rektascension tilbage til klienten når det drejes.</para>
</listitem>
<listitem>
<para
>Tilstand: Foran hver egenskab er der en tilstandsindikator (rund LED). Hver egenskab har en tilstand og en tilhørende farvekode:</para>
<table frame="top"
><title
>INDI tilstandsfarvekodning</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>Tilstand</entry>
<entry
>Farve</entry>
<entry
>Beskrivelse</entry>
</row>
</thead>
<tbody>
<row>
<entry
>Ledig</entry>
<entry
>Grå</entry>
<entry
>Enheden udfører ingen handling der har med denne egenskab at gøre</entry>
</row>
<row>
<entry
>O.k.</entry>
<entry
>Grøn</entry>
<entry
>Den sidste handling der blev udført på denne egenskab var vellykket og er aktiv</entry>
</row>
<row>
<entry
>Optaget</entry>
<entry
>Gul</entry>
<entry
>Egenskaben udfører en handling</entry>
</row>
<row>
<entry
>Advarsel</entry>
<entry
>Rød</entry>
<entry
>Egenskaber er i vanskeligheder og der kræves øjeblikkelig opmærksomhed</entry>
	</row>
	</tbody>
</tgroup>
</table>

<para
>Enhedsdriveren opdaterer egenskabens tilstandsvisning i realtid hvis det er nødvendigt. Hvis teleskopet f.eks. er i gang med at dreje til et nyt objekt bliver egenskaben RA/Dekl. vist som <guilabel
>Optaget</guilabel
>. Når drejningen er færdig og alt gik fint vil egenskaben skifte til <guilabel
>O.k.</guilabel
>.</para>
</listitem>
<listitem>
<para
>Sammenhæng: Egenskaber der er tal, kan modtage og behandle tallene i to forskellige formater: decimal og sexigismal. Formatet sexigismal er smart til tid eller koordinater i ækvatorsystemet eller det geografiske koordinatsystem. Du kan bruge det format du har lyst til. For eksempel er alle disse tal ens:</para>
<itemizedlist>
<listitem
><para
>-156,40</para
></listitem>
<listitem
><para
>-156:24:00</para
></listitem>
<listitem
><para
>-156:24</para
></listitem>
</itemizedlist>
</listitem>
<listitem>
<para
>Tid: Standardtiden for al INDI-relateret kommunikation er Universel Tid (UTC) angivet i formatet ÅÅÅÅ-MM-DDTTT:MM:SS som angivet i standarden ISO 8601. &kstars; sender automatisk den korrekte UTC til enhedsdriverne. Du kan slå automatisk opdatering af tiden fra/til i menupunktet <guimenuitem
>Indstil INDI</guimenuitem
> i menuen <guimenu
>Enheder</guimenu
>. </para>
</listitem>
</itemizedlist>
</sect1>

<sect1 id="indi-remote-control">
<title
>Kontrollér fjerne enheder</title>
<indexterm
><primary
>Teleskopkontrol</primary>
<secondary
>Fjerne enheder</secondary>
</indexterm>

<para
>KStars indeholder et simpelt men kraftfuldt lag til fjernkontrol af enheder. En detaljeret beskrivelse af laget findes i "The INDI <ulink url="http://www.clearskyinstitute.com/INDI/INDI.pdf"
>white paper</ulink
>".</para>

<para
>Du skal konfigurere både server- og klientmaskinen for at kunne fjernstyre:</para>

<orderedlist>
<listitem>
<para
>Server: For at forberede en enhed til fjernkontrol skal du gennemgå de samme trin som beskrevet under opsætningen af <link linkend="indi-kstars-setup"
>lokal/server</link
>. Når du starter en enhedsservice i <guimenu
>Enhedshåndteringen</guimenu
> vises et portnummer under søjlen <guilabel
>Lytteport</guilabel
>. Udover portnummeret har du også brug for værtsnavnet eller IP-adressen på din server. </para>

</listitem>
<listitem>
<para
>Klient: Vælg <guimenuitem
>Enhedshåndteringen</guimenuitem
> fra menuen <guimenu
>Enhed</guimenu
> og klik på fanebladet <guilabel
>Klient</guilabel
>. Du kan tilføje, ændre eller slette værter på fanebladet <guilabel
>Klient</guilabel
>. Tilføj en vært ved at trykke på knappen <guibutton
>Tilføj</guibutton
>. Skriv serverens værtsnavn/IP-adresse i feltet <guilabel
>Vært</guilabel
> og skriv det portnummer fra <emphasis
>server</emphasis
>maskinen i 1. trin. </para>
</listitem>
</orderedlist>

<screenshot>
<screeninfo
>INDI klient</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="indiclient.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>

<para
>Efter at du har tilføjet en vært, højreklik på værten for at <guimenuitem
>Forbinde</guimenuitem
> eller <guimenuitem
>Afbryde</guimenuitem
> forbindelsen. Hvis der er etableret forbindelse kan du kontrollere teleskopet fra <guilabel
>Stjernekortet</guilabel
> eller <guilabel
>INDI-kontrolpanelet</guilabel
> præcist som beskrevet under <link linkend="indi-kstars-setup"
>lokal/server</link
>. Så let er det. </para>

<sect2 id="indi-commandline">
<title
>Kør en INDI-server fra kommandolinjen</title>
<para
>&kstars; gør det nemt at starte en INDI-server, men du kan også starte en INDI-server fra kommandolinjen. </para>

<para
>Da INDI er en uafhængig "underliggende"-komponent, kan du køre en INDI-server på en maskine uden KStars. INDI kan kompileres selvstændigt så den kan køre på en fjern maskine. Ydermere skriver enhedsdriverne log-meddelelser til <constant
>stderr</constant
>, og det kan være en stor hjælp ved fejlretning. INDI-serverens syntaks er følgende:</para>

<para
>$ <command
>indiserver</command
> [tilvalg] [<filename
>driver</filename
> ...]</para>

<para
>Tilvalg:</para>
<para
>-p p : alternativ IP port, standard 7624</para>
<para
>-r n : maks genstartsforsøg, standard 2</para>
<para
>-v : flere informationer skrives til stderr</para>

<para
>Hvis du f.eks. ønsker at starte en INDI-server der skal køre en LX200 GPS driver og lytte efter forbindelser på port 8000, kan du bruge følgende kommando:</para>

<para
>$ <command
>indiserver</command
> -p 8000 <filename
>lx200gps</filename
></para>
</sect2>

<sect2 id="indi-secure-remote">
<title
>Sikker fjernbetjening</title>

<para
>Hvis nu for eksempel vi ville køre en indiserver og dens klienter på en maskine der står et andet sted, <constant
>fjern_maskine</constant
>, og forbinde dem til &kstars; på din lokale maskine.</para>

<para
>Log ind på den fjerne maskine, <constant
>fjern_maskine</constant
>, ved at skrive:</para>

<para
>$ <command
>ssh</command
> -L <varname
>lokal_port</varname
>:<constant
>fjern_vært</constant
>:<varname
>fjern_port</varname
></para>

<para
>Det binder <varname
>lokal_port</varname
> på den lokale maskine til <varname
>fjern_port</varname
> på <constant
>fjern_vært</constant
>. Efter at du har logget ind startes indiserver på fjernmaskinen:</para>

<para
>$ <command
>indiserver</command
> -p <varname
>fjern_port</varname
> [<filename
>driver</filename
>...]</para>

<para
>Tilbage på den lokale maskine starter du &kstars;, åbner <guimenuitem
>Enhedshåndteringen</guimenuitem
> og tilføjer værten på fanebladet <guilabel
>Klient</guilabel
>. Værten skal være local_host (som regel med IP-adressen 127.0.0.1) og portnummeret skal være den <varname
>lokal_port</varname
> vi har brugt på de foregående trin. <mousebutton
>Højre</mousebutton
>-klik på værten og vælg <guimenuitem
>Forbind</guimenuitem
> fra popop-menuen. &kstars; vil nu etablere en sikker forbindelse til INDI-serveren. Værtsinformationerne vil blive gemt til fremtidige sessioner.</para>
</sect2>
</sect1>

<sect1 id="indi-faq">
<title
>INDI Ofte Stillede Spørgsmål</title>
<indexterm
><primary
>Teleskopkontrol</primary>
<secondary
><acronym
>OSS (FAQ)</acronym
></secondary>
</indexterm>

<qandaset defaultlabel="qanda">
<qandaentry>
<question id="what-is-indi">
<para
>Hvad er INDI?</para>
</question>
<answer>
<para
><acronym
>INDI</acronym
>er <ulink url="http://indi.sourceforge.net"
> Instrument-Neutral-Distributed-Interface</ulink
>'s kontrolprotokol udviklet af <author
><firstname
>Elwood</firstname
><surname
>C. Downey</surname
></author
> fra <ulink url="http://www.clearskyinstitute.com/"
>ClearSky Institute</ulink
>. &kstars; indeholder enhedsdrivere der er kompatible med INDI-protokollen. INDI har mange stærke sider inklusive løs kobling mellem hardware enheder og software-drivere. Klienter der bruger enhedsdriverne (f.eks. &kstars;) er helt uafhængig af selve enhedens muligheder. Under brug kommunikerer &kstars; kun med enhedsdriveren og opbygger en helt dynamisk GUI baseret på de servicer enheden tilbyder. Derfor kan nye drivere tilføjes eller opdateres og KStars kan få fuldt udbytte af dem uden ændringer på klientsiden.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Har I planer om at understøtte flere enheder? </para>
</question>
<answer>
<para
>Ja. Vi har planer om at understøtte udbredte CCD-kameraer, fokuseringsenheder og flere teleskoper. Hvis du vil have INDI til at understøtte en bestemt enhed, så skriv til <email
>indi-devel@lists.sourceforge.net</email
> </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Hvilke handlinger sørger Kstars for til at styre teleskopet? </para>
</question>
<answer>
<para
>Det afhænger af hvilket særligt teleskop du bruger, men de minimale tre handlinger er <command
>Panorér</command
>, <command
>Spor</command
> og <command
>Synkronisér</command
>, som du direkte kan udføre fra himmelkortet. Teleskopet skal være justeret for at handlingerne skal udføres rigtigt. Visse teleskoper tilbyder flere handlinger såsom stedhåndtering, panoreringstilstand, fokusering, parkering, med mere. Du kan få adgang til teleskopets udvidede funktioner fra INDI-indstillingsfelt i menuen Enheder. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Hvad er nøjagtigt forskellen mellem <command
>Panorering</command
>, <command
>Følgning</command
> og <command
>Synkronisering</command
>? </para>
</question>
<answer>
<para
>Kommandoen <command
>Panorér</command
> beordrer teleskopet at gå til et bestemt mål, og når teleskopet når målet, fortsætter teleskopet med at følge målet med en <emphasis
>siderisk</emphasis
> hastighed (dvs. den hastighed som stjernerne bevæger sig over himlen). Dette virker godt for stjerner, Messier-objekter og næsten alt udenfor solsystemet. Men objekter i solsystemet bevæger sig på anden måde over himlen, så teleskopet skal <command
>Spore</command
> objekterne når de bevæger sig. </para>
<para
>Derfor skal du give sporkommandoen hvis du vil følge et objekt som ikke har siderisk bevægelse. På den anden siden bruges <command
>Synkronisér</command
> til at synkronisere teleskopets interne koordinater med dem som et objekt du vælger har. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Kan jeg styre mit teleskop fra et andet sted? </para>
</question>
<answer>
<para
>Ja. Du kan starte en INDI-server på maskinen forbundet til teleskopet så lytter serveren på forespørgsler fra &kstars;-klienter. Når du er forbundet, kan du kontrollere teleskopet direkte fra himmelkortet. Proceduren beskrives i detalje i afsnittet <link linkend="indi-remote-control"
>Fjernstyring af instrument</link
>. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Når jeg prøver at <guibutton
>Forbinde</guibutton
> Siger &kstars; at teleskopet ikke er tilsluttet til seriel/USB-porten. Hvad kan jeg gøre? </para>
</question>
<answer>
<para
>Denne meddelelse kommer når &kstars; ikke kan kommunikere med teleskopet. Her er nogle få ting du kan gøre:</para>

   <orderedlist>
   <listitem>
<para
>Kontrollér at du både har læse- og skriverettighed for porten du forsøger at forbinde til.</para>
   </listitem>
   <listitem>
<para
>Tjek forbindelseskablet. Sørg for at det er i god stand og test det med andre programmer.</para>
   </listitem>
   <listitem>
<para
>Tjek at teleskopet får strøm. Kontrollér at kontakten er tændt og at der er strøm nok.</para>
   </listitem>
   <listitem>
<para
>Angiv den korrekte port i <guilabel
>INDI-kontrolpanelet</guilabel
> i menuen <guimenu
>Enheder</guimenu
>. Standardenheden er <constant
>/dev/ttyS0</constant
></para>
   </listitem>
   <listitem>
   <para
>Genstart &kstars; og prøv igen.</para>
   </listitem>
   </orderedlist>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>&kstars; skriver at teleskopet er online og klar, men jeg kan ikke finde teleskopets trådkors. Hvor er det?</para>
</question>
<answer>
<para
>&kstars; modtager teleskopets RA og Dekl. koordinater ved forbindelse. Hvis kalibreringen af teleskopet er korrekt, skulle du se trådkorset omkring det mål på stjernekortet. Men de RA og Dekl. koordinater teleskopet sender er måske ikke korrekte (måske ovenikøbet under horisonten) så du må <link linkend="indi-sync"
>synkronisere</link
> dit teleskop med dit nuværende mål. Du kan bruge højreklik-menuen til at centrere og spore teleskopets hårkryds på himmelkortet.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Teleskopet bevæger sig uregelmæssigt eller det bevæger sig slet ikke. Hvad kan jeg gøre?</para>
</question>
<answer>
<para
>Denne opførsel skyldes som regel forkerte indstillinger, prøv at gennemgå denne tjekliste:</para>
<orderedlist>
<listitem>
<para
>Er teleskopet kalibreret?</para>
</listitem>
<listitem>
<para
>Er teleskopets kalibreringstilstand korrekt? Brug <guilabel
>INDI kontrolpanel</guilabel
> til at undersøge og ændre opsætningen (<constant
>Alt/Az,Polar, Land</constant
>).</para>
</listitem>
<listitem>
<para
>Er teleskopets opsætning af tid og dato korrekt?</para>
</listitem>
<listitem>
<para
>Er teleskopets opsætning af længde- og breddegrad korrekt?</para>
</listitem>
<listitem>
<para
>Er teleskopets opsætning af UTC-afvigelse korrekt?</para>
</listitem>
<listitem>
<para
>Er teleskopets RA og Dekl. akser spændt ordentligt?</para>
</listitem>
<listitem>
<para
>Er teleskopets N/S omskifter (hvis den findes) sat korrekt til den jordhalvkugle du befinder dig på?</para>
</listitem>
<listitem>
<para
>Er kablet mellem teleskopet og computeren i god stand?</para>
</listitem>
</orderedlist>

<para
>Hvis du er sikker på at alle indstillinger er korrekte, men teleskopet stadig bevæger sig uregelmæssigt eller slet ikke, så send en rapport til <email
>kstars-devel@kde.org</email
></para>
</answer>
</qandaentry>
</qandaset>
</sect1>
</chapter>

