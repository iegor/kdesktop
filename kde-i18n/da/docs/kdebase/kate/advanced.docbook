<chapter id="advanced-editing-tools">
<chapterinfo>
<authorgroup>
<author
>&Anders.Lund; &Anders.Lund.mail;</author>
<author
>&Dominik.Haumann; &Dominik.Haumann.mail;</author>
&erik.kjaer.pedersen.role; 
</authorgroup>
</chapterinfo>
<title
>Avancerede redigeringsværktøjer</title>

<sect1 id="advanced-editing-tools-comment">

<title
>Kommentér/afkommentér</title>

<para
>Kommentér og afkommentér-kommandoerne, der er tilgængelige fra <guimenu
>Værktøjs</guimenu
>menuen tillader dig at tilføje eller fjerne kommentarmarkeringer til det udvalgte, eller den aktuelle linje hvis ingen tekst er markeret, hvis kommentarer er understøttet af det tekstformat du redigerer.</para>

<para
>Reglerne for hvordan kommentering gøres er defineret i syntaksdefinitionerne, så hvis syntaksfremhævning ikke bruges, vil kommentering/afkommentering ikke være mulig. </para>

<para
>Nogle formater definerer enkeltlinje kommenteringsmarkeringer, nogle multilinjemarkeringer og nogle begge. Hvis multilinjemarkeringer ikke er tilgængelige, vil kommentering af en markering der ikke fuldt indeholder dens sidste linje ikke være mulig.</para>

<para
>Hvis enkeltlinjemarkeringer er tilgængelige, er kommentering af enkelte linjer foretrukket hvor det kan anvendes, da det hjælper med at undgå problemer med kommentarer der ligger inden i hinanden.</para>

<para
>Når kommentarmarkeringer fjernes, bør ingen ukommenteret tekst være valgt. Når multilinje kommentarmarkeringer fjernes fra et udvalg, bliver alt hvidt udenfor kommentarmarkeringerne ignoreret.</para>

<para
><indexterm
><primary
>kommentér</primary
></indexterm
> For at placere kommentarmarkeringer bruges <menuchoice
><guimenu
>Værktøj</guimenu
><guimenuitem
>Kommentér</guimenuitem
></menuchoice
>-menupunktet elle den tilsvarende tastaturgenvej, der som standard er <keycombo action="simul"
>&Ctrl;<keycap
>D</keycap
></keycombo
>.</para>

<para
><indexterm
><primary
>afkommentér</primary
></indexterm
> For at fjerne kommentarmarkeringer bruges <menuchoice
><guimenu
>Værktøjer</guimenu
><guimenuitem
>Afkommentér</guimenuitem
></menuchoice
>-menupunktet eller den tilsvarende tastaturgenvej, der som standard er <keycombo action="simul"
>&Ctrl;&Shift;<keycap
>D</keycap
></keycombo
>.</para>

</sect1>

<sect1 id="advanced-editing-tools-commandline">
<title
>Editorkomponentens kommandolinje</title>

<para
>Kate's editorkomponent har en intern kommandolinje, som lader dig udføre visse handlinger fra en minimal grafisk grænseflade. Kommandolinjen er et tekstindtastningsfelt længst nede i redigeringsområdet. For at vise det, vælges <menuchoice
><guimenu
>Vis</guimenu
> <guimenuitem
>Skift til kommandolinje</guimenuitem
></menuchoice
> eller genvejstasten (normalt <keycombo action="simul"
><keycap
>F7</keycap
></keycombo
>) bruges. Editoren sørger for et sæt kommandoer som er dokumenterede nedenfor, og yderligere kommandoer kan varetages af plugin.</para>

<para
>For at udføre en kommando, skrives kommandoen og så trykkes på returtasten. Kommandolinjen angiver om kommandoen lykkedes og viser måske en meddelelse. Hvis du kom til kommandolinjen ved at trykke på <keycap
>F7</keycap
> skjules den automatisk efter nogle sekunder. For at rydde meddelelsen og indtaste en ny kommando, trykkes på <keycap
>F7</keycap
> igen.</para>

<para
>Kommandolinjen har et indbygget hjælpesystem, udsted kommandoen <command
>help</command
> for at komme i gang. For at se en liste med alle tilgængelige kommandoer, skrives <command
>help list</command
>. For at vise hjælp om en bestemt kommando, skrives <command
>help <replaceable
>kommando</replaceable
></command
>.</para>

<para
>Kommandolinjen har en indbygget historik, så du kan genbruge kommandoer som allerede er skrevet ind. For at navigere i historikken, bruges tasterne <keycap
>Pil opad</keycap
> og <keycap
>Pil nedad</keycap
>. Når historikkommandoer vises er kommandoernes argument markerede, hvilket lader dig nemt overskrive argumenterne.</para>

<sect2 id="advanced-editing-tools-commandline-commands">
<title
>Standardkommandoer på kommandolinjen</title>

<sect3 id="advanced-editing-tools-commandline-commands-configure">
<title
>Kommandoer til at indstille editoren</title>

<para
>Disse kommandoer sørges for af editorkomponenten og lader dig kun indstille det aktive dokument og visningen. Dette er praktisk hvis du vil bruge en indstilling som adskiller sig fra standardindstillingen, for eksempel for indrykning. </para>

<variablelist>
<title
>Argumenttyper</title>

<varlistentry>
<term
>BOOLESK</term>
<listitem
><para
>Denne bruges med kommandoer som slår noget til eller fra. Mulige værdier er <userinput
>on</userinput
> (til), <userinput
>off</userinput
> (fra), <userinput
>true</userinput
> (sand), <userinput
>false</userinput
> (falsk), <userinput
>1</userinput
> eller <userinput
>0</userinput
>.</para
></listitem>
</varlistentry>

<varlistentry>
<term
>HELTAL</term>
<listitem
><para
>Et heltal</para
></listitem>
</varlistentry>

<varlistentry>
<term
>STRENG</term>
<listitem
><para
>En streng</para
></listitem>
</varlistentry>

</variablelist>

<variablelist>

<varlistentry>
<term
><cmdsynopsis
><command
>set-tab-width</command
><arg
>HELTAL bredde</arg
></cmdsynopsis
></term>
<listitem
><para
>Indstiller tabulatorbredden til tallet <userinput
>bredde</userinput
></para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-width</command
><arg
>HELTAL bredde</arg
></cmdsynopsis
></term>
<listitem
><para
>Indstiller indrykningsbredden til tallet <userinput
>bredde</userinput
>. Bruges kun hvis du indrykker med mellemrum.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-word-wrap-column</command
><arg
>HELTAL bredde</arg
></cmdsynopsis
></term>
<listitem
><para
>Indstiller linjebredden for hårdt linjebrud til <userinput
>bredde</userinput
>. Dette bruges hvis du bruger automatisk linjebrud for din tekst.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-icon-border</command
><arg
>BOOLESK</arg
> </cmdsynopsis
></term>
<listitem
><para
>Indstiller synligheden af ikonkanten.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-folding-markers</command
><arg
>BOOLESK aktivér</arg
></cmdsynopsis
></term>
<listitem
><para
>Indstiller synligheden af foldningsmarkørruden.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-line-numbers</command
><arg
>BOOLESK aktivér</arg
></cmdsynopsis
></term>
<listitem
><para
>Indstiller synligheden af linjenummerruden.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-replace-tabs</command
><arg
>BOOLESK aktivér</arg
></cmdsynopsis
></term>
<listitem
><para
>Hvis aktiveret, erstattes tabulatortegn med mellemrum mens du skriver. </para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-remove-trailing-space</command
><arg
>BOOLESK aktivér</arg
></cmdsynopsis
></term>
<listitem
><para
>Hvis aktiveret, fjernes afsluttende blanke tegn  så snart markøren forlader en linje.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-show-tabs</command
><arg
>BOOLESK aktivér</arg
></cmdsynopsis
></term>
<listitem
><para
>Hvis aktiveret, synliggøres tabulatortegn og afsluttende blanke tegn med en lille prik.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-spaces</command
><arg
>BOOLESK aktivér</arg
></cmdsynopsis
></term>
<listitem
><para
>Hvis aktiveret, indrykker editoren med <option
>indrykningsbredde</option
> mellemrum for hvert indrykningsniveau, i stedet for et tabulatortegn.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-mixed-indent</command
><arg
>BOOLESK aktivér</arg
></cmdsynopsis
></term>
<listitem
><para
>Hvis aktiveret, bruger  Kate en blanding af tabulatortegn og mellemrum for indrykning. Hvert indrykningsniveau har bredden <option
>indrykningsbredde</option
>, og flere indrykningsniveauer optimeres så at så mange tabulatortegn som muligt bruges.</para>
<para
>Når det udføres aktiverer kommandoen desuden indrykning med mellemrum, og hvis indrykningsbredden ikke angives indstilles den til halvdelen <option
>tabulatorbredden</option
> for dokumentet.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-word-wrap</command
><arg
>BOOLESK aktivér</arg
></cmdsynopsis
></term>
<listitem
><para
>Aktiverer dynamisk linjebrud ifølge <userinput
>aktivér</userinput
></para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-replace-tabs-save</command
><arg
>BOOLESK aktivér </arg
></cmdsynopsis
></term>
<listitem
><para
>Hvis aktiveret, erstattes tabulatortegn med blanke tegn så snart dokumentet gemmes.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-remove-trailing-space-save</command
><arg
>BOOLESK aktivér</arg
></cmdsynopsis
></term>
<listitem
><para
>Hvis aktiveret, fjernes afsluttende mellemrum fra alle linjer så snart dokumentet gemmes.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-mode</command
><arg
>navn</arg
></cmdsynopsis
></term>
<listitem
><para
>Indstiller automatisk indrykningstilstand til <userinput
>navn</userinput
>. Hvis <userinput
>navn</userinput
> ikke genkendes, indstilles tilstanden til 'none'. Gyldige tilstande er 'cstyle', 'csands', 'xml', 'python', 'varindent' og 'none'.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-highlight</command
><arg
>fremhævning</arg
></cmdsynopsis
></term>
<listitem
><para
>Indstiller dokumentets syntaksfremhævningssystem. Argumentet skal være et gyldigt fremhævningsnavn, som vises i menuen <menuchoice
><guimenu
>Værktøjer</guimenu
> <guisubmenu
>Fremhævning</guisubmenu
></menuchoice
>. Kommandoen sørger for en liste for automatisk komplettering af argumentet.</para
></listitem>
</varlistentry>

</variablelist>

</sect3>

<sect3 id="advanced-editing-tools-commandline-commands-edit">
<title
>Kommandoer for redigering</title>

<para
>Disse kommandoer ændrer nuværende dokument.</para>

<variablelist>
<varlistentry>
<term
><cmdsynopsis
><command
>indent</command
></cmdsynopsis
></term>
<listitem
><para
>Indrykker de markerede linjer eller den nuværende linje.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>unindent</command
></cmdsynopsis
></term>
<listitem
><para
>Afindrykker markerede linjer eller nuværende linje.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>cleanindent</command
></cmdsynopsis
></term>
<listitem
><para
>Rydder indrykningen for markerede linjer eller nuværende linje ifølge dokumentets indrykningsindstillinger. </para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>comment</command
></cmdsynopsis
></term>
<listitem
><para
>Indsætter kommentarmarkeringer for at give markeringen, markerede linjer eller nuværende linje en kommentar ifølge tekstformatet som defineres af dokumentets syntaksfremhævningsdefinition.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>uncomment</command
></cmdsynopsis
></term>
<listitem
><para
>Fjerner kommentarmarkeringer fra markeringen, markerede linjer eller nuværende linje ifølge tekstformatet som defineres af dokumentets syntaksfremhævningsdefinition.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>kill-line</command
></cmdsynopsis
></term>
<listitem
><para
>Sletter den nuværende linje.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>replace</command
><arg
>mønster</arg
><arg
>erstatning</arg
></cmdsynopsis
></term>
<listitem
><para
>Erstatter tekst som matcher <userinput
>mønster</userinput
> med <userinput
>erstatning</userinput
>. Hvis du ønsker at <userinput
>mønster</userinput
> skal indeholde blanke tegn, skal både <userinput
>mønster</userinput
> og <userinput
>erstatning</userinput
> placeres indenfor enkelte eller dobbelte citationstegn. Hvis argumenterne ikke er citerede, bruges det første ord som <userinput
>mønster</userinput
> og resten som <userinput
>erstatning</userinput
>. Hvis <userinput
>erstatning</userinput
> er tom, fjernes hver forekomst af <userinput
>mønster</userinput
>.</para>
<para
>Du kan indstille kommandoen ved at tilføje et kolon fulgt af et eller flere bogstaver som hvert repræsenterer en indstilling, ved at angive <userinput
>replace:tilvalg mønster erstatning</userinput
>. Tilgængelige tilvalg er: <variablelist>

<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Søg baglæns.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Søg fra markørens position.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>e</userinput
></term>
<listitem
><para
>Søg kun i markeringen.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Udfør en søgning med et regulært udtryk. Hvis det angives, kan du bruge <userinput
>\N</userinput
>, hvor N er et tal, til at repræsentere fundet tekst i erstatningsstrengen.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Udfør versalfølsom søgning.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>p</userinput
></term>
<listitem
><para
>Spørg efter tilladelse til at erstatte næste forekomst.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>w</userinput
></term>
<listitem
><para
>Match kun hele ord.</para
></listitem>
</varlistentry>

</variablelist>

</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>date</command
><arg
>format</arg
></cmdsynopsis
></term>
<listitem
><para
>Indsætter en dato- og tidsstreng som defineres af angivet <userinput
>format</userinput
>, eller formatet <quote
>yyyy-MM-dd hh:mm:ss</quote
> hvis intet angives. Følgende oversættelser udføres når <userinput
>format</userinput
> tolkes: <informaltable
> <tgroup cols="2"
> <tbody>
<row
><entry
><literal
>d</literal
></entry
><entry
>Dagen som et tal uden indledende nul (1-31).</entry
></row>
<row
><entry
><literal
>dd</literal
></entry
><entry
>Dagen som et tal med indledende nul (01-31).</entry
></row>
<row
><entry
><literal
>ddd</literal
></entry
><entry
>Dagens forkortede lokale navn (f.eks. 'man', 'søn').</entry
></row>
<row
><entry
><literal
>dddd</literal
></entry
><entry
>Dagens lange lokale navn (f.eks. 'mandag', 'søndag').</entry
></row>
<row
><entry
><literal
>M</literal
></entry
><entry
>Måneden som et tal uden indledende nul (1-12).</entry
></row>
<row
><entry
><literal
>MM</literal
></entry
><entry
>Måneden som et tal med indledende nul (01-12).</entry
></row>
<row
><entry
><literal
>MMM</literal
></entry
><entry
>Månedens forkortede lokale navn (f.eks. 'jan', 'dec').</entry
></row>
<row
><entry
><literal
>yy</literal
></entry
><entry
>Året som et tal med to cifre (00-99)</entry
></row>
<row
><entry
><literal
>yyyy</literal
></entry
><entry
>Året som et tal med fire cifre (1752-8000)</entry
></row>
<row
><entry
><literal
>h</literal
></entry
><entry
>Timen uden indledende nul (0-23 eller 1-12 hvis AM/PM vises).</entry
></row>
<row
><entry
><literal
>hh</literal
></entry
><entry
>Timen med indledende nul (00-23 eller 01-12 hvis AM/PM vises).</entry
></row>
<row
><entry
><literal
>m</literal
></entry
><entry
>Minut uden indledende nul (0-59).</entry
></row>
<row
><entry
><literal
>mm</literal
></entry
><entry
>Minut med indledende nul (00-59).</entry
></row>
<row
><entry
><literal
>s</literal
></entry
><entry
>Sekund uden indledende nul (0-59).</entry
></row>
<row
><entry
><literal
>ss</literal
></entry
><entry
>Sekund med indledende nul (00-59).</entry
></row>
<row
><entry
><literal
>z</literal
></entry
><entry
>Millisekunder uden indledende nul (0-999).</entry
></row>
<row
><entry
><literal
>zzz</literal
></entry
><entry
>Millisekunder med indledende nul (000-999).</entry
></row>
<row
><entry
><literal
>AP</literal
></entry
><entry
>Brug AM/PM visning. AP erstattes enten af "AM" eller "PM".</entry
></row>
<row
><entry
><literal
>ap</literal
></entry
><entry
>Brug am/pm visning. ap erstattes enten af "am" eller "pm".</entry
></row>

</tbody>
</tgroup>
</informaltable>

</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>char</command
><arg
>identifier</arg
></cmdsynopsis
></term>
<listitem>
<para
>Denne kommando tillader dig at indsætte tegn efter deres numeriske identifikator, i decimal, oktal eller hexadecimal form. For at bruge den starter du Redigeringskommando-dialogen og skriver <userinput
>char: [number]</userinput
> i indgangsfelterne, og trykker så på <guibutton
>O.k.</guibutton
>.</para>

<example>
<title
><command
>tegn</command
>-eksempler</title>

<para
>Inddata: <userinput
>char:234</userinput
></para>
<para
>Udskrift: <computeroutput
>&#234;</computeroutput
></para>
<para
>Inddata: <userinput
>char:0x1234</userinput
></para>
<para
>Udskrift: <computeroutput
>&#x1234;</computeroutput
></para>
</example>

</listitem>
</varlistentry>

<varlistentry>
<term>
<indexterm
><primary
>erstat, sed-stil</primary>
<secondary
>søg, sed-stil</secondary
></indexterm>
<command
>s///[ig]</command
> <command
>%s///[ig]</command
></term>

<listitem>
<para
>Denne kommando udfører en sed-lignende søg/erstat-operation på den aktuelle linje, eller på hele filen (<command
>%s///</command
>).</para>

<para
>Kort fortalt gennemsøges teksten for tekst der matcher <emphasis
>søge-mønstret</emphasis
>, det regulære udtryk mellem den første og anden skråstreg, og når en match findes, så erstattes den matchende del af teksten med det udtryk der er mellem den midterste og sidste del af strengen. Parenteser i søgemønstret laver <emphasis
>tilbage-referencer</emphasis
>,hvilket betyder at kommandoen huskler hvilken den af matchen der matchede i parenteser; disse strengs kan genbruges i erstatningsmønstret, refereret til som <userinput
>\1</userinput
> for det første sæt parenteser, <userinput
>\2</userinput
> for det andet og så videre.</para>

<para
>For at søge efter en rigtig ( <literal
>(</literal
> eller <literal
>)</literal
>, må du <emphasis
>escape</emphasis
> den ved brug af et tegnet: <userinput
>\(\)</userinput
></para>

<para
>Hvis du tilføjer <userinput
>i</userinput
> til sidst i udtrykket, bliver matchningen versalufølsom. Hvis du tilføjer <userinput
>g</userinput
> til sidst, erstattes alle forekomster af mønstret, ellers erstattes kun den første forekomst.</para>

<example>

<title
>Erstatning af tekst i den aktuelle linje</title>

<para
>Din meget venlige compiler stoppede netop, og fortale dig at klassen <classname
>minKlasse</classname
> nævnt i linje 3902 i din kildefil ikke er defineret.</para>

<para
>&quot;Pokkers!&quot; tænker du, det er selvfølgelig <classname
>MinKlasse</classname
>. Du går til linje 3902, og i stedet for at prøve at finde ordet i teksten, starter du Redigeringskommando-dialogen, indtaster <userinput
>s/minKlasse/MinKlasse/i</userinput
>, trykker på <guibutton
>O.k.</guibutton
>-knappen, gemmer filen og kompilerer &ndash; med held, uden fejl.</para>

</example>

<example>
<title
>Erstatning af tekst i hele filen</title>

<para
>Forestil dig at du har en fil, i hvilken du nævner en <quote
>Frøken Pedersen</quote
> adskillige gange, og så kommer der nogen ind og fortæller dig at hun lige er blevet gift med <quote
>Hr Krogh</quote
>. Du vil nu selvfølgelig erstatte hver forekomst af <quote
>Frøken Pedersen</quote
> med <quote
>Fru Krogh</quote
>.</para>

<para
>Start kommandolinjen, og skriv kommandoen: <userinput
>%s/Frøken Jensen/Fru Jensen/</userinput
>, tryk på returtasten og du er færdig.</para>

</example>

<example>
<title
>Et mere avanceret eksempel</title>

<para
>Dette eksempel gør brug af <emphasis
>tilbagereferencer</emphasis
> såvelsom <emphasis
>tegnklasse</emphasis
> (hvis du ikke ved hvad det er, så referér til den relaterede dokumentation nævnt nedenfor).</para>

<para
>Antag du har følgende linje: <programlisting
>void MyClass::DoStringOps( String      &amp;foo, String &amp;bar String *p, int  &amp;a, int &amp;b )</programlisting>
</para>
<para
>Du bliver nu klar over at det ikke er pæn kodning, og beslutter dig for at du ønsker at bruge <constant
>const</constant
> nøgleordet for alle <quote
>adresser på</quote
> argumenter, dem der er karakteriseret ved &amp;-operatoren foran argumentnavnet. Du vil også gerne forenkle mellemrum, så der kun er 1 mellemrumstegn mellem hvert ord.</para>

<para
>Start Redigeringskommando-dialogen og indtast: <userinput
>s/\s+(\w+)\s+(&amp;)/ const \1 \2/g</userinput
> og tryk på <guibutton
>O.k.</guibutton
>-knappen. <userinput
>g</userinput
>'et i slutningen af udtrykket får det regulære udtryk til at omkompilere for hver match og gemme til <emphasis
>backreferences</emphasis
>.</para>

<para
>Uddata: <computeroutput
>void MyClass::DoStringOps( const String &amp;foo, const String &amp;bar String *p, const int &amp;a, const int &amp;b )</computeroutput
></para>

<para
>Operationen overstået! Hvad skete der egentlig? Vi kiggede efter mellemrum (<literal
>\s+</literal
>) fulgt af et eller flere alfabetiske tegn (<literal
>\w+</literal
>) fulgt af nogle flere mellemrum (<literal
>\s+</literal
>) fulgt af et ét-tegn, og under processen gemtes den alfabetiske stump og ét-tegnet til genbrug i erstatningsoperationen. Vi erstattede så den matchende del af vores linje med et enkelt mellemrum fulgt af <quote
>const</quote
> fulgt af et mellemrum fulgt af vores gemte alfabetiske stump (<literal
>\1</literal
>) fulgt af et mellemrum fulgt af vores gemte ét-tegn (<literal
>\2</literal
>)</para>

<para
>I visse tilfælde var vores alfabetiske stump <quote
>Streng</quote
>, i andre tilfælde <quote
>int</quote
>, så ved brug af karakterklassen <literal
>\w</literal
> og <literal
>+</literal
>-quantifier viste sig at være meget nyttig.</para>

</example>

</listitem>

</varlistentry>

</variablelist>

</sect3>

<sect3 id="advanced-editing-tools-commandline-commands-navigation">
<title
>Kommandoer for navigering</title>

<variablelist>

<varlistentry>
<term
><cmdsynopsis
><command
>goto</command
><arg
>HELTAL linje</arg
></cmdsynopsis
></term>
<listitem
><para
>Denne kommandoen går til den angivne linje.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>find</command
><arg
>mønster</arg
></cmdsynopsis
></term>
<listitem
><para
>Kommandoen går til første forekomst af <userinput
>mønster</userinput
> ifølge indstillingen. Følgende forekomster kan findes ved at bruge <menuchoice
><guimenu
>Redigér</guimenu
> <guimenuitem
>Søg igen</guimenuitem
></menuchoice
> (normal genvejstast er <keycap
>F3</keycap
>).</para>
<para
>Kommandoen kan indstilles ved at tilføje et kolon fulgt af et eller flere tilvalg. Formatet er <userinput
>find:tilvalg mønster</userinput
>. Følgende tilvalg understøttes: <variablelist>

<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Søg baglæns.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Søg fra markørens position.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>e</userinput
></term>
<listitem
><para
>Søg kun i markeringen.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Udfør en søgning med et regulært udtryk. Hvis det angives, kan du bruge <userinput
>\N</userinput
>, hvor N er et tal, til at repræsentere fundet tekst i erstatningsstrengen.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Udfør versalfølsom søgning.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>w</userinput
></term>
<listitem
><para
>Match kun hele ord.</para
></listitem>
</varlistentry>

</variablelist>

</para>

</listitem>

</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>ifind</command
><arg
>mønster</arg
></cmdsynopsis
></term>
<listitem
><para
>Kommandoen sørger for <quote
>søgning mens du skriver</quote
>. Du kan indstille opførslen eller søgningen ved at tilføje et kolon fulgt af et eller flere tilvalg, på denne måde: <userinput
>ifind:tilvalg mønster</userinput
>. Tilladte tilvalg er: <variablelist>
<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Søg baglæns.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Lav en søgning med et regulært udtryk.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Udfør versalfølsom søgning.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Søg fra markørens position.</para
></listitem>
</varlistentry>

</variablelist>
</para
></listitem>
</varlistentry>

</variablelist>

</sect3>

</sect2>

</sect1>

<sect1 id="advanced-editing-tools-code-folding">
<title
>Brug af kodefoldning</title>

<para
>Kodefoldning tillader dig at skjule dele af et dokument i editoren, hvilket gør det lettere at få overblik over store dokumenter. I &kate; udføres beregningen af områderne som kan foldes sammen ved at bruge reglerne som angives i definitionerne af syntaksfremhævning, og derfor er det kun tilgængeligt i visse formater, typisk i programkildekode, XML-markering og lignende. De fleste definitioner af syntaksfremhævning som understøtter kodefoldning lader dig også manuelt definere områderne som kan foldes sammen, typisk ved at bruge nøgleordene <userinput
>BEGIN</userinput
> og <userinput
>END</userinput
>.</para>

<para
>For at bruge kodefoldningsfunktionen, aktiveres foldemarkører ved at bruge menupunktet <menuchoice
><guimenu
>Vis</guimenu
> <guimenuitem
>Vis foldemarkører</guimenuitem
></menuchoice
> hvis de ikke allerede er synlige. Foldemarkørfeltet til venstre på skærmen viser en grafisk visning af områderne som kan foldes sammen, med tegnene +/- for at angive mulige handlinger for et givet område: tegnet - betyder at området er ekspanderet, og at klikke på - folder området sammen så tegnet + vises i stedet.</para>

<para
>Der sørges for fire kommandoer til at håndtere tilstanden af områderne som kan foldes sammen, se <link linkend="view-code-folding"
>menudokumentationen</link
>. </para>

<para
>Hvis du ikke vil bruge kodefoldningsfunktionen kan du deaktivere tilvalget <guilabel
>Vis foldemarkører (om tilgængelige)</guilabel
> på <link linkend="config-dialog-editor-appearance"
>siden Udseende i indstillingen af editoren</link
>.</para>

</sect1>

<sect1 id="advanced-editing-tools-scripting">

<title
>Opret scripter for editorkomponenten med Javascript</title>

<sect2 id="advanced-editing-tools-scripting-introduction">

<title
>Indledning</title>

<para
>Fra og med version 2.5, understøtter &kate;s editorkomponenten scripter med ECMA-script, også kendt som Javascript.</para>

<para
>Scripter kan kun bruges via den <link linkend="advanced-editing-tools-commandline"
>indbyggede kommandolinje</link
>. Kravet er at scriptet placeres i en mappe hvor &kate; kan finde det, sammen med en valgfri .desktop-fil som definerer de tilhørende egenskaber. Den gyldige mappe hedder <filename
>katepart/scripts</filename
> i &kde;'s datamapper. Du kan finde datamapperne ved at udføre kommandoen <command
>kde-config <option
>--path</option
> <parameter
>data</parameter
></command
>. Du har oftest i det mindste en system og en personlig datamappe. Naturligvis er scripter i systemdatamappen tilgængelige for alle brugere på systemet, mens de i den personlige mappe kun er tilgængelige for dig selv.</para>

<note
><para
>Denne funktion er eksperimentel, og kommer formodentlig til at ændres i den fremtidige udvikling.</para>
<para
>Vi ved at mange vil være skuffede over at man ikke kan tilføje scripter i menuen, eller tildele dem genvejstaster. Vi er kede af dette, men en gang i fremtiden vil det formodentlig komme til at være muligt.</para>
<para
>Det er også endnu ikke muligt at sende en argumenter til scripter. Hav tålmodighed, så kan det tilføjes i en lys fremtid.</para>
</note>

</sect2>

<sect2 id="advanced-editing-tools-scripting-reference">

<title
>Kates programmeringsgrænseflade for Javascript</title>

<para
>Her angives det fuldstændige sæt funktioner og egenskaber som er tilgængelige i objekterne <type
>document</type
> og <type
>view</type
>. Desuden kan du naturligvis bruge alle standardobjekt såsom <type
>Math</type
>, <type
>String</type
>, <type
>Regex</type
> og så videre.</para>

<para
>Når et script køres, er objektet <classname
>document</classname
> det nuværende dokument, og objektet <classname
>view</classname
> er den nuværende visning.</para>

<note
><para
>Argumenttyperne bruges naturligvis ikke i Javascript for øjeblikket, de er der kun hvor for at angive hvilken slags værdi som funktionerne forventer sig.</para
></note>

<variablelist id="advanced-editing-tools-scripting-global">
<title
>Globale funktioner</title>
<varlistentry>
<term
><function
>debug( <parameter
><replaceable
>streng</replaceable
></parameter
>) [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>parametre</title>
<listitem
><para
><parameter
>streng</parameter
> strengen der kommer som uddata</para>
</listitem>
</itemizedlist>
<para
>Skriver strengen ud på standardfejludskriften med <acronym
>kdDebug()</acronym
>. Et særligt udskriftsområde bruges for udskriften, som indledes med <computeroutput
>Kate (KJS Scripts):</computeroutput
>. </para>
</listitem>
</varlistentry>
</variablelist>

<variablelist id="advanced-editing-tools-scripting-document">
<title
>Programmeringsgrænsefladen <classname
>document</classname
></title>

<varlistentry>
<term
><function
>document.attribute( <parameter
><replaceable
>linje</replaceable
> </parameter
>, <parameter
><replaceable
>søjle</replaceable
></parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>uint linje</parameter
> Linjen for positionen hvor attributten findes.</para
></listitem>
<listitem
><para
><parameter
>uint søjle</parameter
> Søjlen for positionen hvor attributten findes.</para
></listitem>
</itemizedlist>
<para
>Returnerer den numeriske identifikator for dokumentpositionen [<parameter
>linje</parameter
>,<parameter
>søjle</parameter
>]. Attributten repræsenterar tekstens synlige udseende eller stil, og bruges også til at beregne syntaksfremhævningen for en bestemt del af teksten i blandet format såsom HTML eller PHP.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.canBreakAt( <parameter
>Char c</parameter
>, <parameter
>uint attribut</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>c</parameter
> Tegnet der skal testes</para
></listitem>
<listitem
><para
><parameter
>attribut</parameter
> Attributten på positionen for <parameter
>c</parameter
>.</para
></listitem>
</itemizedlist>
<para
>Returnerer om linjebrud er tilladt ved tegnet c med attributten attribut. Resultatet bestemmes ved at forespørge attributten som ejer fremhævningen om hvilke tegn som tillades ved linjebrud.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.canComment( <parameter
>uint start_attribut</parameter
>, <parameter
>uint slut_attribut</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>start_attribut</parameter
> Attributten i begyndelsen af området som skal ændres til en kommentar.</para
></listitem>
<listitem
><para
><parameter
>slut_attribut</parameter
> Attributten i slutningen af området som skal ændres til en kommentar.</para
></listitem>
</itemizedlist>
<para
>Returnerer om start_attribut og slut_attribut hører til samme syntaksfremhævningssystem. Hvis de gør det, er det fornuftigt. </para>
<example>
<title
>using canComment</title>
<programlisting
>if ( document.canComment( document.attribute(1,0), document.attribute(5,0) ) ) {
    // 1,0 og 5,0 hører til samme syntaksfremhævningssystem
}
</programlisting>
</example>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.clear(); [funktion]</function
></term>
<listitem
><para
>Rydder dokumentet.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentStart( <parameter
>uint attribut</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>attribut</parameter
> Attributten for teksten som strengen commentStart skal hente.</para
></listitem>
</itemizedlist>
<para
>Returnerer strengen som kræves for at starte en flerlinjekommentar for tekst med attributten, eller en tom streng hvis flerlinjekommentarer ikke understøttes for den tekst.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentMarker( <parameter
>uint attribut</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>attribut</parameter
> Attributten for teksten som strengen commentMarker skal hente</para
></listitem>
</itemizedlist>
<para
>Returnerer strengen som bruges til at markere resten af linjen som en kommentar med attributten, eller en tom streng hvis kommentarer for enkelte linjer ikke understøttes for teksten.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentEnd( <parameter
>uint attribut</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>attribut</parameter
> Attributten for teksten som strengen commentEnd skal hente</para
></listitem>
</itemizedlist>
<para
>Returnerer strengen som kræves for at afslutte en flerlinjekommentar for tekst med attributten, eller en tom streng hvis flerlinjekommentarer ikke understøttes for teksten.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.editBegin(); [funktion]</function
></term>
<listitem>
<para
>Start en redigeringsgruppe. Alle handlinger som udføres inden kaldet editEnd() grupperes som en handling at fortryde.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.editEnd(); [funktion]</function
></term>
<listitem>
<para
>Afslut en redigeringsgruppe.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.highlightMode; [egenskab:skrivebeskyttet]</function
></term>
<listitem>
<para
>Navnet på dokumentets fremhævningstilstand, såsom JavaScript eller C++. Hvis ingen syntaksfremhævningstilstand er indstillet for dokumentet, er værdien None. Bemærk at du skal bruge det engelske navn hvis det adskiller sig fra det oversatte.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.indentMode; [egenskab:skrivebeskyttet]</function
></term>
<listitem>
<para
>Navn på dokumentets indrykningstilstand, såsom <literal
>normal</literal
> eller <literal
>cstyle</literal
>. Husk at hvis ingen indrykningstilstand er indstillet er værdien <literal
>none</literal
>. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.indentWidth; [egenskab:skrivebeskyttet]</function
></term>
<listitem>
<para
>Indstiller indrykningsbredden sat for dokumentet. Dette bruges kun hvis du indrykker med mellemrum.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.insertLine( <parameter
>uint linje</parameter
>, <parameter
>streng tekst</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>linje</parameter
> dokumentets linjenummer</para>
</listitem>
<listitem
><para
><parameter
>tekst</parameter
> tekst at indsætte</para
></listitem>
</itemizedlist>
<para
>Indsætter en ny linje med teksten <parameter
>tekst</parameter
> på linjen <parameter
>linje</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.insertText( <parameter
>uint linje</parameter
>, <parameter
>uint søjle</parameter
>, <parameter
>streng tekst</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>linje</parameter
> linjenummeret</para
></listitem>
<listitem
><para
><parameter
>søjle</parameter
> søjlen</para
></listitem>
<listitem
><para
><parameter
>tekst</parameter
> teksten som skal indsættes</para
></listitem>
</itemizedlist>
<para
>Indsætter teksten <parameter
>tekst</parameter
> på linjen <parameter
>linje</parameter
> og søjlen <parameter
>søjle</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.length(); [funktion]</term>
<listitem>
<para
>Returnerer dokumentets størrelse i byte.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.lines(); [funktion]</function
></term>
<listitem>
<para
>Returnerer antal linjer i dokumentet.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.mixedIndent; [egenskab:skrivebeskyttet]</term>
<listitem>
<para
>En boolesk værdi som angiver om indstillingen for blandet indrykning er aktiv for dokumentet. Hvis dette er tilfældet, optimeres indrykningen til at indeholde en blanding af tabulatortegn og mellemrum, ligesom den som bruges af editoren Emacs.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.removeLine( <parameter
>uint linje</parameter
> ); [funktion]</term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>linje</parameter
> linjenummer</para
></listitem>
</itemizedlist>
<para
>Fjerner dokumentlinjen linje.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.removeText( <parameter
>uint startlinje</parameter
>, <parameter
>uint startsøjle</parameter
>, <parameter
>uint slutlinje</parameter
>, <parameter
>uint slutsøjle</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>startlinje</parameter
> angiver startlinjen</para
></listitem>
<listitem
><para
><parameter
>startsøjle</parameter
> angiver startsøjlen</para
></listitem>
<listitem
><para
><parameter
>slutlinje</parameter
> angiver slutlinjen</para
></listitem>
<listitem
><para
><parameter
>slutsøjle</parameter
> angiver slutsøjlen</para
></listitem>
</itemizedlist>
<para
>Fjerner tekstområdet fra linjen <parameter
>startlinje</parameter
> og søjlen <parameter
>startsøjle</parameter
> frem til linjen <parameter
>slutlinje</parameter
> og søjlen <parameter
>slutsøjle</parameter
>. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.setText( <parameter
>streng tekst</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>tekst</parameter
> dokumentets tekst</para
></listitem>
</itemizedlist>
<para
>Ændrer hele dokumentets indhold til <parameter
>tekst</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.spaceIndent; [egenskab:skrivebeskyttet]</function
></term>
<listitem>
<para
>En boolesk værdi som angiver om indrykning med mellemrum er aktiv for dokumentet. Hvis dette er tilfældet, indrykkes dokumentet med indentWidth mellemrum pr niveau, ellers sker indrykning med et tabulatortegn pr niveau.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textFull(); [funktion]</function
></term>
<listitem>
<para
>Returnerer hele dokumentets tekst. Hvis teksten omfatter flere linjer er linjebrudstegnet <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textLine( uint linje ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>linje</parameter
> linjen</para
></listitem>
</itemizedlist>
<para
>Returnerer teksten på linjen <parameter
>linje</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textRange( <parameter
>uint startlinje</parameter
>, <parameter
>uint startsøjle</parameter
>, <parameter
>uint slutlinje</parameter
>, <parameter
>uint slutsøjle</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>startlinje</parameter
> angiver startlinjen</para
></listitem>
<listitem
><para
><parameter
>startsøjle</parameter
> angiver startsøjlen</para
></listitem>
<listitem
><para
><parameter
>slutlinje</parameter
> angiver slutlinjen</para>
</listitem>
<listitem
><para
><parameter
>slutsøjle</parameter
> angiver slutsøjlen</para
></listitem>
</itemizedlist>
<para
>Returnerer det angivne tekstområde. Hvis området omfatter flere linjer er linjebrydningstegnet <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

</variablelist
><!--/ document API -->

<variablelist id="advanced-editing-tools-scripting-view">
<title
>Programmeringsgrænsefladen <classname
>view</classname
></title>

<varlistentry>
<term
><function
>view.clearSelection(); [funktion]</function
></term>
<listitem>
<para
>Afmarkerer al tekst.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorColumn(); [funktion]</function
></term>
<listitem>
<para
>Returnerer den nuværende markørsøjle (tabulatortegn ekspanderes).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorColumnReal(); [funktion]</function
></term>
<listitem>
<para
>Returnerer den nuværende rigtige markørsøjle (tabulatortegn regnes som et tegn).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorLine(); [funktion]</function
></term>
<listitem>
<para
>Får nuværende markørs linje tilbage.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.hasSelection(); [funktion]</function
></term>
<listitem>
<para
>Returnerer <constant
>true</constant
> hvis visningen indeholder markeret tekst, ellers <constant
>false</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.removeSelectedText(); [funktion]</function
></term>
<listitem>
<para
>Fjerner den markerede tekst, hvis visningen har en markering.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectAll(); [funktion]</function
></term>
<listitem>
<para
>Markerer al tekst.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selection(); [funktion]</function
></term>
<listitem>
<para
>Returnerer den markerede tekst. Hvis markeringen omfatter flere linjer er linjebrudstegnet <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionEndColumn; [egenskab:skrivebeskyttet]</function
></term>
<listitem>
<para
>Returnerer markeringens afsluttende søjle.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionEndLine; [egenskab:skrivebeskyttet]</function
></term>
<listitem>
<para
>Returnerer markeringens afsluttende linje.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionStartColumn; [egenskab:skrivebeskyttet]</function
></term>
<listitem>
<para
>Returnerer markeringens indledende søjle.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionStartLine; [egenskab:skrivebeskyttet]</function
></term>
<listitem>
<para
>Returnerer markeringens indledende linje.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setCursorPosition( <parameter
>uint linje</parameter
>, <parameter
>uint søjle</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>linje</parameter
> Angiver linjen for markøren.</para
></listitem>
<listitem
><para
><parameter
>søjle</parameter
> Angiver søjlen for markøren.</para
></listitem>
</itemizedlist>
<para
>Indstiller indtastningsmarkørens position i visningen til [<parameter
>linje</parameter
>, <parameter
>søjle</parameter
>]. Dette indstiller markørens position på visuel måde, dvs. at et tabulatortegn regnes om til <parameter
>tabwidth</parameter
> afhængig af positionen på linjen. Markørens position bliver synlig. Både linje og søjle begynder på nul.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setCursorPositionReal( <parameter
>uint linje</parameter
>, <parameter
>uint søjle</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>linje</parameter
> Angiver linjen for markøren.</para
></listitem>
<listitem
><para
><parameter
>søjle</parameter
> Angiver søjlen for markøren.</para
></listitem>
</itemizedlist>
<para
>Indstiller indtastningsmarkørens position i visningen til [<parameter
>linje</parameter
>, <parameter
>søjle</parameter
>]. Dette indstiller  strengpositionen, dvs. at et tabulatortegn regnes som 1. Markørens position bliver synlig. Både linje og søjle begynder på nul.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setSelection( <parameter
>uint startlinje</parameter
>, <parameter
>uint startsøjle</parameter
>, <parameter
>uint slutlinje</parameter
>, <parameter
>uint slutsøjle</parameter
> ); [funktion]</function
></term>
<listitem>
<itemizedlist>
<title
>Parametre</title>
<listitem
><para
><parameter
>startlinje</parameter
> angiver startlinjen</para
></listitem>
<listitem
><para
><parameter
>startsøjle</parameter
> angiver startsøjlen</para
></listitem>
<listitem
><para
><parameter
>slutlinje</parameter
> angiver slutlinjen</para
></listitem>
<listitem
><para
><parameter
>slutsøjle</parameter
> angiver slutsøjlen</para
></listitem>
</itemizedlist>
<para
>Opretter en markering fra linjen <parameter
>startlinje</parameter
> og søjlen <parameter
>startsøjle</parameter
> frem til linjen <parameter
>slutlinje</parameter
> og søjlen <parameter
>slutsøjle</parameter
>.</para>
</listitem>
</varlistentry>

</variablelist>

<example id="advanced-editing-tools-scripting-example">

<title
>Et eksempelscript</title>
<para
>Som et eksempel laver vi et lille script som laver markeringen om til store bogstaver. Det er åbenbart at vi først skal kontrollere om en markering findes. Hvis dette er tilfældet, henter vi teksten, ændrer den til store bogstaver og erstatter den med den nye. En implementering skulle kunne se sådan her ud:</para>

<programlisting
>if ( view.hasSelection() )
{
  // laver markeringen om til store bogstaver
  column = view.selectionStartColumn;
  line = view.selectionStartLine;

  selection = view.selection().toUpperCase();

  document.editBegin();
  view.removeSelectedText();
  document.insertText( line, column, selection );
  document.editEnd();
}
</programlisting>

<para
>For at gruppere handlingerne sammen så de fortrydes med en enkelt aktivering af <guimenuitem
>Fortryd</guimenuitem
>, indkapsler vi linjerne <programlisting
>view.removeSelectedText()</programlisting
> og <programlisting
>document.insertText()</programlisting
> med <programlisting
>document.editBegin()</programlisting
> og <programlisting
>document.editEnd()</programlisting
>.</para>

</example>

<example id="advanced-editing-tools-desktop-example">
<title
>Et eksempel på en <filename
>.desktop</filename
>-fil</title>

<para
>Her er et eksempel på en .desktop-fil som følger med scriptet ovenfor.</para>

<programlisting
># Eksempel på en .desktop-fil
[Desktop Entry]
Encoding=UTF-8
Name=Kate Part JavaScript Uppercase
Comment=Script to uppercase the selection
X-Kate-Command=uppercase-selection
X-Kate-Help=&lt;p&gt;Usage: &lt;code&gt;uppercase-selection&lt;/code&gt;&lt;/p&gt;
</programlisting>

<para
>Som du kan se kan du definere tegnsættet, angive et navn, en kommentar, en hjælpetekst med X-Kate-Help og kommandolinjenavnet via X-Kate-Command. Indgangene Name, Comment og X-Kate-Help oversættes automatisk til andre sprog af KDE's oversættelsesgrupper, hvis filerne findes i KDE's SVN-arkiv.</para>

</example>

<sect3>
<title
>Sæt alting sammen</title>

<para
>&kate; søger i scriptmapperne (se <link linkend="advanced-editing-tools-scripting-introduction"
>ovenfor</link
>) efter filerne <filename
>*.js</filename
>. For hver fil kontrolleres om der findes en tilsvarende <filename
>.desktop</filename
>-fil. I tilfældet uppercase.js ville der blive ledt efter uppercase.desktop. </para>
<para
>Hvis en <filename
>.desktop</filename
>-fil ikke kan findes, registreres scriptet på kate-partens kommandolinje med filnavnet uden det afsluttende .js, så i vort tilfælde ville det være <literal
>uppercase</literal
>. Hvis kommandonavnet er godt, og du ikke behøver de ekstra funktioner som en <filename
>.desktop</filename
>-fil sørger for behøver du ikke en <filename
>.desktop</filename
>-fil i det hele taget. </para>
<para
>Hvis en <filename
>.desktop</filename
>-fil findes, læser kate-parten navnet som scriptet skal registreres som fra indgangen X-Kate-Command i .desktop-filen, for eksempel X-Kate-Command=uppercase-selection.</para>

</sect3>

</sect2>

</sect1>

</chapter>
