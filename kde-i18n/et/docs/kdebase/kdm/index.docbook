<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN"
"dtd/kdex.dtd" [
  <!ENTITY kappname "&kdm;">
  <!ENTITY package "kdebase">
  <!ENTITY kdmrc "<filename
>kdmrc</filename
>">
  <!ENTITY ksmserver "<application
>ksmserver</application
>">
  <!ENTITY kdesktop "<application
>kdesktop</application
>">
  <!ENTITY XDMCP "<acronym
>XDMCP</acronym
>">
  <!ENTITY xdm "<application
>xdm</application
>">
  <!ENTITY kdmrc-ref SYSTEM "kdmrc-ref.docbook">
  <!ENTITY % addindex "INCLUDE">
  <!ENTITY % Estonian  "INCLUDE"
> <!-- change language only here -->
]>

<book lang="&language;">
<bookinfo>
<title
>&kdm; käsiraamat</title>

<authorgroup>
<author
>&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail; </author
><!-- 
<othercredit role="developer">
&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;
<contrib
>Developer</contrib>
</othercredit>
<othercredit role="reviewer">
&Lauri.Watts; &Lauri.Watts.mail;
<contrib
>Reviewer</contrib>
</othercredit
> -->

<othercredit role="translator"
><firstname
>Marek</firstname
><surname
>Laane</surname
><affiliation
><address
><email
>bald@starman.ee</email
></address
></affiliation
><contrib
>Tõlge eesti keelde</contrib
></othercredit
> 

</authorgroup>

<copyright>
<year
>2000</year>
<holder
>&Neal.Crook;</holder>
</copyright>

<copyright>
<year
>2002</year>
<holder
>&Oswald.Buddenhagen;</holder>
</copyright>

<copyright>
<year
>2003</year>
<holder
>&Lauri.Watts;</holder>
</copyright>

<date
>2003-03-01</date>
<releaseinfo
>0.05.02</releaseinfo>

<abstract>
<para
>See dokument kirjeldab &kde; kuvahaldurit &kdm;. &kdm; on tuntud ka <quote
>sisselogimise haldurina</quote
>.</para>
</abstract>

<keywordset>
<keyword
>KDE</keyword>
<keyword
>kdm</keyword>
<keyword
>xdm</keyword>
<keyword
>kuvahaldur</keyword>
<keyword
>sisselogimise haldur</keyword>
</keywordset>
</bookinfo>

<!-- ********************************************************************** -->  
<chapter id="introduction">
<title
>Sissejuhatus</title>

<para
>&kdm; graafilise kasutajaliidese abil saab end süsteemi sisse logida. See pärib kasutajatunnust ja parooli, autendib kasutaja ning käivitab <quote
>seansi</quote
>. &kdm; on mõeldud X'i kuvahalduri &xdm; asendajaks ning on sellest mitmes mõttes parem.</para>

</chapter>

<!-- Chapters to write -->
<!-- * Just enough config to get it to run and login to KDE 
     * Adding more session types (GNOME, etc)
     * Adding other customizations to XSession (ssh/gpg-agent, etc)
     * Further customization to KDM (via the kcontrol module, and by 
       hand)
     * XDMCP by query
     * XDMCP by broadcast
     * Sound transparency (if Ade can tell me how!)
     * Document all Keys in the Config File
     * Pull in all options from the KControl Module
     * More resources
-->

<chapter id="quickstart">
<title
>Kiirülevaade</title>

<para
>See on kiirülevaade inimestele, kelle puhul sobivad järgmised väited:</para>

<itemizedlist>
<listitem>
<para
>X on seadistatud ning käivitub käsurealt käsuga <command
>startx</command
>.</para>
</listitem>
<listitem>
<para
>Iga kasutaja tarvitab reeglina konkreetset aknahaldurit või töölaua keskkonda ega kaldu oma valikut kuigi sageli muutma või tunneb end igati hästi, kui saab vaid üht tekstifaili redigeerides oma valikut muuta.</para>
</listitem>
</itemizedlist>

<para
>See stsenaarium on kasutatav paljudel juhtudel, kui üksainus või mõned kasutajad arvutis enda eelistatud keskkonda sisse logivad.</para>

<procedure>
<title
>Vaikeseansi määramine</title>
<step>
<para
>Loo või ava fail <filename
>~/.xinitrc</filename
></para>
<para
>Kui sul juba on toimiv <filename
>~/.xinitrc</filename
>, asu järgmise sammu kallale</para>
</step>
<step>
<para
>Kui seda veel ei ole, lisa failile <filename
>~/.xinitrc</filename
> rida, mis käivitab sinu lemmikust aknahalduri või töölaua keskkonna.</para>
<para
>&kde; puhul tuleb lisada:</para>
<screen
><userinput
>startkde</userinput
></screen>
<para
>Teiste aknahaldurite või töölaua keskkondade puhul tuleks korrektne käsk järele uurida vastavast dokumentatsioonist.</para>
</step>
<step
><para
>Loo viit:</para>
<screen
><userinput
><command
>ln</command
> <option
>-s</option
> <parameter
>~/.xinitrc ~/.xsession</parameter
></userinput
></screen>
</step>
</procedure>

<para
>Nüüd peaks käsureal antud korraldus <userinput
><command
>startx</command
></userinput
> käivitama X'i &kde; seansiga. Järgmine eesmärk on panna tööle &kdm;.</para>

<para
>Administraatorina (<systemitem class="username"
>root</systemitem
>) anna käsureal korraldus <userinput
><command
>kdm</command
></userinput
>.</para>

<para
>Peaksid nägema sisselogimisakent, mida kirjeldab põhjalikumalt <xref linkend="login"/>.</para>

<para
>Kirjuta oma kasutajanimi ning parool ja ära muuda valikut <option
>vaikimisi</option
>. Seejärel peaks avanema antud kasutaja tavaline &kde; seanss.</para>

<para
>Kui sul on vaja seadistada ka teisi kasutajaid, korda kõigi puhul toodud protseduuri.</para>

<note>
<para
>See kujutas endast tõesti ainult kiirülevaadet. Üsna usutavalt soovid &kdm;-i rohkem oma maitse järgi kujundada, näiteks varjata süsteemsete kontode nimed, lubada rohkem seansse ja nii edasi. Selleks loe hoolikalt läbi ka ülejäänud käsiraamat.</para>
</note>

</chapter>

<chapter id="login"
> 
<title
>Sisselogimisaken</title
> 

<para
>&kdm; kasutajaliides pakub kaht dialoogikasti. Peamine dialoog pakub järgmisi võimalusi:</para>

<itemizedlist
> 
<listitem>
<para
><guilabel
>Kasutajanimi:</guilabel
> väli, kuhu kirjutada oma kasutajanimi.</para>
</listitem>

<listitem>
<para
><guilabel
>Parool:</guilabel
> väli, kuhu kirjutada oma parool.</para>
</listitem>

<listitem>
<para
>(Lisavõimalusena) iga kasutaja graafiline kujutis (näiteks digitaalfoto). Klõps pildil võrdub sellega seotud kasutajanime kirjutamisega väljale <guilabel
>Kasutajanimi</guilabel
>. (See sarnaneb sisselogimiskasti võimalusega &IRIX;-il.)</para
> 
</listitem>

<listitem>
<para
><guilabel
>Menüü</guilabel
> võimalused lubavad &kdm;-il käivitada seanssi mitmesugustes süsteemi paigaldatud aknahaldurites või töökeskondades.</para>
</listitem>

<listitem>
<para
>Lisavõimalusena on paremal pool välju <guilabel
>Kasutajanimi</guilabel
> ja <guilabel
>Parool</guilabel
> ala, kus on võimalik esitada staatilist pilti või analoogkella.</para>
</listitem>

<listitem>
<para
>Nupp <guibutton
>Logi sisse</guibutton
> võtab teatavaks sisestatud kasutajanime ja parooli, kontrollib neid ja püüab alustada valitud seanistüüpi.</para>
</listitem>

<listitem>
<para
>Nupp <guibutton
>Puhasta</guibutton
> kõrvaldab teksti väljadelt <guilabel
>Kasutajanimi</guilabel
> ja <guilabel
>Parool</guilabel
>.</para>
</listitem
> 

<listitem>
<para
>Nupp <guibutton
>Menüü</guibutton
> avab toimingute menüü järgmiste võimalustega:</para>
 
<itemizedlist>
<listitem>
<para
>(Kohalikul masinal) <guimenuitem
>Käivita X server uuesti</guimenuitem
>, mis lõpetab parajasti töötava &X-Server;i töö, käivitab uue ja näitab taas sisselogimisdialoogi. Seda on mõtet kasutada siis, kui ekraanil nähtav ei tundu olevat just kõige paremas korras.</para>
</listitem>

<listitem>
<para
>(Võrgumasinal) <guimenuitem
>Sulge ühendus</guimenuitem
> lõpetab ühenduse &XDMCP; serveriga, millega oled parajasti ühendatud. Kui võtsid selle serveriga ühendust masinavalija abil, ilmub taas masinavalija, vastasel juhul lähtestatakse ainult &X-Server; ja ilmub uuesti sisselogimisdialoog.</para>
</listitem>

<listitem>
<para
>(Lisavõimalus kohalikul masinal) <guimenuitem
>Konsooli režiim</guimenuitem
> lõpetab parajasti töötava &X-Server;i tegevuse ning toob ette konsooli viiba. &kdm; taastab graafilise sisselogimisdialoogi, kui teatud aja jooksul ei ole konsoolil midagi ette võetud.</para>
</listitem>
</itemizedlist>
</listitem>

<listitem>
<para
>(Lisavõimalusena) nupp <guibutton
>Seiskamine</guibutton
>, mis avab <guibutton
>seiskamise</guibutton
> dialoogi.</para>
</listitem>
</itemizedlist>

<para
><guilabel
>Seiskamise</guilabel
> dialoog pakub valiku raadionuppe, mis võimaldavad valida ühe järgmistest võimalustest:</para>

<variablelist>
<varlistentry>
<term
>Seiska</term
> 
<listitem>
<para
>Lülitab süsteemi kontrollitult välja.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Taaskäivita arvuti</term>
<listitem>
<para
>Lülitab süsteemi välja ja sooritab taaskäivituse. Süsteemidel, kus on kasutusel <application
>LiLo</application
>, ilmub täiendav rippmenüü, mis võimaldab valida taaskäivitusel kasutatava konkreetse operatsioonisüsteemi kerneli.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Käivita X server uuesti</term
> 
<listitem>
<para
>Peatab ja taaskäivitab X serveri. Reeglina on mõtet seda võimalust kasutada siis, kui X11 seadistusi on muudetud.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Konsooli režiim</term>
<listitem>
<para
>Peatab &X-Server;i ja viib süsteemi tagasi konsoolirežiimi. Selleks muudetakse süsteemi töötasemeks 3. Reeglina kasutavad seda võimalust need, kes soovivad uuendada või ümber seadistada X11 tarkvara.</para
> 
</listitem>
</varlistentry>
</variablelist>

<para
>Klõps nupule <guibutton
>OK</guibutton
> käivitab valitud tegevuse, nupp <guibutton
>Loobu</guibutton
> aga viib tagasi &kdm; põhidialoogi. </para>

</chapter>

<!-- *********************************************************************** -->
<chapter id="configuring-kdm">
<title
>&kdm; seadistamine</title>

<para
>See peatükk eeldab, et &kdm; juba töötab süsteemis ning sa lihtsalt soovid tema käitumist mingil moel muuta.</para>

<para
>&kdm; loeb käivitudes oma seadistuse kataloogist <filename class="directory"
>$KDEDIR/share/config/kdm/</filename
> (sõltuvalt süsteemist võib see olla ka <filename class="directory"
>/etc/kde3/kdm/</filename
> või midagi sarnast).</para>

<para
>Peamine seadistustefail on &kdmrc;, ülejäänud on vaid viidad, mille tegelikud failid võivad asuda mis tahes nime all kus tahes süsteemis, kuigi enamasti ei ole mujalepaigutamisel erilist mõtet (märkimisväärne erand on viited varem paigaldatud &xdm;-i seadistustefailidele - õigupoolest kasutabki &kdm; juba enda paigaldamise ajal seda võimalust, kui tuvastab &xdm;-i olemasolu).</para>

<para
>Kuna &kdm; käivitub enne seda, kui mõni kasutaja ennast sisse on loginud, ei ole see seotud ühegi konkreetse kasutajaga. Seepärast ei saa ka olemas olla kasutajapõhiseid seadistusfaile, vaid kõigile kasutajatele kehtib üldine &kdmrc;. Sellest järeldub, et &kdm; seadistust saab muuta ainult kasutaja, kellel on nii lugemise kui kirjutamise õigus failil <filename
>$<envar
>KDEDIR</envar
>/share/config/kdmrc</filename
> (tavaliselt on see õigus ainult süsteemiadministraatoritel, kui nad logivad end sisse kui <systemitem class="username"
>root</systemitem
>).</para>

<para
>Süsteemis parajasti kasutusel olevat &kdmrc;-faili on võimalik vaadata ning seda redigeerides seadistada &kdm;-i. Viimast saab teha küll ka graafiliselt &juhtimiskeskus;es (<menuchoice
><guisubmenu
>Süsteem</guisubmenu
> <guimenuitem
>Sisselogimise haldur</guimenuitem
></menuchoice
>), mida lähemalt on kirjeldatud <ulink url="help:/kcontrol/login-manager.html"
>&juhtimiskeskus;e käsiraamatus</ulink
>. </para>

<para
>Ülejäänud osa peatükist kirjeldab &kdm;-i seadistamist &juhtimiskeskus;e mooduli abil ja <link linkend="kdm-files"
>järgmises peatükis</link
> tutvustatakse valikuid, mida pakub &kdmrc; ise. Kui sul tuleb seadistada ainult kohalikke kasutajaid, piisab täiesti &juhtimiskeskus;e mooduli pakutavast. Kui aga seadistada tuleb ka sisselogimisi võrgust või mitme &kdm;-i seansi töötamist, tasub tähelepanelikult edasi lugeda.</para>

<sect1 id="kdm-kcontrol-module">
<sect1info>
<authorgroup>
<author
>&Thomas.Tanghus; &Thomas.Tanghus.mail;</author>
<author
>&Steffen.Hansen; &Steffen.Hansen.mail;</author>
<author
>&Mike.McBride; &Mike.McBride.mail;</author>
</authorgroup>
</sect1info>

<title
>Sisselogimise halduri &juhtimiskeskus;e moodul</title>

<para
>Selle mooduli abil saab seadistada &kde; graafilist sisselogimise haldurit &kdm;. Võimalik on muuta sisselogimisakna välimust, seda, kes üldse saab süsteemi sisselogimise halduri abil kasutada ja kes tohib näiteks arvutit seisata.</para>

<note
><para
>Kõik seadistused kirjutatakse faili &kdmrc;, kus esialgsel kujul on hulk kommentaare, mis aitavad &kdm;-i seadistada. See &juhtimiskeskus;e moodul eraldab need kommentaarid failist ja näitab neid sulle. Kõiki &kdmrc; valikuid kirjeldab <xref linkend="kdm-files"/>.</para>

<para
>Kõigi käesolevas peatükis toodud valikute puhul kasutatakse ristviiteid nende vastetele failis &kdmrc;. Kõik valikud, mida pakub &juhtimiskeskus;e moodul, on kättesaadavad ka failis &kdmrc;, kuid mitte vastupidi.</para
></note>

<para
>Valikute korraldamiseks on moodul jagatud mitmeks osaks: <link linkend="kdmconfig-appearance"
><guilabel
>Välimus</guilabel
></link
>, <link linkend="kdmconfig-font"
><guilabel
>Font</guilabel
></link
>, <link linkend="kdmconfig-background"
><guilabel
>Taust</guilabel
></link
>, <link linkend="kdmconfig-shutdown"
><guilabel
>Seiskamine</guilabel
></link
>, <link linkend="kdmconfig-users"
><guilabel
>Kasutajad</guilabel
></link
> ja <link linkend="kdmconfig-convenience"
><guilabel
>Mugavused</guilabel
></link
>.</para>

<para
>Nende vahel saab lülitada kaartide ülaservas olevaid pealdisi klõpsates.</para>

<note
><para
>Kui sa ei ole parajasti sisse loginud ülemkasutajana ehk administraatorina, tuleb klõpsata nupule <guibutton
>Administraatori režiim...</guibutton
> Seejärel päritakse administraatori parooli ja kui annad selle õigesti, saad õiguse selles moodulis muudatusi ette võtta.</para
></note>

<sect2 id="kdmconfig-appearance">
<title
>Välimus</title>

<para
>Sellel kaardil saab muuta &kde; graafilise sisselogimise halduri &kdm; väljanägemist.</para>

<para
><guilabel
>Tervitus</guilabel
> on sisselogimisakna tiitel. Selle määramine on eriti kasulik siis, kui serverisse logib sisse palju kasutajaid. Kasutada saab mitmesuguseid kohatäitjaid, mida koos vastava võtmega kirjeldab failis &kdmrc; osa <link linkend="option-greetstring"
><option
>GreetString</option
></link
>. </para>

<para
>Seejärel võid valida, kas sisselogimisaknas näidatakse süsteemi aega, logo või ei näidata mingit lisaelementi. Valiku saad teha raadionuppudega sektsioonis <guilabel
>Logo piirkond</guilabel
>. See vastab valikule <link linkend="option-logoarea"
><option
>LogoArea</option
></link
> failis &kdmrc;</para>

<para
>Kui valid <guilabel
>Logo näitamine</guilabel
>, võid valida logo:</para>

<itemizedlist>
<listitem>
<para
>Lohistades pildifaili pildinupule.</para>
</listitem>
<listitem>
<para
>Klõpsates pildinupul ja valides uue pildi pildi valimise dialoogist.</para>
</listitem>
</itemizedlist>

<para
>Kui sa logo ei määra, näidatakse vaikelogo <filename
>$<envar
>KDEDIR</envar
>/share/apps/kdm/pics/kdelogo.xpm</filename
>.</para>

<para
>Tavaliselt asub sisselogimisaken ekraani keskel. <guilabel
>Asukoht</guilabel
> lubab seda paigutada ka mujale. Sisselogimisakna tsentri suhtelise asukoha (protsendina ekraani suurusest) kuva ülemise vasaku nurga suhtes saab määrata väljadel <guilabel
>X</guilabel
> ja <guilabel
>Y</guilabel
>: Need vastavad võtmele <link linkend="option-greeterpos"
><option
>GreeterPos</option
></link
> failis &kdmrc;.</para>

<para
>Kui &kde; stiil sõltub sisselogiva kasutaja määratud seadistusest, siis &kdm;-i stiili saab seadistada võimalustega <guilabel
>Kasutajaliidese stiil</guilabel
> ja <guilabel
>Värviskeem</guilabel
>. Need vastavad võtmetele <link linkend="option-guistyle"
><option
>GUIStyle</option
></link
> ja <link linkend="option-colorscheme"
><option
>ColorScheme</option
></link
> failis &kdmrc;.</para>

<para
>Selle all on rippmenüüga kast, kus saab valida sisselogimisakna keele, mis vastab seadistusele <option
>Language</option
> failis &kdmrc;.</para>

</sect2>

<sect2 id="kdmconfig-font">
<title
>Font</title>

<para
>Sellel kaardil saab muuta sisselogimisaknas kasutatavaid fonte. Siin saab määrata ainult süsteemseid fonte - fonte, mida kasutajad ise on endale paigaldanud, pole võimalik ju kõigile määrata.</para>

<para
>Rippmenüüst saab valida kolm erinevat fondistiili (<guilabel
>Üldine</guilabel
>, <guilabel
>Vead</guilabel
>, <guilabel
>Tervitus</guilabel
>). Klõps nupule <guibutton
>Vali...</guibutton
> avab dialoogi, kus saab valida uue fondi ja selle mõningad efektid.</para>

<itemizedlist>
<listitem>
<para
><guilabel
>Üldine:</guilabel
> seda fonti kasutatakse kõikjal sisselogimisaknas.</para>
</listitem>
<listitem>
<para
><guilabel
>Vead:</guilabel
> seda fonti kasutatakse siis, kui sisselogimine ebaõnnestub.</para>
</listitem>
<listitem>
<para
><guilabel
>Tervitus:</guilabel
> seda fonti kasutatakse tiitlil (tervitusstring).</para>
</listitem>
</itemizedlist>

<para
>Kui soovid näha sisselogimisdialoogis (arvatavasti) ilusamaid tähti, võid ära märkida kasti <guilabel
>Antialias fontidel</guilabel
></para>

</sect2>

<sect2 id="kdmconfig-background">
<title
>Taust</title>

<para
>Siin saab muuta sisselogimise ajal näidatavat töölaua tausta. Selleks võib olla mingi värv või pilt. Kui valid pildi ning selle asetamise keskele, kasutatakse valitud taustavärvi mujal ekraanil, kui pilt ei peaks katma tervet töölauda.</para>

<para
>Taustavärvi ja efekte saab määrata valikutega kaardil <guilabel
>Taust</guilabel
>, taustapildi ja selle asetuse aga kaardil <guilabel
>Taustapilt</guilabel
>.</para>

<para
>Tausta vaikevärvi muutmiseks klõpsa ühele kahest värvinupust ja vali uus värv.</para>

<para
>Rippmenüüst värvinuppude kohal saab määrata kahe värvi valimisel nende ühtesulamise viisi. Nimekirjas langetatud valikut näidatakse akna ülaosas asuval väikeses eelvaatluse aknakeses. Võimalused on järgmised:</para>

<variablelist>
<varlistentry>
<term
>Ühtlane</term>
<listitem
><para
>Selle valimisel kasutatakse üht värvi (selle saab määrata nupuga <guibutton
>Värv 1</guibutton
>) ning kogu taust on sellisel juhul ühtlast värvi.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Muster</term>
<listitem
><para
>Selle valimisel saab määrata kaks värvi (kasutades mõlemat värvinuppu). </para
> <para
>Seejärel saab valida mustri, kui klõpsata nupule <guilabel
>Seadistus</guilabel
>. Ilmub mustri valimise dialoog. Klõpsa seal meelepärasele mustrile ning seejärel nupule <guilabel
>OK</guilabel
> ning &kde; joonistab sinu valitud kahe värviga vajaliku mustri välja. Mustritest lähemalt räägib osa <ulink url="help:/kcontrol/background/index.html#bkgnd-patterns"
>Taust: mustrite lisamine, eemaldamine ja muutmine</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Tausta rakendus</term>
<listitem
><para
>Selle valimine lubab &kde;l kasutada tausta joonistamiseks mõnda rakendust. Rohkem infot selle võimaluse kohta annab osa <ulink url="help:/kcontrol/background/index.html#bkgnd-programs"
>Taust: välise rakenduse kasutamine</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Horisontaalne gradient</term>
<listitem
><para
>Selles režiimis saad valida kaks värvi (kasutada mõlemat värvinuppu). &kde; alustab siis värviga, mille valisid valikuga <guilabel
>Värv 1</guilabel
>, ekraani vasakust servast ning jõuab üleminekutega paremasse serva suundudes lõpuks värvini, mille valisid valikuga <guilabel
>Värv 2</guilabel
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Vertikaalne gradient</term>
<listitem
><para
>Selles režiimis saad valida kaks värvi (kasutada mõlemat värvinuppu). &kde; alustab siis värviga, mille valisid valikuga <guilabel
>Värv 1</guilabel
>, ekraani ülaservast ning jõuab üleminekutega alaserva suundudes lõpuks värvini, mille valisid valikuga <guilabel
>Värv 2</guilabel
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Püramiidikujuline gradient</term>
<listitem
><para
>Selles režiimis saad valida kaks värvi (kasutada mõlemat värvinuppu). &kde; alustab siis värviga, mille valisid valikuga <guilabel
>Värv 1</guilabel
>, igast ekraani nurgast ning jõuab üleminekutega ekraani keskpunkti suundudes lõpuks värvini, mille valisid valikuga <guilabel
>Värv 2</guilabel
>.</para
></listitem
> 
</varlistentry>
<varlistentry>
<term
>Risttorugradient</term>
<listitem
><para
>Selles režiimis saad valida kaks värvi (kasutada mõlemat värvinuppu). &kde; alustab siis värviga, mille valisid valikuga <guilabel
>Värv 1</guilabel
>, igast ekraani nurgast ning jõuab üleminekutega ekraani keskpunkti suundudes lõpuks värvini, mille valisid valikuga <guilabel
>Värv 2</guilabel
>. Selle gradiendi kuju on teistsugune kui püramiidikujulisel.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Elliptiline gradient</term>
<listitem
><para
>Selles režiimis saad valida kaks värvi (kasutada mõlemat värvinuppu). &kde; alustab siis värviga, mille valisid valikuga <guilabel
>Värv 2</guilabel
>, ekraani keskelt ning jõuab üleminekutega elliptiliselt servade poole suundudes lõpuks värvini, mille valisid valikuga <guilabel
>Värv 2</guilabel
>.</para
></listitem
> 
</varlistentry>
</variablelist>

<para
>Seadistusnuppu läheb vaja ainult siis, kui valid võimaluse <guilabel
>Tausta rakendus</guilabel
> või <guilabel
>Muster</guilabel
>. Neil juhtudel ilmub aken, kus saad oma valikut täpsemalt häälestada.</para>
<para
><emphasis
>Taustapilt</emphasis
></para>
<para
>Uue taustapildi valimiseks klõpsa esmalt kaardile <guilabel
>Taustapildid</guilabel
> ning vali seejärel pilt rippmenüüst <guilabel
>Taustapilt</guilabel
> või klõpsa nupule <guibutton
>Lehitse...</guibutton
> ja vali pilt failivalijast.</para>

<para
>Pilti saab esitada kuuel moel:</para>
<variablelist>
<varlistentry>
<term
>Pildita</term
> 
<listitem
><para
>Pilti ei näidata, näha on ainult taustavärv(id).</para>
</listitem
></varlistentry>
<varlistentry>
<term
>Keskjoondatud</term
> 
<listitem
><para
>Pilt asub ekraani keskel. Pildist väljaspool toimib eelnevalt määratud värvilahendus.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Paanidena</term>
<listitem
><para
>Pilti duplitseeritakse, kuni see täidab kogu töölaua. Esimene pilt asetatakse ülemisse vasakusse nurka ning sealt duplitseeritakse seda alla ja paremale.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Keskjoondatud paanidena</term>
<listitem
><para
>Pilti duplitseeritakse, kuni see täidab kogu töölaua. Esimene pilt asetatakse ekraani keskele ning sealt duplitseeritakse seda üles, alla, vasakule ja paremale.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Keskjoondatud maksimeeritud</term>
<listitem
><para
>Pilt asetatakse ekraani keskele. Tema suurust muudetakse, nii et see täidab kogu ekraani, kuid ei muudeta originaalpildi mõõtmete suhet. See tagab moonutustevaba pildi. </para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Skaleeritud</term>
<listitem
><para
>Pildiga kaetakse kogu töölaud, venitades teda nii, et see ulatuks igasse nurka. See võib ühtlasi pilti märgatavalt moonutada.</para
> </listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="kdmconfig-shutdown">
<title
><guilabel
>Seiskamine</guilabel
></title>

<para
><guilabel
>Arvuti seiskamise lubamine</guilabel
></para>
<para
>Rippmenüüs saab määrata, kellel on lubatud arvuti seisata:</para>
<itemizedlist>
<listitem>
<para
><guilabel
>Mitte keegi</guilabel
>: keegi ei saa &kdm;-i kasutades arvutit seisata, selleks tuleb sisse logida ja anda vastav käsk.</para>
</listitem>
<listitem>
<para
><guilabel
>Kõik</guilabel
>: kõik võivad arvuti &kdm;-i kasutades seisata.</para>
</listitem>
<listitem
><para
><guilabel
>Ainult administraator</guilabel
>: &kdm; nõuab enne arvuti seiskamist administraatori (<systemitem
>root</systemitem
>) parooli.</para
></listitem
> 
</itemizedlist>

<para
>Eraldi saab määrata selle, kellel on õigus anda seiskamiskäsk <guilabel
>kohapealt</guilabel
>ilt ja <guilabel
>eemalt</guilabel
>.</para>

<para
><emphasis
>Käsud</emphasis
></para
> <para
>Neil väljadel saab määrata selle, kuidas täpselt näeb välja seiskamiskäsk.</para
> <para
>Käsk <guilabel
>Seiskamine:</guilabel
> on vaikimisi <command
>/sbin/halt</command
>. Käsk <guilabel
>Taaskäivitamine:</guilabel
> on vaikimisi <command
>/sbin/reboot</command
>.</para>

<para
>Kui märgitud on <guilabel
>Alglaadimise valikute näitamine</guilabel
>, pakub &kdm; taaskäivitusel LiLo alglaadimise halduri võimalusi. Et see korralikult toimiks tuleb anda käsu <command
>lilo</command
> ja selle seostefaili (map) korrektne asukoht. See võimalus ei ole kasutatav sugugi mitte kõigis operatsioonisüsteemides.</para>

</sect2>

<sect2 id="kdmconfig-users">
<title
>Kasutajad</title>

<para
>Siin saab muuta seda, kuidas näidatakse sisselogimisaknas kasutajaid.</para>

<para
>Kasutajate nimekirja näitamise &kdm;-is saab ka täielikult välja lülitada sektsioonis <guilabel
>Kasutajad</guilabel
>. Valikuvõimalused on järgmised:</para>

<variablelist>
<varlistentry>
<term
><guilabel
>Kasutajate näitamine</guilabel
></term>
<listitem>
<para
>Näidatakse ainult kõrvalasuvas nimekirjas spetsiaalselt määratud kasutajaid.</para>
<para
>Kui sa seda ei vali, ei näidata ühtegi kasutajat. See on kõige turvalisem, sest võimalik pahategija peab ära arvama nii kehtiva kasutajanime kui parooli. !See on mõistlik ka juhul, kui kasutajaid on palju, sest muidu võib nimekiri muutuda raskestikasutatavaks.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Valik tagurpidi</guilabel
></term>
<listitem>
<para
>Võimaldab valida kasutajate nimekirja, keda <emphasis
>ei</emphasis
> näidata, misjärel kõiki muid kasutajaid näidatakse.</para>
</listitem>
</varlistentry>
</variablelist>

<para
>Sõltumatult nime järgi määratud kasutajatest saab kasutada ka <guilabel
>süsteemi UID-d</guilabel
>, mis lubab määrata kehtivate <acronym
>UID-de</acronym
> vahemiku, keda nimekirjas näidatakse. Vaikimisi ei näidata kasutajaid ID-ga alla 1000, mis enamasti kuuluvad süsteemsetele või deemonite kasutajatele, samuti kasutajaid ID-ga üle 65 000.</para>

<para
>Kui märkida ära kast <guilabel
>Kasutajate sorteerimine</guilabel
>, saab neid lasta nimekirjas näidata tähestiku alusel. Kui see ei ole sisse lülitatud, näidatakse kasutajaid järjekorras, milles nad esinevad paroolifailis. Kui ära märkida <guilabel
>Automaatne lõpetamine</guilabel
>, lõpetab &kdm; kasutajanimed sinu eest ise või pakub variante.</para>

<para
>Kui langetad otsuse kasutajate näitab sisselogimisaken (valitud) kasutajate pilte. Kui keegi soovib end sisse logida, saab ta klõpsata oma nimele/pildile, anda parooli ja kui kõik sobib, ongi ta end sisse loginud.</para>

<para
>Kui kasutaja pilt on lubatud, saab määrata ka nende allika.</para>

<para
>Siin saab valida igale kasutajale pildi. Sõltuvalt ülalpool valitust võib kasutajatel olla küll ka võimalik sinu valik tühistada.</para>

<para
>Kui otsustad kasutajaid mitte näidata, on sisselogimisaken traditsioonilisema väljanägemisega: kasutajad peavad sisenemisel alati andma enda kasutajanime ja parooli. See on soovitatav, kui tegemist on terminaliga, mida kasutab palju inimesi.</para>

</sect2>

<sect2 id="kdmconfig-convenience">
<title
>Mugavused</title>

<para
>Kaardil <guilabel
>Mugavused</guilabel
> saab seadistada mõningaid valikuid, mis muudavad elu lihtsamaks laiskadel inimestel - näiteks automaatne sisselogimine või paroolidest loobumine.</para>

<important
><para
>Palun mõtle vähemalt kaks korda, enne kui valid sellelt kaardilt mõne võimaluse. Kõik kaardi <guilabel
>Mugavused</guilabel
> valikud kujutavad endast suurepärast võimalust lüüa oma süsteemi turvalisusse korralik auk. Kõige õigem oleks neid üldse kasutada ainult olukorras, kus turvalisus ei ole kõige tähtsamal kohal, &eg; koduses eraarvutis. </para
></important>

<sect3 id="loginmanager-convenience-autologin">
<title
>Automaatne sisselogimine</title>

<para
>Automaatne sisselogimine annab kõigile ligipääsu süsteemile teatud konto kaudu, ilma et selleks kasutataks mis tahes autentimist. Selle saab sisse lülitada võimalusega <guilabel
>Automaatse sisselogimise lubamine</guilabel
>.</para>

<para
>Nimekirjast <guilabel
>Kasutaja</guilabel
> saab valida konto, mille puhul automaatset sisselogimist lubada.</para>

</sect3>

<sect3 id="loginmanager-convenience-nopasswd">
<title
><guilabel
>Paroolita sisselogimine</guilabel
></title>

<para
>See võimalus lubab teatud kasutajatel sisse logida ilma parooli andmata. Selle saab sisse lülitada võimalusega <guilabel
>Paroolita sisselogimise lubamine</guilabel
>.</para>

<para
>Selle all on süsteemi kasutajate nimekiri. Paroolita sisselogimise lubamiseks konkreetsele kasutajale märgi ära kastike tema nime ees. Vaikimisi ei ole see lubatud ühelegi kasutajale.</para>

<important
><para
>Ka seda võimalust on äärmiselt soovitatav kasutada ainult juba muudmoodi turvaliseks muudetud keskkonnas. Kui lülitad selle sisse avalikuma süsteemi korral, tuleks tagada, et paroolita sisselogimine on lubatud ainult karmide piirangutega kasutajatele (&eg; <systemitem
>guest</systemitem
>).</para
></important>

<para
>Samuti saab valida, milline kasutaja on <quote
>valmis valitud</quote
>, kui &kdm; käivitub. Vaikimisi on siin valikuks <guilabel
>Puudub</guilabel
>, kuid sa võid valida näiteks <guilabel
>Eelmine</guilabel
>, et &kdm; näitaks vaikimisi viimast edukalt sisse loginud kasutajat, või <guilabel
>Määratud</guilabel
>, mis võimaldab vajaliku kasutaja nimekirjast valida. Samuti võib lasta &kdm;-il seada käivitudes fookuse parooliväljale, nii et &kdm;-i akna ilmudes oleks võimalik otsekohe anda parool.</para>

<para
>Võimalus <guilabel
>Pärast X serveri ämbrisse astumist logitakse automaatselt uuesti sisse</guilabel
> lubab jätta autentimise vahele, kui X'i server miskipärast oma ülesannetega toime ei tulnud ja krahhi üle elas.</para>

</sect3>

</sect2>

</sect1>

</chapter>

&kdmrc-ref;

<!-- ************************************************************ -->   
<chapter id="configuring-your-system-for-kdm">
<title
>Süsteemi seadistamine &kdm;-i kasutamiseks</title>

<para
>See peatükk eeldab, et süsteem on juba seadistatud nii, et &X-Window; töötab ja et seadistamise eesmärk on vaid graafilise sisselogimise võimaldamine.</para>

<sect1 id="setting-up-kdm">
<title
>&kdm;-i häälestamine</title>

<para
>Peamine määraja, kas arvuti kasutab alglaadimise järel terminali (konsoolirežiim) või graafilist sisselogimist, on vaiketöötase. Töötaseme määrab <application
> <ulink url="man:init"
>/sbin/init</ulink
></application
>, mida kontrollib seadistustefail <filename
>/etc/inittab</filename
>. Vaiketöötase on erinevates &UNIX; süsteemides (ja erinevates &Linux; distributsioonides) erinev, kuid fail <filename
>/etc/inittab</filename
> peaks igatahes algama umbes nii:</para>

<screen
># Default runlevel. The runlevels used by RHS are: [Vaiketöötase. RHS töötasemed on:]
# 0 - halt (Do NOT set initdefault to this) [seiskamine (ÄRA MÄÄRA seda vaikeväärtuseks)]
# 1 - Single user mode [Üksikkasutajarežiim]
# 2 - Multiuser, without NFS [Mitmekasutajarežiim ilma NFS-ita]
# 3 - Full multiuser mode [Täielik mitmekasutajarežiim]
# 4 - unused [pole kasutusel]
# 5 - X11
# 6 - reboot (Do NOT set initdefault to this) [taaskäivitus (ÄRA MÄÄRA seda vaikeväärtuseks)]

id:3:initdefault:  
</screen>

<para
>Välja arvatud viimane rida, on kõik eeltoodu kommentaar. See selgitab, et töötase 5 on kasutusel X11 ning töötase 3 mitmekasutajarežiimi puhul ilma X11-ta (konsoolirežiim). Viimane rida määrab, et süsteemi vaiketöötase on 3 (konsoolirežiim). Kui sinu süsteem kasutab juba graafilist sisselogimist (näiteks rakendust &xdm;), peaks vaiketöötase sobima X11 tarbeks määratuga.</para>

<para
>Mõnes levinumas &Linux; distributsioonis on graafilise sisselogimise (&xdm;) töötasemed järgmised:</para>

<itemizedlist>
<listitem
><para
>5 &RedHat; 3.x ja uuema ning &Mandrake; jaoks</para
></listitem>
<listitem
><para
>4 Slackware jaoks</para
></listitem>
<listitem
><para
>3 &SuSE; 4.x ja 5.x jaoks</para
></listitem>
</itemizedlist>

<para
>Esimene samm süsteemi seadistamisel on tagada, et &kdm; oleks võimalik käivitada käsurealt. Kui see on tehtud, saab muuta süsteemi seadistusi, et &kdm; käivituks automaatselt iga taaskäivituse puhul.</para>

<para
>&kdm;-i testimiseks tuleb süsteem esmalt viia töötasemele, kus ei käivitata &xdm;-i. Selleks anna näiteks järgmine käsk:</para>

<screen
><command
>/sbin/init <option
>3</option
></command
></screen>

<para
>Number <option
>3</option
> asemel võib seista ka mõni muu number vastavalt sellele, milline on antud süsteemi konsoolirežiimi töötase.</para>

<para
>Kui süsteem kasutab ühendatavaid autentimismooduleid (<abbrev
>PAM</abbrev
>), mis on moodsates &Linux; ja &Solaris;e süsteemides täiesti tavaline, tuleks kontrollida, et <abbrev
>PAM</abbrev
>-i seadistus võimaldab sisselogimist teenusega <literal
>kde</literal
>. Kui varem on &xdm; edukalt toiminud, ei peaks <abbrev
>PAM</abbrev
>-i seadistusse &kdm;-i kasutamiseks mingeid muudatusi tegema. <filename
>/etc/pam.conf</filename
> või <filename
>/etc/pam.d/xdm</filename
>. <abbrev
>PAM</abbrev
>-i seadistamise tutvustus väljub käesoleva käsiraamatu raamest, kuid <abbrev
>PAM</abbrev
> on igal juhul väga hästi dokumenteeritud (vaata näiteks <filename
>/usr/share/doc/*pam*/html/</filename
>).</para>

<para
>Nüüd on aeg testida &kdm;-i, andes käsu:</para>

<screen
><command
>kdm <option
>-nodaemon</option
></command
>
</screen>

<para
>Kui ilmub &kdm; sisselogimisaken ja sellega saabki sisse logida, on kõik korras. Peamine probleem võib siin olla see, et käituslinkur ei pruugi leida &Qt; või &kde; jagatud teeke. Kui kasutad &kde; teekide binaardistributsiooni, kontrolli, et &kdm; oleks paigaldatud sinna, kus teekide arvates peaks &kde; paigaldatud olema ning püüa määrata mõned keskkonnamuutujad osutama oma &kde; ja &Qt; teekidele.</para>

<para
>Näiteks:</para>

<screen
><command
>export 
<option
>KDEDIR=<replaceable
>/opt/kde</replaceable
></option
></command>
<command
>export 
<option
>QTDIR=<replaceable
>/usr/lib/qt2</replaceable
></option
></command>
<command
>export 
<option
>PATH=<replaceable
>$KDEDIR/bin:$QTDIR/bin:$PATH</replaceable
></option
></command>
<command
>export 
<option
>LD_LIBRARY_PATH=<replaceable
>$KDEDIR/lib:$QTDIR/lib</replaceable
></option
></command
>
</screen>

<para
>Kui see ikkagi probleemi ei lahenda, püüa käivitada hoopis &xdm;, et kontrollida, ega tegemist ei ole mingi tõsisema X'i seadistusprobleemiga.</para>

<para
>Kui &kdm; õnnestub edukalt käivitada, võid asendada &xdm;-i &kdm;-iga. Seegi sõltub väga tugevasti distributsioonist.</para>

<itemizedlist>
<listitem>
<para
>&RedHat; puhul redigeeri faili <filename
>/etc/inittab</filename
>, otsi sealt sellist rida:</para>
<screen
>x:5:respawn:/usr/X11/bin/xdm -nodaemon</screen>
<para
>ja asenda see järgmise reaga:</para>
<screen
>x:5:respawn:/opt/kde/bin/kdm</screen>
<para
>See annab käsule <command
>init</command
>(8) korralduse käivitada &kdm;, kui süsteem töötab töötasemel 5. Pane tähele, et &kdm; ei vaja võtit <option
>-nodaemon</option
>.</para>
</listitem>
<listitem>
<para
>&Mandrake; puhul kutsub X11 töötase failis <filename
>/etc/inittab</filename
> välja shelliskripti <filename
>/etc/X11/prefdm</filename
>, mille eesmärk on langetada valik mitme võimaliku kuvahalduri seas, nende hulka kuulub ka &kdm;. Kontrolli, et kõik otsinguteed oleksid korrektsed.</para
> 
</listitem>
<listitem>
<para
>&SuSE; puhul redigeeri faili <filename
>/sbin/init.d/xdm</filename
>, lisades esimese rea:</para>

<screen
>. /etc/rc.config
DISPLAYMANAGER=kdm
export DISPLAYMANAGER</screen>
</listitem>
<listitem
><para
>FreeBSD puhul redigeeri faili <filename
>/etc/ttys</filename
>, otsi sealt sellist rida:</para>
<screen
>ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</screen>
<para
>ja asenda see järgmisega:</para>
<screen
>ttyv8   "/usr/local/bin/kdm"  xterm   on secure</screen>
</listitem>

<listitem
><para
>Enamik muid distributsioone sarnaneb eeltoodutega.</para
></listitem>
</itemizedlist>

<para
>Nüüd võiks &kdm;-i uuesti testida, käivitades süsteemi töötasemel, mis &kdm;-ile ongi ette nähtud. Seda saab teha näiteks sellise käsuga:</para>

<screen
><command
>/sbin/init <option
>5</option
></command
>
</screen>

<para
>Number <option
>5</option
> asemel võib olla ka muu number vastavalt sellele, milline on süsteemis X11 töötase.</para>

<para
>Viimane samm on redigeerida failis <filename
>/etc/inittab</filename
> kirjet <parameter
>initdefault</parameter
>, mis määrab X11 töötaseme.</para>

<warning
><para
>Enne selle muudatuse tegemist kontrolli, et sul oleks võimalik süsteem taaskäivitada, kui peaks mingi probleem ilmnema. Selleks võib olla distributsiooniga kaasa tulnud <quote
>päästeflopi</quote
> (<quote
>rescue</quote
>), näiteks <literal
>tomsrtbt</literal
>. Selle nõuande eiramine jääb sinu enda südametunnistusele.</para
></warning>

<para
>Tavaliselt tähendab see sellise rea muutmist:</para>
<screen
>id:3:initdefault:</screen>
<para
>kujule</para>
<screen
>id:5:initdefault:</screen>

<para
>Süsteemi taaskäivitades peaks lõpuks ilmuma &kdm; graafiline sisselogimise aken.</para>

<para
>Kui see samm peaks ebaõnnestuma, on kõige usutavam põhjus selles, et käivitusaegne keskkond erineb keskkonnast, mida kasutati käsurealt testimise ajal. Kui proovid süsteemis kasutada korraga kaht &kde; versiooni, tasub olla eriti ettevaatlik ning üle kontrollida, et keskkonnamuutujad <envar
>PATH</envar
> ja <envar
>LD_LIBRARY_PATH</envar
> oleks korrektsed ja et käivitusskriptid neid kuidagi ei tühistaks.</para>

</sect1>

</chapter>

<chapter id="different-window-managers-with-kdm">
<title
>Paljude aknahaldurite tugi</title>

<para
>&kdm; tuvastab usutavasti kõik aknahaldurid ja töökeskkonnad, mis on sinu süsteemi paigaldatud. Kui paigaldad mõne uue, peaks see muutuma automaatselt kättesaavaks &kdm;-i peadialoogis <guilabel
>Seansi tüüp:</guilabel
>.</para>

<para
>Kui sul on mõni verivärske aknahaldur või kui &kdm; sinu aknahaldurit mingil põhjusel ei toeta, tuleks kõigepealt kontrollida, et käivitatav rakendus asub keskkonnamuutujaga <envar
>PATH</envar
> määratud asukohas ega ole paigaldatud mõnda ootamatusse kohta.</para>

<para
>Kui rakendus peaks olema päris uus, mida &kdm; veel ei toeta, on siiski väga hõlpsasti võimalik lisada uus seanss.</para>

<para
>Seansse defineerivad <firstterm
>.desktop</firstterm
>-failid kataloogis <filename class="directory"
>$<envar
>KDEDIR</envar
>/share/apps/kdm/sessions</filename
>. Piisab, kui lisad kataloogi lihtsalt vajaliku nimega <literal role="extension"
>.desktop</literal
>-faili. Väljad on järgmised:</para>

<programlisting
>[Desktop Entry]
Encoding=UTF-8 <lineannotation
>See on fikseeritult <option
>UTF-8</option
> ja
võib ära jääda</lineannotation>
Type=XSession <lineannotation
>See on fikseeritult <option
>XSession</option
> ja
võib ära jääda</lineannotation>
Exec=<replaceable
>käivitatava faili nimi</replaceable
> <lineannotation
>Edastatakse
käsuna <command
>eval exec</command
> Bourne shellis</lineannotation>
TryExec=<replaceable
>käivitatava faili nimi</replaceable
> <lineannotation
>Toetatud, aga
pole nõutav</lineannotation>
Name=<replaceable
>nimi, mida näidatakse &kdm;i seansside nimekirjas</replaceable
></programlisting>

<para
>Seal on ka kolm <quote
>maagilist</quote
> seanssi:</para>

<variablelist>
<varlistentry>
<term
>default</term>
<listitem>
<para
>&kdm;-i vaikeseanss on reeglina &kde;, aga seda saab süsteemiadministraator soovi korral muuta. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>custom</term>
<listitem>
<para
>Kohandatud seanss käivitab kasutaja faili ~/.xsession, kui see on olemas. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>failsafe</term>
<listitem>
<para
>Failsafe käivitab väga lihtsakoelise seansi, mis on mõttekas ainult silumise ja probleemide lahendamise huvides. </para>
</listitem>
</varlistentry>
</variablelist>

<para
>Seansitüübi tühistamiseks kopeeri .desktop-fail andmekataloogist konfiguratsioonikataloogi ja muuda seda oma vajaduste kohaselt. Olemasoleva seansitüübi eemaldamiseks võib need <quote
>varjata</quote
> .desktop-failides võtmega Hidden=true. Maagiliste seansside jaoks ei ole vaikimisi .desktop-faile olemas, kuid &kdm; teeb näo, nagu oleks need olemas, nii et ka neid saab tühistada. Oletatavasti sa tead juba, kuidas lisada uut seansitüüpi :-)</para>

</chapter>

<chapter id="xdmcp-with-kdm">
<title
>&kdm;-i kasutamine sisselogimiseks võrgust (&XDMCP;)</title>

<para
>&XDMCP; on avatud standard, tähendades <quote
>X'i kuvahalduri juhtimisprotokoll</quote
> (inglise keeles X Display Manager Control Protocol). Seda pruugitakse ühenduse loomiseks kahe süsteemi vahel üle võrgu.</para>

<para
>&XDMCP; on abiks mitmekasutajasüsteemides, kus kasutajad tarvitavad tööjaamu ning mõni või mõned võimsad serverid pakuvad neile ressursse X'i seansside käivitamiseks. Nii on &XDMCP; näiteks kasulik vanadele arvutitele nii-öelda uue elu andmiseks - Pentiumist või isegi 486-st kõigest 16 Mb RAM-iga jagub X'i enda käimapanekuks ning &XDMCP; abil võib selline arvuti töötada täiesti rahulikult kõigi kellade ja kulinatega &kde; seansis, mida pakub server. Serveri poolt vaadates on pärast seda, kui üks &kde; (või mõne muu keskkonna) protsess on juba tööle pandud, vaja üsna vähe ressursse järgmise, ülejärgmise ja nii edasi käivitamiseks.</para>

<para
>Siiski võivad teise sisselogimismeetodi lubamisel olla omad tagajärjed turvalisusele. Seda teenust tasuks pruukida ainult siis, kui sul on vaja lubada mujal asuvatel X'i serveritel sisselogimisseansi käivitamist enda süsteemis. Ühtainsat &UNIX; arvutit tarvitavad kasutajad ei pruugiks sellele isegi mõelda.</para>

</chapter>

<chapter id="advanced-topics">
<title
>Kogenud kasutajatele</title>

<sect1 id="command-sockets">
<title
>Käsusoklid</title>

<para
>See võimalus lubab &kdm;-i võrgust juhtida. Peamiselt on see mõeldud töötava seansi &ksmserver;'i ja &kdesktop;'i kasutamiseks, kuid seda saavad kasutada ka muud rakendused.</para>

<para
>Soklid on &UNIX; domeeni soklid, mis paiknevad võtmega <option
>FifoDir</option
>= määratud kataloogi alamkataloogides. Adresseerimisel ja turvalisuse tagamisel kasutatakse just alamkatalooge; kõigi soklite failinimeks on <filename
>socket</filename
> ning õigusteks <literal
>rw-rw-rw-</literal
> (0666). Seda sellepärast, et mõned süsteemid ei tee välja soklifailide õigustest.</para>

<para
>Sokleid on kaht tüüpi: globaalsed (dmctl) ja kuvapõhised (dmctl-&lt;kuva&gt;).</para>

<para
>Globaalse sokli alamkataloogi omanikuks on administraator, kuvapõhiste soklite omanikuks antud seansi omanik (administraator või sisseloginud kasutaja). Alamkataloogide grupiõigusi saab määrata võtmega FifoGroup=, kui see on määramata, on grupiks root. Alamkataloogide õigusteks on rwxr-x--- (0750).</para>

<para
>Käsu väljasid eraldatakse tabeldusmärkidega (<token
>\t</token
>), nimekirja väljasid tühikutega ning tühikute märkimiseks nimekirja väljade sees kasutatakse <token
>\s</token
>.</para>

<para
>Käsu lõpetab reavahetus (<token
>\n</token
>).</para>

<para
>Sama käib vastuste kohta. Edu korral on vastuseks <returnvalue
>ok</returnvalue
>, millele võib järgneda soovitud info. Vea korral on vastuseks errno-stiilis sõna (&eg; <returnvalue
>perm</returnvalue
>, <returnvalue
>noent</returnvalue
>, &etc;), millele järgneb pikem selgitus.</para>

<variablelist>
<title
>Globaalsed käsud:</title>
<varlistentry>
<term
><command
>login</command
> <option
>kuva</option
> (<parameter
>now</parameter
> | <parameter
>ajastus</parameter
>) <parameter
>kasutaja</parameter
> <parameter
>parool</parameter
> [seansi_argumendid]</term>
<listitem>
<para
>Kasutaja sisselogimine määratud kuval. Parameetri <parameter
>now</parameter
> korral surmatakse töötav seanss, kui selline on olemas, vastasel juhul sooritatakse sisselogimine pärast seansi lõpetamist. Seansi argumendid on .dmrc printf-tüüpi varjestatud sisu. Määramata võtmete korral kasutatakse varasemaid salvestatud väärtusi.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Kuvapõhised käsud:</title>
<varlistentry>
<term
><command
>lock</command
></term>
<listitem>
<para
>Kuva märgitakse lukustatuks. Kui &X-Server; selles olekus krahhi üle elab, ei ole automaatne taassisselogimine võimalik isegi siis, kui vastav võti on sisse lülitatud.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>unlock</command
></term>
<listitem>
<para
>Käsu <command
>lock</command
> vastand, mis võimaldab automaatset taassisselogimist.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>suicide</command
></term>
<listitem>
<para
>Parajasti töötav seanss surmatakse iga hinna eest. Automaatset taassisselogimist ette ei võeta, küll käivitatakse ajastatud "login"-käsk.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Kõigi soklite käsud</title>
<varlistentry>
<term
><command
>caps</command
></term>
<listitem>
<para
>Tagastab antud sokli omaduste nimekirja:</para>

<variablelist>
<varlistentry>
<term
><returnvalue
>&kdm;</returnvalue
></term>
<listitem>
<para
>Määratleb &kdm;-i või kui sama protokolli toetab veel mõni kuvahaldur, siis ka need</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>list</returnvalue
>, <returnvalue
>lock</returnvalue
>, <returnvalue
>suicide</returnvalue
>, <returnvalue
>login</returnvalue
></term>
<listitem>
<para
>Vastav käsk on toetatud</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>bootoptions</returnvalue
></term>
<listitem>
<para
>Käsk <command
>listbootoptions</command
> ja <option
>=</option
> <command
>shutdown</command
> on toetatud</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>shutdown &lt;nimekiri&gt;</returnvalue
></term>
<listitem>
<para
><command
>shutdown</command
> on toetatud ja lubatud nimekirjas olevatele kasutajatele (komadega eraldatud nimekiri). <returnvalue
>*</returnvalue
> tähendab kõiki autenditud kasutajaid.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke &lt;nimekiri&gt;</returnvalue
></term>
<listitem>
<para
>Nimekirjas olevad kasutajad võivad seiskamise peale sundida.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke</returnvalue
></term>
<listitem>
<para
>Kõik võivad seiskamise peale sundida.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>reserve &lt;arv&gt;</returnvalue
></term>
<listitem>
<para
>Kuvad on reserveeritud ja parajasti on neid saada tagastatud <returnvalue
>arv</returnvalue
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>list</command
> [<parameter
>all</parameter
> | <parameter
>alllocal</parameter
>]</term>
<listitem>
<para
>Tagastab töötavate seansside nimekirja. Vaikimisi näidatakse kõiki aktiivseid seansse. Parameetri <parameter
>all</parameter
> korral näidatakse ka passiivseid seansse. Parameetri <parameter
>alllocal</parameter
> korral näidatakse küll ka passiivseid seansse, kuid jäetakse välja kõik sisenevad võrguseansid.</para>
<para
>Igas seansikirjes on komadega eraldatult järgmised andmed:</para>
<itemizedlist>
<listitem
><para
>Kuva või TTY nimi</para
></listitem>
<listitem
><para
>VT nimi kohalike seansside korral</para
></listitem>
<listitem
><para
>Sisseloginud kasutaja nimi (tühi passiivsete ja väljuvate võrguühenduste korral)</para
></listitem>
<listitem
><para
>Seansi tüüp või <quote
>&lt;remote&gt;</quote
> väljuvate võrguseansside korral, tühi passiivsete seansside korral</para
></listitem>
<listitem
><para
>Lipu väli:</para>
<itemizedlist
><listitem
><para
><literal
>*</literal
> päritavale soklile kuuluva kuva korral</para
></listitem>
<listitem
><para
><literal
>!</literal
> seansi korral, mida päritav sokkel ei saa surmata</para
></listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<para
>Tulevikus võib välju lisanduda.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>reserve</command
> [<parameter
>aegumine sekundites</parameter
>]</term>
<listitem>
<para
>Reserveeritud sisselogimisakna käivitamine. Kui keegi ei logi ettenähtud aja jooksul (vaikimisi üks minut) sisse, eemaldatakse kuva. Kui kuval töötav seanss lõpetab, eemaldatakse kuva samuti.</para>
<para
>Lubatud ainult kohalike kuvade soklitele ja globaalsele soklile.</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>activate</command
> (<parameter
>vt</parameter
>|<parameter
>kuva</parameter
>)</term>
<listitem>
<para
>Lülitumine konkreetsele virtuaalsele terminalile (VT). VT võib määrata otse (&eg; <parameter
>vt3</parameter
>) või seda kasutava kuva järgi (eg; <parameter
>:2</parameter
>).</para>
<para
>Lubatud ainult kohalike kuvade soklitele ja globaalsele soklile.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>listbootoptions</command
></term>
<listitem>
<para
>Saadaolevate alglaadimisvõtmete nimekiri.</para>
<!--FIXME: "ok" list default current
    default and current are indices into the list and are -1 if unset or
    undeterminable. -->
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown</command
> (<parameter
>reboot</parameter
> | <parameter
>halt</parameter
>) [<parameter
>=<replaceable
>alglaadimisvalik</replaceable
></parameter
>] (<parameter
>ask</parameter
>|<parameter
>trynow</parameter
>|<parameter
>forcenow</parameter
>|<parameter
>schedule</parameter
>|<parameter
>start (<parameter
>-1</parameter
>|<parameter
>end (<parameter
>force</parameter
>|<parameter
>forcemy</parameter
>|<parameter
>cancel)</parameter
>)</parameter
>)</parameter
>)</term>
<listitem>
<para
>Süsteemi seiskamine kas taaskäivitamiseks või täielikuks väljalülitamiseks.</para>
<para
>OS-i valiku järgmiseks algkäivituseks saab valida nimekirjast, mille tagastab <command
>listbootoptions</command
>.</para>
<para
>Kuvapõhiste soklite soovitud seiskamine võetakse ette siis, kui antud kuval töötav seanss lõpetab, Sellise soovi peale võidakse avada dialoog, mis pärib kinnitust ja/või õigusi soovi elluviimiseks.</para>
<para
><parameter
>start</parameter
> on aeg, millele seiskamine ajastatakse. Kui see algab plussmärgiga, liidetakse see praegusele ajale. Null tähendab otsekohe.</para>
<para
><parameter
>end</parameter
> on viimane aeg, millal seiskamine tuleb ette võtta, kui töötab veel aktiivseid seansse. Kui alguses seisab plussmärk, liidetakse see praegusele ajale. -1 tähendab lõputut ootamist. Kui aeg on läbi ja ikka veel töötab mõni aktiivne seanss, võtab &kdm; ette midagi järgnevat:</para>
<itemizedlist>
<listitem
><para
><parameter
>cancel</parameter
> - seiskamisest loobumine</para
></listitem>
<listitem
><para
><parameter
>force</parameter
> - seiskamine iga hinna eest</para
></listitem>
<listitem
><para
><parameter
>forcemy</parameter
> - seiskamine sellele vaatamata, kas kõik aktiivsed seansid kuuluvad soovi esitanud kasutajale või mitte. Ainult kuvapõhiste soklite puhul.</para
></listitem>
</itemizedlist>
<para
><parameter
>start</parameter
> ja <parameter
>end</parameter
> on määratud sekunditest alates &UNIX; epohhist.</para>
<para
><parameter
>trynow</parameter
> on sama, mis <parameter
>0 0 cancel</parameter
>, <parameter
>forcenow</parameter
> sama, mis <parameter
>0 0 force</parameter
> ja <parameter
>schedule</parameter
> sama, mis <parameter
>0 -1</parameter
>.</para>
<para
><parameter
>ask</parameter
> üritab seiskamise kohe ette võtta ja suhtleb kasutajaga, kui veel mõni aktiivse seanss peaks töötama. Ainult kuvapõhistele soklitele.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown cancel</command
> [<parameter
>local</parameter
>|<parameter
>global</parameter
>}</term>
<listitem>
<para
>Ajastatud seiskamise tühistamine. Globaalne sokkel tühistab alati parajasti ootel seiskamise, kuvapõhised soklid vaikimisi ainult enda soovitud seiskamise.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown status</command
></term>
<listitem>
<para
>Tagastab seiskamiste kohta käiva info.</para>
<para
>Kirjetes esinevad komaga eraldatult järgmised andmed:</para>
<itemizedlist>
<listitem>
<para
>(<returnvalue
>global</returnvalue
>|<returnvalue
>local</returnvalue
>) - ootel seiskamine. Kohalik kirje tagastatakse ainult kuvapõhise sokli korral.</para>
</listitem>
<listitem
><para
>(<returnvalue
>halt</returnvalue
>|<returnvalue
>reboot</returnvalue
>)</para
></listitem>
<listitem
><para
>start</para
></listitem>
<listitem
><para
>end</para
></listitem>
<listitem
><para
>("ask"|"force"|"forcemy"|"cancel")</para
></listitem>
<listitem
><para
>Soovi avaldanud kasutaja ID arvuna (-1 globaalse sokli korral)</para
></listitem>
<listitem
><para
>Järgmisel alglaadimisel käivitatav OS või "-", kui see puudub</para
></listitem>
</itemizedlist>
<para
>Tulevikus võib välju lisanduda.</para>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</varlistentry>
</variablelist>
<para
>Sokleid saab kasutada kahel moel:</para>
<itemizedlist>
<listitem>
<para
>Luues nende otsese ühenduse. FifiDir eksporditakse kui $<envar
>DM_CONTROL</envar
>; kuvapõhise sokli nime saab tuletada muutujast $<envar
>DISPLAY</envar
>.</para>
</listitem>
<listitem>
<para
>Kasutades käsku <command
>kdmctl</command
> (&eg; shelliskriptiga). Täpsemat infot annab käsk <command
>kdmctl</command
> <option
>-h</option
>.</para>
</listitem>
</itemizedlist>

<para
>Toome näite bash'i skriptist <quote
>taaskäivitus FreeBSD-sse</quote
>:</para>

<programlisting
>if kdmctl | grep -q shutdown; then
  IFS=$'\t'
  set -- `kdmctl listbootoptions`
  if [ "$1" = ok ]; then
        fbsd=$(echo "$2" | tr ' ' '\n' | sed -ne 's,\\s, ,g;/freebsd/I{p;q}')
        if [ -n "$fbsd" ]; then
      kdmctl shutdown reboot "=$fbsd" ask &gt; /dev/null
        else
          echo "FreeBSD boot unavailable."
        fi
  else
    echo "Boot options unavailable."
  fi
else
  echo "Cannot reboot system."
fi</programlisting>

</sect1>
<!-- Riddell: so there's no GUI you need to edit kdmrc to say UseTheme=true and Theme=/path/to/theme.xml
[13:31] <Riddell
> jriddell.org/programs has an example theme 

<sect1 id="dm-themes">
<title
>Themes</title>

&kdm; has limited support for desktop manager themes.  You may enable them
by adding <userinput
>UseTheme=true</userinput
> to <filename
>kdmrc</filename>
and <userinput
>Theme=/path/to/theme.xml</userinput
>.  
</sect1>
-->
</chapter>

<chapter id="Other-Information">
<title
>Muud infoallikad</title>

<para
>Kuna &kdm; on &xdm;-i järeltulija, võib kasulikku tausta leida <ulink url="man:xdm"
>&xdm;-i man-lehekülgedelt</ulink
>. X'iga seotud probleemide korral uuri <ulink url="man:X"
>X'i</ulink
> ja <ulink url="man:startx"
>startx-i</ulink
> man-lehekülgi. Kui sul tekib &kdm; suhtes küsimusi, mis ei ole käesolevas käsiraamatus kajastamist leidnud, kasuta ära tõika, et &kdm;-i levitatakse vastavalt <abbrev
>&GNU;</abbrev
> Üldisele Avalikule Litsentsile ning uuri lähtekoodi. </para>

</chapter>


<chapter id="credits"
><title
>Autorid ja litsents</title>

<para
>&kdm; on arendatud rakendusest &xdm;, mille koodi ta osaliselt kasutab. Xdm-i autoriõigus (C): Keith Packard, MIT X Consortium.</para>

<para
>&kdm; 0.1 kirjutas &Matthias.Ettrich;. Järgmised versioonid kuni &kde; 2.0.x-ni kirjutas &Steffen.Hansen;. Osa uusi võimalusi &kde; 2.1.x juures ning põhjalik ümberkirjutamine &kde; 2.2.x tarbeks on pärit &Oswald.Buddenhagen;ilt.</para>

<para
>&kdm; koodi muude osade autoriõigus kuulub nende autoritele ning on litsenseeritud vastavalt <ulink url="common/gpl-license.html"
>&GNU; Üldisele Avalikule Litsentsile</ulink
>. Kõigil on lubatud &kdm;-i muuta ja muudetud varianti levitada tingimusel, et autorite nimed on ära mainitud.</para>

<para
>&kdm; nõuab &Qt; teeki, mille autoriõigus kuulub Troll Tech AS-ile.</para>

<para
>Dokumentatsiooni autorid: <itemizedlist>

<listitem
><para
>Dokumentatsiooni kirjutas &Steffen.Hansen; <email
>stefh@dit.ou.dk</email
></para
></listitem>

<listitem
><para
>Dokumentatsiooni laiendas Gregor Zumstein <email
>zumstein@ssd.ethz.ch</email
>. Viimane uuendus 09.08.1998</para
></listitem>

<listitem
><para
>Dokumentatsiooni vaatas &kde; 2 tarbeks üle &Neal.Crook; &Neal.Crook.mail;. Viimane uuendus 06.08.2000</para
></listitem>

<listitem
><para
>Dokumentatsiooni vaatas &kde; 2.2 tarbeks üle ja laiendas &Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;. Viimane uuendus 08.2001</para
></listitem>

</itemizedlist
></para>

<para
>Dokumentatsiooni autoriõigus: &Steffen.Hansen;, Gregor Zumstein, &Neal.Crook; ja &Oswald.Buddenhagen;. Käsiraamatusse on kaasatud ka märkimisväärseid osi &xdm;-i manuaalilehekülgedelt, mille autoriõigus &copy;: Keith Packard.</para>
&underFDL; &underGPL; </chapter>

<glossary id="glossary">
<title
>Sõnastik</title>

<glossentry id="gloss-greeter">
<glossterm
>tervitus (greeter)</glossterm>
<glossdef
><para
>Tervitus on sisselogimisdialoog, &ie; see &kdm;-i osa, mida kasutaja näeb.</para>
</glossdef>
</glossentry>

<glossentry>
<glossterm id="gloss-entropy"
>entroopia</glossterm>
<glossdef
><para
>Süsteemi entroopia mõõdab selle ennustamatust. Seda kasutatakse juhuarvude genereerimisel.</para
></glossdef>
</glossentry>

</glossary>
</book>
<!--
Local Variables:
mode: xml
sgml-omittag: nil
sgml-shorttag: t
End:
-->

