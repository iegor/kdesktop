<chapter id="indi">
<title
>Astronoomiariista juhtimine <acronym
>INDI</acronym
> abil</title>
<indexterm
><primary
>INDI juhtimiskeskus</primary>
<secondary
>Ülevaade</secondary>
</indexterm>

<para
>KStars pakub liidest astronoomiliste instrumentide seadistamiseks ja juhtimiseks <acronym
><link linkend="what-is-indi"
>INDI</link
></acronym
> protokolli vahendusel.</para>

<para
><acronym
>INDI</acronym
> protokoll toetab paljusid astronoomilisi instrumente, ka näiteks CCD kaameraid ja fokuseerijaid. Praegu toetab KStars järgmisi seadmeid:</para>

<table id="device-table" pgwide="1" frame="all">
<title
>Toetatud teleskoobid</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>Teleskoop</entry>
<entry
>Seadme draiver</entry>
<entry
>Versioon</entry>
</row>
</thead>
<tbody>
<row>
<entry
>LX200 8"-12" Classic</entry>
<entry
>lx200classic</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>Autostari teleskoobid</entry>
<entry
>lx200autostar</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>LX200 GPS 8"-16"</entry>
<entry
>lx200gps</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>LX200 Classic 16"</entry>
<entry
>lx200_16</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>NexStar GPS, CGE, AS-GT</entry>
<entry
>celestrongps</entry>
<entry
>0.9</entry>
</row>
<row>
<entry
>New GT, NexStar 5i/8i</entry>
<entry
>celestrongps</entry>
<entry
>0.9</entry>
</row>
<row>
<entry
>Takahashi Temma</entry>
<entry
>temma</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Astro-Physics AP</entry>
<entry
>apmount</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Astro-Electronic FS-2</entry>
<entry
>lx200basic</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Argo Navis</entry>
<entry
>lx200basic</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Losmandy Gemini</entry>
<entry
>lx200basic</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Mel Bartels Controllers</entry>
<entry
>lx200basic</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Sky Commander</entry>
<entry
>skycommander</entry>
<entry
>0.1</entry>
</row>
</tbody>
</tgroup>
</table>
<table id="focuser-table" pgwide="1" frame="all">
<title
>Toetatud fokuseerijad</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>Fokuseerija</entry>
<entry
>Seadme draiver</entry>
<entry
>Versioon</entry>
</row>
</thead>
<tbody>
<row>
<entry
>Meade LX200GPS Microfocuser</entry>
<entry
>lx200gps</entry>
<entry
>0.9</entry>
</row>
<row>
<entry
>Meade 1206 Primary Mirror Focuser</entry>
<entry
>lx200generic</entry>
<entry
>0.9</entry>
</row>
<row>
<entry
>JMI NGF seeria</entry>
<entry
>lx200generic</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>JMI MOTOFOCUS</entry>
<entry
>lx200generic</entry>
<entry
>0.1</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="ccd-table" pgwide="1" frame="all">
<title
>Toetatud CCD-d</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>CCD</entry>
<entry
>Seadme draiver</entry>
<entry
>Versioon</entry>
</row>
</thead>
<tbody>
<row>
<entry
>Finger Lakes Instrumentsi CCD-d</entry>
<entry
>fliccd</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>Santa Barbara Instrumenti CCD-d</entry>
<entry
>sbigccd</entry>
<entry
>0.1</entry>
</row>
<row>
<entry
>Apogee CCD-d</entry>
<entry
>apogee_ppi, apogee_pci, apogee_isa, apogee_usb</entry>
<entry
>0.1</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="filter-table" pgwide="1" frame="all">
  <title
>Toetatud ratasfiltrid</title>
  <tgroup cols="3" colsep="1" rowsep="1">
    <thead>
      <row>
	<entry
>Ratasfilter</entry>
	<entry
>Seadme draiver</entry>
	<entry
>Versioon</entry>
      </row>
    </thead>
    <tbody>
      <row>
	<entry
>FLI ratasfiltrid</entry>
	<entry
>fliwheel</entry>
	<entry
>0.9</entry>
      </row>
    </tbody>
  </tgroup>
  </table>
  
<table id="video-table" pgwide="1" frame="all">
<title
>Toetatud veebikaamerad</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>Veebikaamera</entry>
<entry
>Seadme draiver</entry>
<entry
>Versioon</entry>
</row>
</thead>
<tbody>
<row>
<entry
>Iga Video4Linuxiga ühilduv seade</entry>
<entry
>v4ldriver</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>Philipsi veebikaamera</entry>
<entry
>v4lphilips</entry>
<entry
>1.0</entry>
</row>
<row>
<entry
>Meade Lunar Planetary Imager</entry>
<entry
>meade_lpi</entry>
<entry
>0.1</entry>
</row>

</tbody>
</tgroup>
</table>

<sect1 id="indi-kstars-setup">
<title
>INDI seadistamine</title>
<indexterm
><primary
>INDI</primary>
<secondary
>Seadistamine</secondary>
</indexterm>
<para
>KStars suudab tänu <link linkend="what-is-indi"
>INDI</link
> server-kliendi arhitektuurile hiilgavalt juhtida nii kohalikke või võrguseadmeid. INDI seadmed võivad töötada kolmes erinevas režiimis:</para>

<orderedlist>
<listitem
><para
>Kohalik: kohalik režiim on levinuim ning selles juhitakse kohalikku seadet (&ie; sinu arvutiga ühendatud astronoomiariista).</para
></listitem>
<listitem
><para
>Server: selles režiimis luuakse konkreetsele seadmele INDI server ning jäädakse ootama kaugklientide ühendumist. Serveri seadmetega iseenesest midagi ette võtta ei saa - neid on võimalik ainult tööle panna või välja lülitada.</para
></listitem>
<listitem
><para
>Klient: selles režiimis saab võtta ühendust INDI serveriga kuskil võrgus. Kaugseadmeid saab juhtida täpselt samamoodi nagu kohalikke seadmeid.</para
></listitem>
</orderedlist>

<para
>Kohalikku seadet juhtida, INDI serverit tööle panna ning ühenduda kaugkliendiga saab menüükäsku <guimenuitem
>Seadmehaldur</guimenuitem
> (selle leaib menüüst <guimenu
>Seadmed</guimenu
>) kasutades.</para>

<para
>Selline näeb välja <guilabel
>seadmehaldur</guilabel
>:</para>

<screenshot>
<screeninfo
>Seadme draiverite käivitamine</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="devicemanager.png" format="PNG"/>
</imageobject>
<textobject>
<phrase
>Seadme draiverite käivitamine</phrase>
</textobject>
</mediaobject>
</screenshot>

<para
>Seadmete käivitamiseks sirvi seadmepuud, vali vajalik seade ning klõpsa nupule <guibutton
>Käivita teenus</guibutton
>. Valida on võimalik ka töörežiim, milleks võib olla kohalik või server, nagu eespool mainitud.</para>

<para
>Kaugseadmete juhtimise kohta vaata lähemalt <link linkend="indi-remote-control"
>kaugseadmete juhtimisest</link
> kõnelevat osa.</para>
</sect1>

<sect1 id="indi-telescope-setup">
<title
>Teleskoobi seadistamine</title>
<indexterm
><primary
>INDI</primary>
<secondary
>Seadistamine</secondary>
</indexterm>

<para
>Enamik teleskoope on varustatud kaugjuhtimist võimaldava <hardware
>RS232</hardware
> liidesega. Ühenda oma teleskoobi RS232 pistik arvuti <hardware
>jada-/USB</hardware
> porti. Traditsiooniliselt ühendatakse RS232 arvuti jadaporti, kuid paljud uuemad sülearvutid on jadapordist <hardware
>USB/FireWire</hardware
> pordi kasuks loobunud, mistõttu nende korral tuleks kasutada jadaport->USB adapterit.</para>

<para
>Pärast teleskoobi ühendamist jada-/USB porti lülita teleskoop sisse. On <emphasis
>äärmiselt</emphasis
> soovitatav laadida alla ja paigaldada teleskoobi kontrolleri uusim püsivara (firmware).</para>

<para
>Enne kasutamist tuleb teleskoop korralikult monteerida. Kuidas seda teha, peaks olema kirjas teleskoobi käsiraamatus.</para>

<para
>&kstars; peab enne teleskoobiga ühendumist kontrollima aega ja asukohta. See tagab korrektse jälgimise ning teleskoobi ja &kstars;i sünkroonsuse. Järgnevad sammud aitavad sul võtta ühendust arvutiga ühendatud seadmega. Seda, kuidas võtta ühendust ja juhtida võrguseadmeid, vaata <link linkend="indi-remote-control"
>võrguseadmete juhtimisele</link
> pühendatud osast.</para>

<para
>Teleskoobi seadistamisnõustaja abil saab kogu vajaliku info märksa lihtsamalt sisestada. See uurib ka automaatselt porte, et leida ühendatud teleskoobid. Nõustaja saab käivitada menüükäsuga <guimenuitem
>Teleskoobi seadistamisnõustaja</guimenuitem
>, mille leiab menüüst <guimenu
>Seadmed</guimenu
>.</para>

<para
>Kohaliku teleskoobi ühendamiseks võta aga palun ette järgmised sammud:</para>

<orderedlist>
<listitem
><para
>Määra oma geograafiline asukoht. Ava aken <guilabel
>Geograafilise asukoha määramine</guilabel
>. Selleks vali käsk <guimenuitem
>Geograafiline...</guimenuitem
> menüüs <guimenu
>Seadistused</guimenu
> või <guiicon
>gloobus</guiicon
>e ikoon tööriistaribal või kasuta klahvikombinatsiooni <keycombo action="simul"
>&Ctrl;<keycap
>g</keycap
></keycombo
>.</para>
</listitem>
<listitem
><para
>Määra kohalik aeg ja kuupäev. Aega ja kuupäeva saab muuta, kui valida käsk <guimenuitem
>Sea aeg...</guimenuitem
> menüüst <guimenu
>Aeg</guimenu
> või klõpsata tööriistaribal ikooni <guiicon
>Aeg</guiicon
>. Aken <guilabel
>Aja määramine</guilabel
> kasutab &kde; tavapärast kuupäeva valimise elementi, lisaks sellele on seal kolm kerimiskasti tundide, minutite ja sekundite määramiseks. Kui sul tekib vajadus seada kell parajasti tegelikult kehtivale ajale, vali käsk <guimenuitem
>Sea kell hetkele Praegu</guimenuitem
> menüüst <guimenu
>Aeg</guimenu
>.</para>
</listitem>
<listitem>
<para
>Klõpsa menüül <guimenu
>Seadmed</guimenu
> ja vali <guimenuitem
>Seadmehaldur</guimenuitem
>.</para>
</listitem>
<listitem>
<para
>Vali veerus <guilabel
>Seade</guilabel
> oma teleskoobi mudel.</para>
</listitem>
<listitem>
<para
>Klõpsa seadmele hiire <mousebutton
>parema</mousebutton
> nupuga ja vali käsk <guilabel
>Käivita teenus</guilabel
>.</para>
</listitem>
<listitem>
<para
>Seadmehalduri dialoogi sulgemiseks klõpsa nupule <guibutton
>OK</guibutton
>.</para>
</listitem>
</orderedlist>

<note id="geo-time-note">
<title
>Korduvad seadistused</title>
<para
>Geograafilist asukohta ja aega pole vaja määrata igal teleskoobiga ühendumisel. Neid seadistusi kohanda ainult siis, kui seda on tõesti vaja.</para
></note>

<para
>Nüüd oled valmis kasutama seadme võimalusi. &kstars; lubab seda teha kahe teleskoopide juhtimist võimaldava graafilise kasutajaliidese abil:</para>

<orderedlist>
<title
>Teleskoobi juhtimine</title>
<listitem>
<para
><guilabel
>Juhtimine taevakaardilt</guilabel
>: iga seade, mis on <guilabel
>seadmehaldur</guilabel
>is käivitatud, on näha ka hüpikmenüüs, kus saab selle mitmeid aspekte juhtida. Otse taevakaardilt on võimalik anda käske <command
>Liiguta</command
>, <command
>Sünkroniseeri</command
> või <command
>Jälgi</command
>. </para>
<para
>Selline näeb välja sisselülitatud seadme LX200 Classic hüpikmenüü:</para>
<screenshot>
<screeninfo
>Seadmete juhtimine taevakaardilt</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="skymapdevice.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>

<listitem>
<para
><guilabel
>INDI juhtimiskeskus</guilabel
>: see võimaldab kasutajal pruukida kõiki seadme pakutavaid võimalusi. </para>

<para
>Aken on jagatud kolmeks põhiosaks:</para>
<itemizedlist>
<listitem>
<para
><guilabel
>Seadmete kaardid</guilabel
>: iga aktiivne seade võtab INDI juhtimiskeskuses enda alla ühe kaardi. Korraga võib töötada ka mitu seadet, ilma et nad üksteist segaks. </para>
</listitem>
<listitem>
<para
><guilabel
>Omaduste vaade</guilabel
>: omadused on INDI arhitektuuri põhielement. Iga seadme määrab omaduste komplekt, mille abil kliendiga suheldakse. Omadus on näiteks teleskoobi positsioon. Semantiliselt sarnased omadused on tavaliselt koondatud loogiliste blokkidesse või rühmadesse. </para>
</listitem>
<listitem>
<para
><guilabel
>Logiväljad</guilabel
>: seadmed annavad enda staatusest teada ja võtavad vastu käske INDI teateid saates. Igal seadmel on oma logi ning kõigil seadmetel on üks ühine logiaken. Seade saadab teate tavaliselt ainult oma draiverile, kuid draiveril on lubatud vajaduse korral saata üldteateid. </para>
</listitem>
</itemizedlist>
<screenshot>
<screeninfo
>INDI juhtimiskeskus</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="indicontrolpanel.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
</orderedlist>

<para
>Soovi ja vajaduse korral saab mõlemat liidest üheaegselt ja korraga kasutada. Tegevused <guilabel
>taevakaardil</guilabel
> peegelduvad automaatselt <guilabel
>INDI juhtimiskeskus</guilabel
>es ja vastupidi.</para>

<para
>Teleskoobi ühendamiseks valida seadme hüpikmenüüst käsk <guimenuitem
>Ühenda</guimenuitem
> või siis klõpsata nupule <guibutton
>Ühenda</guibutton
> seadme kaardil <guilabel
>INDI juhtimiskeskus</guilabel
>es.</para>

<important
><para
>Vaikimisi püüab KStars ühenduda porti <constant
>/dev/ttyS0</constant
>. Ühenduspordi muutmiseks vali menüüst <guimenu
>Seadmed</guimenu
> <guilabel
>INDI juhtimiskeskus</guilabel
> ning muuda porti vastava seadme kaardil.</para
></important>

<para
>&kstars; kohandab teleskoobi pikkus- ja laiuskraadi ning aja automaatselt vastavaks &kstars;i väärtustele. Sellise uuendamise saab lubada või keelata menüüst <guimenu
>Seadmed</guimenu
> käsuga <guimenuitem
>INDI seadistamine</guimenuitem
> avatavas dialoogis. </para>

<para
>Kui &kstars; saab teleskoobiga edukalt ühenduse, hangib ta teleskoobilt <abbrev
>OT</abbrev
> ja <abbrev
>käände</abbrev
> ning näitab taevakaardil ristikesega, kuhu teleskoop on suunatud.</para>

<note id="indi-sync">
<title
>Teleskoobi sünkroniseerimine</title>
<para
>Kui teleskoop on enne ühendamist suunatud näiteks Veegale, siis peaks ristike taevakaardil samuti Veegale fokuseeruma. Kui see nii ei ole, klõpsa taevakaardil Veega peal hiire <mousebutton
>parema</mousebutton
> nupuga ning vali teleskoobimenüüst käsk <command
>Sünkroniseeri</command
>. See annab teleskoobile korralduse muuta oma sisekoordinaadid Veegale vastavaks ning nüüd peaks ka rist otse Veega peale liikuma. </para>
</note>

<para
>Ja ongi kõik! Nüüd võid teleskoobiga taevalaotust uurima asuda.</para>

<warning>
<title
>HOIATUS</title>
<para
>Ära vaata kunagi teleskoobiga otse Päikesesse. See võib tekitada parandamatut kahju nii sinu silmadele kui ka instrumentidele.</para>
</warning>
</sect1>

<sect1 id="indi-other-setup">
<title
>CCD ja videohõive seadistamine</title>
<indexterm
><primary
>CCD video juhtimine</primary>
<secondary
>Seadistamine</secondary>
</indexterm>

<para
>KStars toetab järgmisi pildistamisseadmeid:</para>
<itemizedlist>
  <listitem
><para
>Finger Lakes Instrumentsi CCD-d</para
></listitem>
  <listitem
><para
>Apogee CCD-d: toetatud on paralleel-, ISA-, PCI- ja USB-režiim. Vastavalt seadme režiimile tuleb paigaldada <ulink url="http://indi.sf.net/apogee_kernel.tar.gz"
>Apogee kerneli draiverid</ulink
> (USB-režiimi korral on vajalik ainult libusb).</para
></listitem>
  <listitem
><para
><ulink url="http://www.exploits.org/v4l/"
>Video4Linuxiga</ulink
> ühilduvad seadmed. Toetatud on ka Philipsi veebikaamera täiendavad võimalused.</para
></listitem>
</itemizedlist>

<para
>CCD-sid ja videohõiveriistu saab käivitada <guimenuitem
>seadmehaldur</guimenuitem
>is, mille saab avada menüüst <guimenu
>Seadmed</guimenu
>. Nagu muudegi INDI seadmete korral, saab mõningaid riista omadusi juhtida otse taevakaardilt. Täielikult saab seadet juhtida <guimenuitem
>INDI juhtimiskeskus</guimenuitem
>e vahendusel.</para>

<para
>Kaadrite hõive standardvorming on FITS. Kui kaader on tabatud ja alla laetud, on seda võimalik vaadata KStarsi <link linkend="tool-fitsviewer"
>FITS-i näitajas</link
>. Kaadrite jada hõiveks kasuta võimalust <guimenuitem
>Taeva pildistamine</guimenuitem
>, mille leiab menüüst <guimenu
>Seadmed</guimenu
>. Seda kirjet saab kasutada ainult siis, kui oled ühenduses mõne vastava seadmega.</para>

<important>
<para
>FLICCD draiver nõuab korralikuks toimimiseks administraatori (root) õiguseid. Arvesta, et draiveri kasutamist administraatori õigustes peetakse turvariskiks.</para>
</important>
</sect1>

<sect1 id="indi-capture">
<title
>Taeva pildistamine</title>
<indexterm
><primary
>Hõive</primary>
<secondary
>Pilt</secondary>
</indexterm>

<para
>Taeva pildistamise tööriista saab kasutada kaadrite hankimiseks kaameratest ja CCD-dest interaktiivselt ja hulgi. Lisaks saab valida, millist filtrit ja kas üldse kaadrite jaoks kasutada. Seda tööriista saab kasutada ainult siis, kui on olemas ühendus mõne pildistamisseadmega.</para
> 

<screenshot>
<screeninfo
>Taeva pildistamine</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="indicapture.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>

<para
>Ülaltoodud pildil on näha näitlik pildistamisseanss. Tööriist pakub järgmisi valikuid:</para>
<itemizedlist>
  <listitem
><para
>Kaamera/CCD</para>
     <itemizedlist>
         <listitem
><para
><option
>Seade:</option
> pildistamisseade.</para
></listitem>
         <listitem
><para
><option
>Prefiks:</option
> see lisatakse iga kaadri failinime ette.</para
></listitem>
         <listitem
><para
><option
>Säritus:</option
> iga kaadri säritusaeg sekundites.</para
></listitem>
         <listitem
><para
><option
>Arv:</option
> kaadrite arv.</para
></listitem>
         <listitem
><para
><option
>Viivitus:</option
> kaadritevaheline intervall sekundites.</para
></listitem>
         <listitem
><para
><option
>ISO-8601 ajatempel:</option
> failinimele lisatakse ISO-8601 ajatempel (nt. pilt_01_20050427T09:48:05).</para
></listitem>
     </itemizedlist>
    </listitem>
   <listitem
><para
>Filter</para>
      <itemizedlist>
          <listitem
><para
><option
>Seade:</option
> filtriseade.</para
></listitem>
          <listitem
><para
><option
>Filter:</option
> filtri pesa. Pesanumbrile saab omistada värviväärtused dialoogis <link linkend="indi-configure"
>INDI seadistamine</link
> (nt. Pesa 1 = punane, Pesa 2 = sinine jne).</para
></listitem
>          
       </itemizedlist>
   </listitem>
</itemizedlist>

<para
>vajalike valikute langetamise järel saab alustada pildistamisega, klõpsates nupule <guibutton
>Käivita</guibutton
>. Pildistamise saab peatada klõpsuga nupule <guibutton
>Peata</guibutton
>. Kõik kaadrid salvestatakse FITS-i vaikekataloogi, mille saab määrata dialoogis <link linkend="indi-configure"
>INDI seadistamine</link
>.</para>

<para
>Kui sul on pildistamisele suuremad nõuded või pead järgima mingeid väga kindlaid nõudeid, on soovitatav luua just sinu vajadusi rahuldav skript, milleks saab kasutada menüüst <guimenu
>Tööriistad</guimenu
> leitavat <link linkend="tool-scriptbuilder"
>skriptiloojat</link
>.</para>
</sect1>

<sect1 id="indi-configure">
<title
>INDI seadistamine</title>
<indexterm
><primary
>Seadistamine</primary>
<secondary
>INDI</secondary>
</indexterm>

<para
>INDI seadistamise dialoogis saab muuta INDI <emphasis
>kliendipoolseid</emphasis
> seadistusi. Aken on jagatud neljaks kategooriaks: üldine, seadmete automaatne uuendamine, kuva ja ratasfilter:</para>

 <itemizedlist>
   <listitem
><para
>Üldine</para>
      <itemizedlist>
         <listitem
><para
><option
>FITS-i vaikekataloog:</option
> kataloog, kuhu salvestatakse kõik FITS-i pildid. Kui kataloogi ei määrata, salvestatakse need keskkonnamuutujaga $HOME määratud asukohta.</para
></listitem>
         <listitem
><para
><option
>FITS-i näidatakse hõive korral automaatselt:</option
> sisselülitamisel näitab KStars pildistatud FITS-i KStarsi <link linkend="tool-fitsviewer"
>FITS-i näitajas</link
>. Kui kasutad <link linkend="indi-capture"
>taeva pildistamise</link
> tööriista, salvestatakse sõltumata selle valiku sisse- või väljalülitamisest kõik kaadrid ikkagi kettale.</para
></listitem>
         <listitem
><para
><option
>Teleskoobi port:</option
> teleskoobi vaikimisi port. Ühendumisel kohaliku või võrguteleskoobiga teatab KStars automaatselt teleskoobi pordiks siinmääratud vaikepordi.</para
></listitem>
         <listitem
><para
><option
>Videoport:</option
> vaikimisi videoport. Ühendumisel kohaliku või võrguvideoteenusega teatab KStars automaatselt veebikaamera seadme pordiks siinmääratud vaikepordi.</para
></listitem>
      </itemizedlist>
   </listitem>
   <listitem
><para
>Seadmete automaatne uuendamine</para>
    <itemizedlist>
       <listitem
><para
><option
>Aeg:</option
> teleskoobi kuupäeva ja kellaaega uuendatakse ühendumisel (kui see on toetatud).</para
></listitem>
       <listitem
><para
><option
>Geograafiline asukoht:</option
> teleskoobi geograafilise asukoha infot (kehtiv pikkus- ja laiuskraad) uuendatakse ühendumisel (kui see on toetatud).</para
></listitem>
    </itemizedlist>
   </listitem>
   <listitem
><para
>Kuva</para>
    <itemizedlist>
     <listitem
><para
><option
>Seadme ristikujuline sihtmärk:</option
> märkimisel näitab KStars taevakaardil teleskoobi ristikujulist sihtmärki. Seda näidatakse teleskoobi eduka ühendamise järel ning seda uuendatakse perioodiliselt. Ristiku kõrval näidatakse teleskoobi nime. KStars näitab üht ristikut iga ühendatud teleskoobi kohta. Ristiku värvi muutmiseks ava dialoog <link linkend="viewops"
>KStarsi seadistamine</link
>, vali kaart <guilabel
>Värvid</guilabel
> ja määra <emphasis
>sihtmärgi indikaatorile</emphasis
> meelepärane värv.</para
></listitem>
     <listitem
><para
><option
>INDI teated olekuribal:</option
> märkimisel näitab KStars INDI olekuteateid KStarsi olekuribal.</para
></listitem>
    </itemizedlist>
   </listitem>
  <listitem
><para
>Ratasfilter: värviväärtuste omistamine ratasfiltri pesadele (nt. Pesa 0 punane, Pesa 1 sinine jne.). Värvikoode saab omistada kuni kümnele filtripesale (0 kuni 9). Värvikoodi omistamiseks vali liitkastist pesa number ja kirjuta vajalik värvikood tekstiväljale. Tee seda kõigi pesade korral, millele soovid värvi omistada, ning klõpsa seejärel nupule OK.</para>
  </listitem>
  </itemizedlist>

</sect1>

<sect1 id="indi-concepts">
<title
>INDI põhimõtted</title>
<indexterm
><primary
>Teleskoobi juhtimine</primary>
<secondary
>Põhimõtted</secondary>
</indexterm>

<para
>INDI tähtsaimaks põhimõtteks on asjaolu, et seadmed suudavad ennast ise kirjeldada. Selleks kasutatakse XML-i, mis kirjeldab üldist hierarhiat, mis esindab nii kanoonilisi kui mittekanoonilisi seadmeid. INDI-s on igal <emphasis
>seadmel</emphasis
> vähemalt üks <emphasis
>omadus</emphasis
>. Iga <emphasis
>omadus</emphasis
> võib ühendada endas mitu <emphasis
>elementi</emphasis
>. INDI omadused jagunevad nelja tüüpi:</para>
<itemizedlist>
<listitem
><para
>Tekstiomadus.</para
></listitem>
<listitem
><para
>Arvomadus.</para
></listitem>
<listitem
><para
>Lülitamisomadus (graafilises liideses nupud ja märkekastid).</para
></listitem>
<listitem
><para
>Valgusomadus (graafilises liideses värvilised LED-nupud).</para
></listitem>
</itemizedlist>

<para
>Nii näiteks on kõigil INDI-seadmetel standardne <emphasis
>lülitamisomadus</emphasis
> CONNECTION. Omadusel CONNECTION on kaks elementi: lülitid CONNECT (ühendamine) ja DISCONNECT (lahutamine). KStars parsib omaduste üldist XML-kirjeldust ning loob selle põhjal graafilise liidese, mida kasutajal on hõlpus käsitseda.</para>

<para
>INDI juhtimiskeskus pakub võimalust seadistada paljusid omadusi, mida otse taevakaardilt teha ei ole võimalik. Pakutavad võimalused võivad vastavalt seadmele erineda. Kuid kõigil neil on teatud ühisjooned, mis määravad, kuiidas neid näidatakse ja kasutatakse:</para>

<itemizedlist>
<listitem>
<para
>Õigused: kõik omadused on kas ainult lugemiseks, ainult kirjutamiseks või nii lugemiseks kui kirjutamiseks. Viimase näiteks on teleskoobi otsetõus. Sul on võimalik sisestada uus otsetõus ning vastavalt parajasti valitsevatele seadistustele teleskoop kas liigutab ennast vajalikku asendisse või sünkroniseerib end uute andmetega. Kui teleskoop liigub, siis muutub ka otsetõus, mis saadetakse tagasi kliendile.</para>
</listitem>
<listitem>
<para
>Staatus: iga omaduse ees paikneb staatuse indikaator (ümmargune LED). Igal omadusel on oma staatus ja sellele vastav värv:</para>
<table frame="top"
><title
>INDI staatusevärvid</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>Staatus</entry>
<entry
>Värv</entry>
<entry
>Kirjeldus</entry>
</row>
</thead>
<tbody>
<row>
<entry
>Jõude</entry>
<entry
>Hall</entry>
<entry
>Seade ei tee antud omaduse suhtes parajasti mitte midagi</entry>
</row>
<row>
<entry
>OK</entry>
<entry
>Roheline</entry>
<entry
>Viimane selle omaduse suhtes ette võetud toiming oli edukas ning see on veel aktiivne</entry>
</row>
<row>
<entry
>Hõivatud</entry>
<entry
>Kollane</entry>
<entry
>Omaduse suhtes parajasti võetakse midagi ette</entry>
</row>
<row>
<entry
>Hoiatus</entry>
<entry
>Punane</entry>
<entry
>Omadus on kriitilises olukorras, midagi on vaja kohe ette võtta</entry>
	</row>
	</tbody>
</tgroup>
</table>

<para
>Seadme draiver uuendab omaduse staatust vajaduse korral reaalajas. Kui näiteks teleskoop liigub parajasti uuele sihtmärgile, siis on omadused OT ja kääne tähistatud märkega <guilabel
>Hõivatud</guilabel
>. Kui liikumine lõpeb edukalt, saab omadus väärtuseks <guilabel
>OK</guilabel
>.</para>
</listitem>
<listitem>
<para
>Kontekst: numbrilised omadused tunnustavad ja suudavad töödelda numbreid kahes vormingus: kümnendarvuna ja kuuekümnend- ehk tunnisüsteemis. Viimane on mugav näiteks aja või ekvaatoriliste ja geograafiliste koordinaatide väljendamisel. Millist vormingut kasutada, on puhtalt sinu otsustada. Järgnevad arvud on igas mõttes võrdsed (vähemalt rakendusele):</para>
<itemizedlist>
<listitem
><para
>-156.40</para
></listitem>
<listitem
><para
>-156:24:00</para
></listitem>
<listitem
><para
>-156:24</para
></listitem>
</itemizedlist>
</listitem>
<listitem>
<para
>Aeg: kogu INDI suhtluse standardaeg on maailmaaeg UTC, mis ISO 8601 kohaselt on väljendatud kujul YYYY-MM-DDTHH:MM:SS. &kstars; vahendab korrektse maailmaaja seadme draiverile automaatselt. Aja automaatse uuendamise saab sisse või välja lülitada <guimenuitem
>INDI seadistamise</guimenuitem
> dialoogist, mille saab avada vastava käsuga menüüst <guimenu
>Seadmed</guimenu
>. </para>
</listitem>
</itemizedlist>
</sect1>

<sect1 id="indi-remote-control">
<title
>Võrguseadme juhtimine</title>
<indexterm
><primary
>Teleskoobi juhtimine</primary>
<secondary
>Võrguseadmed</secondary>
</indexterm>

<para
>KStars pakub lihtsa, kuid siiski võimsa kihi võrguseadme juhtimiseks. Täpsemalt on seda kihti kirjeldatud INDI <ulink url="http://www.clearskyinstitute.com/INDI/INDI.pdf"
>ülevaates</ulink
> (inglise keeles).</para>

<para
>Kaugjuhtimiseks on vaja seadistada nii server kui kliendi masin:</para>

<orderedlist>
<listitem>
<para
>Server: seadme ettevalmistamiseks kaugjuhtimiseks tee läbi samad sammud, mis <link linkend="indi-kstars-setup"
>kohaliku serveri</link
> korral. Kui käivitad teenuse <guimenu
>seadmehaldur</guimenu
>is, näidatakse veerus <guilabel
>Kuulatav port</guilabel
> ka pordi numbrit. Lisaks sellele läheb vaja ka serveri nime või IP-aadressi. </para>

</listitem>
<listitem>
<para
>Klient: vali menüüst <guimenu
>Seadmed</guimenu
> <guimenuitem
>Seadmehaldur</guimenuitem
> ja klõpsa kaardil <guilabel
>Klient</guilabel
>. Kaardil <guilabel
>Klient</guilabel
> saab servereid lisada, muuta või eemaldada. Serveri lisamiseks klõpsa nupule <guibutton
>Lisa</guibutton
>. Kirjuta väljale <guilabel
>Server</guilabel
> serveri nimi või IP aadress ning ka pordi number, mis on saadud esimeses sammus kirjeldatud <emphasis
>serveri</emphasis
> seadistamisel. </para>
</listitem>
</orderedlist>

<screenshot>
<screeninfo
>INDI klient</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="indiclient.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>

<para
>Kui server on lisatud, klõpsa serveris käsul <guimenuitem
>Ühenda</guimenuitem
> või <guimenuitem
>Katkesta ühendus</guimenuitem
>. Kui ühendus on loodud, saab teleskoopi juhtida <guilabel
>taevakaardilt</guilabel
> või <guilabel
>INDI juhtimiskeskus</guilabel
>est täpselt samamoodi, nagu on kirjeldatud <link linkend="indi-kstars-setup"
>kohaliku serveri</link
> seadistamist käsitlevas osas. Nii lihtne see ongi! </para>

<sect2 id="indi-commandline">
<title
>INDI serveri käivitamine käsurealt</title>
<para
>Kuigi &kstars; võimaldab äärmiselt lihtsalt kasutada INDI serverit, on seda soovi korral võimalik käivitada ka käsurealt. </para>

<para
>Et INDI kujutab endast sõltumatut taustakomponenti, võib INDI serveri tööle panna ka ilma KStarsi rakendamata. Selle üks eeliseid on see, et seadme draiverite logiteated lähevad <constant
>stderr</constant
>-i, millest võib olla kasu siis, kui vaja peaks olema vigades selgusele jõuda. INDI serverit saab käivitada nii:</para>

<para
>$ <command
>indiserver</command
> [võtmed] [<filename
>draiver</filename
> ...]</para>

<para
>Võtmed:</para>
<para
>-p p : alternatiivne IP port, vaikimisi on see 7624</para>
<para
>-r n : maks. taaskäivituste arv, vaikimisi 2</para>
<para
>-v : üksikasjalikud teated</para>

<para
>Kui soovid näiteks käivitada INDI serverit, mis töötaks LX200 GPS draiveriga ja jälgiks ühendusi pordis 8000, näeb käsk välja selline:</para>

<para
>$ <command
>indiserver</command
> -p 8000 <filename
>lx200gps</filename
></para>
</sect2>

<sect2 id="indi-secure-remote">
<title
>Turvalised võrguoperatsioonid</title>

<para
>Oletame, et soovid INDI serveri ja selle kliendid tööle panna võrgumasinas <constant
>kaugmasin</constant
> ja ühendada need kohalikus masinas töötava &kstars;iga.</para>

<para
>Logi end kohalikust masinast võrgumasinasse <constant
>kaugmasin</constant
> järgmise käsuga:</para>

<para
>$ <command
>ssh</command
> -L <varname
>kohalik_port</varname
>:<constant
>kaugmasin</constant
>:<varname
>kaugport</varname
></para>

<para
>Selle abil seotakse kohaliku masina <varname
>kohaliku_pordi</varname
> <constant
>kaugmasina</constant
> <varname
>kaugpordiga</varname
>. Pärast sisselogimist käivita kaugmasinas INDI server:</para>

<para
>$ <command
>indiserver</command
> -p <varname
>kaugport</varname
> [<filename
>draiver</filename
>...]</para>

<para
>Käivita kohalikus masinas &kstars;, ava <guimenuitem
>seadmehaldur</guimenuitem
> ja lisa kaardil <guilabel
>Klient</guilabel
> server. Masin peaks olema kohalik masin (tavaliselt 127.0.0.1) ning pordi number ülal kasutatud sammudes näidatud <varname
>kohalik_port</varname
>. Klõpsa hiire <mousebutton
>parema</mousebutton
> nupuga serveril ja vali hüpikmenüüst käsk <guimenuitem
>Ühenda</guimenuitem
>. Nüüd võtabki &kstars; turvaliselt ühendust võrguserveriga. Serveri info salvestatakse ka edasiste seansside tarbeks.</para>
</sect2>
</sect1>

<sect1 id="indi-faq">
<title
>INDI Korduma Kippuvad Küsimused</title>
<indexterm
><primary
>Teleskoobi juhtimine</primary>
<secondary
><acronym
>FAQ</acronym
></secondary>
</indexterm>

<qandaset defaultlabel="qanda">
<qandaentry>
<question id="what-is-indi">
<para
>Mis on INDI?</para>
</question>
<answer>
<para
><acronym
>INDI</acronym
> on <ulink url="http://indi.sourceforge.net"
> instrumendist sõltumatu jagamisliides</ulink
> (inglise keeles Instrument-Neutral-Distributed-Interface) ehk juhtimisprotokoll, mille töötas välja <author
><firstname
>Elwood</firstname
><surname
>C. Downey</surname
></author
> <ulink url="http://www.clearskyinstitute.com/"
>ClearSky instituudist</ulink
>. &kstars; kasutab seadmedraivereid, mis sobivad kasutamiseks INDI protokolliga. INDI-l on päris palju eeliseid, sealhulgas suudab ta üsna edukalt panna koos töötama erinevaid riistvaralisi seadmeid ja tarkvaralisi draivereid. Draivereid kasutavad kliendid (näiteks &kstars;) ei pruugi midagi teada seadme võimalustest. Käivitamisajal võtab &kstars; ühendust seadme draiveritega ning loob selle pakutavate teenuste põhjal täielikult dünaamilise graafilise kasutajaliidese. Seepärast võib tegemist olla ka uue või uuendatud draiveriga ning KStars võib ometi neid täiel määral kasutada, ilma et klient peaks mingeid muudatusi ette võtma.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Kas on kavas toetada ka muid seadmeid? </para>
</question>
<answer>
<para
>Jah. Me kavatseme toetada põhilisi CCD kaameraid ja fokuseerijaid ning laiendada toetatavate telskoopide hulka. Kui soovid, et INDI toetaks mingit konkreetset seadet, anna sellest teada aadressil <email
>indi-devel@lists.sourceforge.net</email
> </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Milliste operatsioonidega laseb KStars teleskoopi juhtida? </para>
</question>
<answer>
<para
>See sõltub konkreetsest teleskoobist, aga vähemalt kolme käsku on võimalik otse taevakaardilt anda: <command
>Liigu</command
>, <command
>Jälgi</command
> ja <command
>Sünkroniseeri</command
>. Teleskoop peab nende täitmiseks olema mõistagi korrektselt monteeritud. Mõned teleskoobid pakuvad veel lisavõimalusi: asukoha haldus, liikumisrežiimid, fokuseerimine jne. Teleskoobi lisavõimalusi saab kasutada INDI juhtimiskeskusest, mille saab avada menüüst Seadmed. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Milles täpselt seisab käskude <command
>Liiguta</command
>, <command
>Jälgi</command
> ja <command
>Sünkroniseeri</command
> vahe? </para>
</question>
<answer>
<para
>Käsk <command
>Liigu</command
> annab teleskoobile korralduse asuda jälgima teatud konkreetset sihtmärki ja kui teleskoop on sellele suunatud, siis jälgib see sihtmärki <emphasis
>täheajas</emphasis
> (s.t. liigutab ennast sama kiirusega, nagu liiguvad tähed üle taevalaotuse). See sobib hästi tähtedele, Messieri objektidele ja kõigele, mis jääb Päikesesüsteemist välja. Päikesesüsteemi objektid aga liiguvad üle taevalaotuse veidi teisiti ning sestap tuleb sel juhul kasutada käsku <command
>Jälgi</command
>. </para>
<para
>Niisiis tuleb anda jälgimiskäsk, kui soovid jälgida objekti kuidagi teisiti kui täheajas. Käsuga <command
>Sünkroniseeri</command
> saab aga teleskoobi sisemised koordinaadid viia kooskõlla sinu valitud objekti koordinaatidega. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Kas teleskoopi saab ka võrgust juhtida? </para>
</question>
<answer>
<para
>Jah. Selleks käivita INDI-server masinas, millega teleskoop on ühendatud, ning server hakkab jälgima &kstars;i klientide päringuid. Kui oled ühendatud, saab telskoopi juhtida otse taevakaardilt. Sellest räägib lähemalt osa <link linkend="indi-remote-control"
>Võrguseadmete juhtimine</link
>. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Nupule <guibutton
>Ühenda</guibutton
> klõpsates teatab &kstars;, et teleskoop ei ole ühendatud jada-/USB porti. Mida see tähendab? </para>
</question>
<answer>
<para
>See teade ilmub siis, kui &kstars; ei suuda teleskoobiga ühendust saada. Sellisel juhul võiks ette võtta järgmist:</para>

   <orderedlist>
   <listitem>
<para
>Kontrollida, kas sul on pordis, millega püüad ühendust luua, nii lugemis- kui kirjutamisõigus.</para>
   </listitem>
   <listitem>
<para
>Kontrollida ühenduskaablit, võimaluse korral testida seda muude rakendustega.</para>
   </listitem>
   <listitem>
<para
>Kontrollida, kas teleskoobi toitega on kõik korras ja toide vastab nimiväärtusele.</para>
   </listitem>
   <listitem>
<para
>Määrata korrektne port <guilabel
>INDI juhtimiskeskus</guilabel
>es (selle saab avada menüüst <guimenu
>Seadmed</guimenu
>). Vaikimisi on port <constant
>/dev/ttyS0</constant
></para>
   </listitem>
   <listitem>
   <para
>Käivitada &kstars; uuesti ja võtta ette uus katse.</para>
   </listitem>
   </orderedlist>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>&kstars; teatab, et teleskoop on ühendatud ja töövalmis, aga taevakaardil ei ole kuskil risti näha?</para>
</question>
<answer>
<para
>&kstars; hangib teleskoobi OT ja käände ühendumisel. Kui monteering on korrektne, siis peaks rist liikuma üle taevalaotuse kohta, kuhu teleskoop on suunatud. Kuid teleskoobi teatatud OT ja kääne võivad olla ekslikud (isegi allpool horisonti) ja sellisel juhul tuleb teleskoop <link linkend="indi-sync"
>sünkroniseerida</link
> vajaliku asukohaga. Teleskoobi ristiku tsentreerimiseks ja jälgimise sisselülitamiseks võib ka lihtsalt taevakaardil hiire parema nupuga klõpsata ja vajalik käsk valida.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Teleskoop liigub valesti või ei liigu üldse. Mida teha?</para>
</question>
<answer>
<para
>Seda põhjustab enamasti vigane seadistus. Võiks üle kontrollida järgmised asjad:</para>
<orderedlist>
<listitem>
<para
>Kas teleskoop on korrektselt monteeritud?</para>
</listitem>
<listitem>
<para
>Kas monteeringurežiim on korrektne? Kasuta selle kontrollimiseks ja vajadusel muutmiseks <guilabel
>INDI juhtimiskeskus</guilabel
>t (valikuvõimalusteks on <constant
>H/As, Polaarne, Maa</constant
>).</para>
</listitem>
<listitem>
<para
>Kas teleskoobi ajaseadistus on korrektne?</para>
</listitem>
<listitem>
<para
>Kas teleskoobi pikkus- ja laiuskraad on korrektselt määratud?</para>
</listitem>
<listitem>
<para
>Kas teleskoobi erinevus MA-st on korrektne?</para>
</listitem>
<listitem>
<para
>Kas teleskoobi OT- ja käändetelg on fikseeritud?</para>
</listitem>
<listitem>
<para
>Kas teleskoobi põhja-lõunalülitus (kui seda kasutatakse) on määratud ikka korrektselt vastavalt siu asukoha poolkerale?</para>
</listitem>
<listitem>
<para
>Kas teleskoopi ja arvutit ühendav kaabel on ikka korras?</para>
</listitem>
</orderedlist>

<para
>Kui sinu arvates on kõik eeltoodu korras, aga teleskoop ikkagi liigub valesti või ei liigu üldse, siis võiksid saata veateate aadressile <email
>kstars-devel@kde.org</email
></para>
</answer>
</qandaentry>
</qandaset>
</sect1>
</chapter>

