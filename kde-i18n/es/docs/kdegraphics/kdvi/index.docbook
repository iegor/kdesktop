<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.1.2-Based Variant V1.1//EN"
 "dtd/kdex.dtd" [
  <!ENTITY kappname "&kdvi;">
  <!ENTITY package "kdegraphics">
  <!ENTITY % addindex "IGNORE">
  <!ENTITY % Spanish "INCLUDE"
><!-- change language only here -->
]>

<book lang="&language;">
  <bookinfo>
    <title
>El manual de &kdvi;</title>
    <authorgroup>
      <author
><firstname
>Stefan</firstname
> <surname
>Kebekus</surname
> <affiliation
> <address
> <email
>kebekus@kde.org</email>
          </address>
	</affiliation>
      </author>
      <othercredit role="translator"
> <firstname
>Miguel</firstname
> <surname
>Revilla Rodríguez</surname
> <affiliation
><address
><email
>yo@miguelrevilla.com</email
></address
></affiliation
> <contrib
>Traductor</contrib
> </othercredit
> 
    </authorgroup>
    
    <copyright>
      <year
>2001-2004</year>
      <holder
>Stefan Kebekus</holder>
    </copyright>
    
    <legalnotice
>&FDLNotice;</legalnotice>
    
    <date
>2004-02-27</date>
    <releaseinfo
>1.11.00</releaseinfo>

    <abstract>
      <para
>Este documento describe la versión 1.1 de &kdvi;</para>
    </abstract>

    <keywordset>
      <keyword
>KDE</keyword>
      <keyword
>linux</keyword>
      <keyword
>TeX</keyword>
      <keyword
>DVI</keyword>
    </keywordset>

  </bookinfo>

  <chapter id="introduction">
    <title
>Introducción</title>

    <para
>&kdvi; es un conector para el programa &kviewshell; que permite a este mostrar archivos con formato &DVI; (<literal role="extension"
>.dvi</literal
>), generados por el sistema de procesamiento de textos TeX. &kdvi; soporta muchas de las extensiones del estándar &DVI;, como por ejemplo la inclusión de gráficos &PostScript; o hiperenlances. Se pueden encontrar más detalles, ejemplos y especificaciones en el archivo <filename
>KDVI-features.dvi</filename
> (o vea el código fuente de ese archivo en <filename
>KDVI-features.tex</filename
>).</para>

    <para
>Para obtener información actualizada, consulte <ulink url="http://devel-home.kde.org/~kdvi"
>la página web de &kdvi;</ulink
>. </para>

    <para
>TeX en un sistema de procesamiento de textos de altas prestaciones orientado a la escritura de textos científicos y, más concretamente, matemáticos. Se puede encontrar más información sobre TeX y &DVI; en la <ulink url="http://www.tug.org"
>página web del grupo de usuarios de TeX</ulink
> o la alemana <ulink url="http://www.dante.es"
>German DANTE e.V.</ulink
>. </para>
  </chapter>


  <chapter id="starting">
    <title
>Iniciando &kdvi;</title>
    
    <para
>La mayor parte de las veces &kdvi; será iniciado al pulsar sobre un archivo <literal role="extension"
>.dvi</literal
> en el administrador de archivos. Por comodidad existe el comando <command
>kdvi</command
> que hace una llamada a &kviewshell; con el conector &kdvi; precargado. Por lo tanto, el visor puede ser iniciado utilizando el comando <userinput
><command
>kdvi</command
> <parameter
>ruta/documento.dvi</parameter
></userinput
>. Los comandos <userinput
><command
>kdvi</command
> <parameter
>ruta/documento</parameter
></userinput
> o <userinput
><command
>kdvi</command
> <parameter
>ruta/documento.</parameter
></userinput
> también son válidos. Si está conectado a Internet, puede acceder a los archivos residentes en otros ordenadores introduciendo una &URL; como parámetros, de esta manera: <userinput
><command
>kdvi</command
> <parameter
>http://ruta/documento.dvi</parameter
></userinput
> </para>
    
    <para
>Si introduce una &URL; como parámetro, puede indicarle a &kdvi; que vaya directamente a un punto determinado del archivo &DVI;. Por ejemplo, <userinput
><command
>kdvi</command
> <parameter
>file:documento.dvi#43</parameter
></userinput
> hará que &kdvi; abra la página 43. Si ha incluido información del archivo fuente, un comando como <userinput
><command
>kdvi</command
> <parameter
>file:documento.dvi#src:143documento.tex</parameter
></userinput
> hará que &kdvi; busque el lugar del archivo &DVI; que corresponde a la línea 43 del archivo TeX <parameter
>documento.tex</parameter
>. Es raro que utilice esta opción usted mismo, lea la sección sobre <ulink url="forward-search.html"
>búsqueda directa</ulink
> para conocer cómo configurar su editor para iniciar &kdvi; automáticamente. </para>

    <warning
><para
>No olvide el prefijo <userinput
>file:</userinput
> o se pueden producir resultados no esperado. Por ejemplo, el comando <userinput
><command
>kdvi</command
> <parameter
>file:documento.dvi#43</parameter
></userinput
> abrirá la página 43 del archivo <filename
>documento.dvi</filename
>. El comando <userinput
><command
>kdvi</command
> <parameter
>documento.dvi#43</parameter
></userinput
> tratará de abrir el archivo <filename
>documento.dvi#43</filename
>.</para>
    </warning>

    <para
>Hay otra opción que también es probable que no necesite usar usted mismo. Si teclea <userinput
><command
>kdvi</command
> <parameter
>--unique</parameter
> <parameter
>ruta/documento.dvi</parameter
></userinput
>, &kdvi; cargará el archivo si no hay otra sesión ejecuntándose que ya lo tenga cargado. Si la hay, dicha sesión de &kdvi; será traida al frente. Un comando como <userinput
><command
>kdvi</command
> <parameter
>--unique</parameter
> <parameter
>file:documento.dvi#43</parameter
></userinput
> puede ser utilizado en archivos de guiones para hacer que una sesión ya abierta de &kdvi; salte a la página 43.</para>

    <para
>Tambien funcionan los parámetros comunes a las aplicaciones de &Qt; y &kde;: <userinput
><command
>kdvi</command
> <option
>-style</option
> <parameter
>windows</parameter
> <option
>-display</option
> <parameter
>:0</parameter
> <option
>-geometry</option
> <parameter
>400x400+0+0</parameter
> <option
>-caption</option
> <parameter
>&quot;DVI&quot;</parameter
></userinput
> </para>
  </chapter>
  
  
  <chapter id="print">
    <title
>Impresión de los archivos &DVI;</title>
    
    <para
>&kdvi; puede imprimir sus archivos &DVI; utilizando la interfaz de impresión de &kde;. Internamente, &kdvi; utiliza el programa <command
>dvips</command
> para generar &PostScript;, que es posteriormente enviado a la impresora. Por ello, es necesario que <command
>dvips</command
> esté instalado si se desea imprimir con &kdvi;. El programa <command
>dvips</command
> utiliza archivos de configuración y parámetros propios, que en la mayoría de los casos deberían de ser válidos &mdash; No obstante, si le preocupa obtener resultados óptimos al imprimir, debería configurar <command
>dvips</command
> manualmente y asegurarse de que establece el modo de MetaFont que mejor se ajusta a su impresora. En muchos sistemas encontrará <ulink url="info:/dvips"
> información en formato texinfo de GNU sobre <command
>dvips</command
></ulink
>, y puede que también haya un archivo llamado <filename
>dvips.dvi</filename
> o similar.</para>
  </chapter>

  <chapter id="export">
    <title
>Exportación de archivos &DVI; a otros formatos</title>

    <para
>Si desea guardar su archivo en los formatos &PostScript; o PDF, no se recomienda que utilice la opción de desviar la impresora a un archivo. En vez de eso, es mejor que haga uso de las funciones de exportación, pues estas proporcionan una mejor calidad y conservan la mayoría de las características especiales del formato DVI y presentan un mejor aspecto en la mayoría de los programas de visualización, como Adobe <application
>Acrobat Reader</application
>. Encontrará las funciones de exportación en el menú <guimenu
>Archivo</guimenu
>.</para>

    <section id="export-ps">
      <title
>Exportación a &PostScript;</title
> 

      <para
>Al igual que a la hora de imprimir, se utiliza el programa externo <command
>dvips</command
> para generar los archivos &PostScript;. Si el archivo &DVI; contiene hiperenlaces, estos también serán incluidos en el archivo &PostScript;. Si es usted un experto y desea generar una salida optimizada para una impresora concreta, es mejor que utilice <command
>dvips</command
> manualmente y elija el modo de MetaFont apropiado usted mismo.</para>
    </section>

    <section id="export-pdf">
      <title
>Exportación a <acronym
>PDF</acronym
></title
> 

      <para
>Con el fin de producir archivos <acronym
>PDF</acronym
> de alta calidad, &kdvi; convierte el &DVI; en <acronym
>PDF</acronym
> utilizando el programa externo <command
>dvipdfm</command
>. Si está trabajando en una máquina que tiene una distribución antigua de TeX, es muy probable que el programa <command
>dvipdfm</command
> no esté instalado. En ese caso deberá utilizar la función de impresión para generar documentos <acronym
>PDF</acronym
>.</para>

      <warning>
	<itemizedlist>
	  <listitem>
	    <para
>Si utiliza una instalación más antigua de TeX, y está viendo el archivo generado en <application
>Acrobat reader</application
>de Adobe, podría descubrir que algunas fuentes se ven horriblemente mal (a pesar de que imprimiendo se ven bien, y que el documento se visualiza correctamente en <command
>kghostview</command
>). Esto es un fallo conocido de <application
>Acrobat Reader</application
> cuando se utilizan fuentes de mapas de bits (bitmap fonts). En el momento de escribir esto, la única solución posible parece ser evitar las fuentes de mapas de bits, o actualizar a una instalación de TeX más reciente. </para>
	  </listitem>
	  <listitem>
	    <para
>Aunque <command
>dvipdfm</command
> produce archivos <acronym
>PDF</acronym
> de alta calidad, <command
>dvipdfm</command
> actualmente ignora el &PostScript; que está incrustado en el archivo &DVI;. Generan PostScript incrustado, por ejemplo, el paquete de macros <application
>xy</application
>, o la función "Archivos PostScript externos empotrados" de &kdvi;, descrita <link linkend="embed"
>más adelante</link
>. </para>
            <para
>Si observa que al archivo <acronym
>PDF</acronym
> generado le faltan datos gráficos, utilice la función de impresión de &kdvi; en su lugar. </para>
	  </listitem>
	</itemizedlist>
      </warning>
    </section>


    <section id="export-text">
      <title
>Exportación a archivos de texto</title
> 

      <para
>&kdvi; también puede guardar sus archivos &DVI; en formato de texto.</para>

      <warning>
       <para
>El estándar de archivos &DVI; no fue diseñado con esta funcionalidad en mente. Como consecuencia esta función sólo trabaja bien con caracteres ASCII estándar. No funcionará con lenguajes no europeos. Dependiendo de las fuentes utilizadas en los archivos, también podría haber problemas con los caracteres acentuados o las diéresis. </para>
      </warning>
    </section>
  </chapter>
  

  <chapter id="embed">
    <title
>Incrustar archivos PostScript en el &DVI;</title>

    <para
>La forma tradicional de utilizar gráficos con <application
>TeX</application
> no incluye los datos gráficos directamente en el archivo &DVI;. En su lugar, el archivo &DVI; contiene solamente un enlace a un archivo gráfico que reside en el disco duro. La ventaja de este procedimiento es que el archivo &DVI; queda de menor tamaño, y el archivo gráfico puede ser modificado independientemente de la fuente del documento <application
>TeX</application
>. Sin embargo, este método se vuelve poco conveniente si pretende archivar el documento &DVI; o si desea enviárselo a otra persona: en vez de manejar un único archivo, debe tratar con una multitud de ellos, que necesitan estar en el lugar exacto especificado en el archivo &DVI; para que todo funcione según lo esperado.</para>

    <para
>Por esta razón, &kdvi; le permite empotrar archivos &PostScript; externos en su archivo &DVI;. Para empotrar todos los archivos &PostScript; en el archivo &DVI;, utilice la entrada de menú <guimenu
>Editar/Archivos PostScript externos empotrados...</guimenu
> </para>
    
    <warning
> <para
>Los archivos &DVI; con &PostScript; empotrado funcionan vien con la mayoría de aplicaciones que manejan &DVI;, como por ejemplo <application
>xdvi</application
>, <application
>dvips</application
> o <application
>dvipdf</application
>. Una notable excepción es el programa <application
>dvipdfm</application
>, que actualmente ignora el &PostScript; empotrado. Como <application
>dvipdfm</application
> se utiliza internamente por la función  "Exportar a <acronym
>PDF</acronym
>" de &kdvi;, espere problemas al utilizar esta función. El mismo problema surge con otros programas que utilizan PostScript empotrado, como por ejemplo el paquete de macros <application
>xy</application
> de <application
>TeX</application
>.</para
> </warning>
  </chapter>
  

  <chapter id="inverse-search">
    <title
>Uso de la búsqueda inversa</title>
    <anchor id="inv-search"
></anchor>

    <para
>La búsqueda inversa es una característica muy útil a la hora de escribir documentos TeX. Si todo está correctamente configurado, es posible pinchar con el botón <mousebutton
>central</mousebutton
> del ratón sobre la ventana de &kdvi; (en algunos sistemas, si el ratón no tiene tres botones, esto se puede simular pulsando simultáneamente los botones <mousebutton
>derecho</mousebutton
> e <mousebutton
>izquierdo</mousebutton
>). Entonces se abrirá su editor de textos preferido, cargará el archivo fuente de TeX y se colocará en el párrafo correspondiente. Para utilizar la búsqueda inversa, haga lo siguiente:</para>


    <procedure>
      <step>
	<para
>Genere un archivo &DVI; que contenga información para búsqueda inversa. Esto se explica en la sección <link linkend="inverse-search-tex"
>Generación de archivos de TeX para búsqueda inversa</link
>, que se encuentra más adelante. Si únicamente desea probar la búsqueda inversa, puede utilizar el archivo <filename
>KDVI-features.dvi</filename
>.</para>
      </step>
      <step>
	<para
>Haga que &kdvi; conozca el editor de textos que se utilizará. Elija un editor en el diálogo de <guilabel
>Preferencias</guilabel
> (este diálogo se encuentra seleccionando <guimenu
>Parámetros</guimenu
> en el menú <guimenuitem
>Opciones de DVI</guimenuitem
>). En el próximo capítulo de esta documentación, <link linkend="opt-rendering"
>Opciones de procesamiento</link
>, se explica más detalladamente este cuadro de diálogo.</para>
      </step>
      <step>
	<para
>Algunos editores deben ser iniciados manualmente, o necesitan configuración adicional. Encontrará una descripción de todos los editores soportados en el apartado<link linkend="inverse-search-editor"
>Configuración del editor para búsqueda inversa</link
>.</para>
      </step>
      <step>
	<para
>Pruebe su configuración. Abra su archivo &DVI; en &kdvi; y utilice el botón <mousebutton
>central</mousebutton
> del ratón dentro de &kdvi;. Debería abrirse el editor y mostrar el archivo de TeX.</para>
      </step>
    </procedure>


    <section id="inverse-search-tex">
      <title
>Generación de archivos de TeX para búsqueda inversa</title>
      <para
>Existen esencialmente dos métodos para producir archivos &DVI; que contengan información para búsqueda inversa: o bien se utilizan versiones de TeX/LaTeX que generen e incluyan la información necesaria, o se puede incluir un paquete adicional que está escrito en TeX/LaTeX.</para>
      <itemizedlist>
	<listitem>
	  <para
>Una versión de TeX que genere e incluya la información necesaria automáticamente es, sin lugar a dudas, el mejor método para añadir información para búsqueda inversa. Si utiliza la versión 2 o superior de la <ulink url="http://www.tug.org/teTeX/"
>Distribución TeTeX de TeX</ulink
>, puede utilizar las opciones de línea de comandos 'src-specials' de los comandos tex o latex, de la siguiente manera: <programlisting>
tex --src-specials myfile.tex
</programlisting
> o <programlisting
>latex --src-specials myfile.tex
</programlisting>
	  </para>
	</listitem>
	<listitem>
	  <para
>Si no tiene una versión de TeX que incluya la información para búsqueda inversa nativamente, copie los archivos <ulink url="srcltx.sty"
> <filename
>srcltx.sty</filename
> </ulink
> y <ulink url="srctex.sty"
> <filename
>srctex.sty</filename
> </ulink
> al directorio en el que esté almacenado su archivo TeX (puede hacerlo pinchando sobre los hipervínculos al tiempo que pulsa la tecla &Shift;). Si utiliza LaTeX, añada la línea <programlisting>

\usepackage[active]{srcltx}

</programlisting
> al preámbulo de su archivo de TeX. Si utiliza TeX simple, la línea <programlisting>

\include{srctex}

</programlisting
> se encargará del trabajo.</para>
	</listitem>
      </itemizedlist>

      <tip>
	<para
>Aunque la búsqueda inversa es extremadamente útil durante el proceso de redacción del documento, es una buena idea eliminar esa información antes de enviarle el archivo &DVI; a otra persona.</para>
      </tip>

    </section>

    <section id="inverse-search-editor">

    <title
>Configuración del editor para búsqueda inversa</title>
    
    <para
>Aunque la búsqueda inversa suele funcinar muy bien con la mayoría de los editores, algunos de ellos requieren una atención especial. Esta sección explica cómo configurar el editor.</para>

    <section id="editor-setup-emacs">
      <title
><application
>Emacs</application
></title>

      <para
><application
>Emacs</application
> funciona bien con &kdvi;. El comportamiento real de <application
>Emacs</application
> depende mucho de la configuración. Como de costumbre, se puede personalizar <application
>Emacs</application
> completamente, si desea enfrentarse al código Lisp.</para>

      <para
>&kdvi; utiliza el programa <command
>emacsclient</command
> para controlar <application
>Emacs</application
> remotamente.</para>
      <important>
	<para
>El programa <command
>emacsclient</command
> requiere que <application
>Emacs</application
> esté funcionando, y que el programa <application
>Emacs Server</application
> esté iniciado dentro de <application
>Emacs</application
>. La búsqueda inversa no funcionará salvo que ambos programas estén iniciados, <application
>Emacs</application
> y <application
>Emacs Server</application
>.</para>
      </important>

      <para
>Para iniciar el programa <application
>Emacs Server</application
>, puede utilizar uno de los siguientes métodos:</para>
	<itemizedlist>
	<listitem>
	  <para
>En <application
>Emacs</application
>, inicie <application
>Emacs Server</application
> tecleando <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>server-start</command
></userinput
></para>
	</listitem>
	<listitem>
	  <para
>Añada la línea <programlisting>
(server-start)
</programlisting
> a su archivo <filename
>.emacs</filename
>. Reinicie <application
>Emacs</application
></para>
	</listitem>
      </itemizedlist>

      
      <tip>
	<itemizedlist>
	  <listitem>
	      <para
>Asegúrese de que <application
>Emacs</application
> está instalado. Trate de ejecutar <command
>emacs</command
> en la línea de comandos.</para>
	  </listitem>
	<listitem>
	      <para
>&kdvi; utiliza el comando <command
>emacsclient</command
> para controlar remotamente <application
>Emacs</application
>. Asegúrese de que el comando <command
>emacsclient</command
> está disponible en la línea de comandos tecleando el comando <userinput
><command
>emacsclient</command
> <parameter
>nombre de un archivo de texto</parameter
></userinput
>. Esto debería abrir un nuevo marco en el editor <application
>Emacs</application
>.</para>
	</listitem>
	<listitem>
	      <para
>Si el comando <command
>emacsclient</command
> falla y da un mensaje de error del tipo <computeroutput
>unable to connect to local</computeroutput
>, asegúrese de que <application
>Emacs</application
> está iniciado. Es más, asegúrese de que <application
>Emacs Serv</application
> está iniciado tecleando <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>server-start</command
></userinput
>.</para>
	</listitem>
	<listitem>
	      <para
>Si desea que el marco se active automáticamente, añada la función <function
>raise-frame</function
> a <quote
>server-switch-hook</quote
> (ejecute <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>customize-variable</command
> <keycap
>RET</keycap
> <command
>server-switch-hook</command
></userinput
> e introduzca el nombre de la función en el campo de texto).</para>
	</listitem>
	<listitem>
	      <para
>Si ha cambiado información desde la última vez que guardó, <application
>Emacs</application
> le preguntará: <computeroutput
>Revert buffer from file ...? (yes or no)</computeroutput
>. Lo más probable es que conteste <emphasis
>no</emphasis
>, ya que recuperar los cambios significa que se vuelve a leer el archivo del disco, <emphasis
>causando la pérdida de todos los cambios desde la última vez que se guardó</emphasis
>.</para>

	      <para
>El comportamiento de <command
>gnuclient</command
> de volver a cargar silenciosamente los datos cambiados es preferible &mdash; Añada las siguientes líneas al archivo <filename
>.emacs</filename
> para emular el comportamiento de gnuclient con <command
>emacsclient</command
>:</para>

<programlisting
>(defadvice server-visit-files (around save-buffers last activate)
  "Try to emulate gnuclient behavior with emacsclient.
Works only for visiting one buffer at a time."
  (let* ((filen (car (car (ad-get-arg 0))))
         (buf (get-file-buffer filen))
         (this-buf-modified-p nil))
    ;;; the following is copied from server-visit-files, with
    ;;; a modification for the `verify-visited-file-modtime' test
    (if (and buf (set-buffer buf))
        (if (file-exists-p filen)
            ;;; if the file has changed on disk, reload it
            ;;; using `find-file-noselect'
            (if (not (verify-visited-file-modtime buf))
                (progn
                  (find-file-noselect filen)
                  ;;; if user answered `no', reset modtime anyway
                  ;;; so that server-visit-files doesn't realize the
                  ;;; difference:
                  (set-visited-file-modtime)))
          ;;; if file exists no longer, we let server-visit-files
          ;;; deal with that
          t)
      (setq buf (find-file-noselect filen)))
    (setq this-buf-modified-p (buffer-modified-p buf))
    (set-buffer buf)
    (set-buffer-modified-p nil)
    ad-do-it
    (set-buffer-modified-p this-buf-modified-p)))
</programlisting>
        </listitem>
      </itemizedlist>
      </tip>
    </section>


    <section id="editor-setup-kate">
      <title
>&kate;</title
> 

      <para
>El editor &kate; de &kde; soporta la búsqueda inversa muy bien. No es necesaria ninguna configuración adicional.</para
> </section>


    <section id="editor-setup-kile">
      <title
><application
>Kile</application
></title
> 

      <para
>El sistema de edición de LaTeX <application
>Kile</application
> soporta KDVI muy bien. No es necesaria ninguna configuración adicional. Puede encontrar más información sobre Kile en la <ulink url="http://kile.sourceforge.net"
>Página de Kile</ulink
>. </para>
    </section>


    <section id="editor-setup-nedit">
      <title
><application
>NEdit</application
></title>

      <para
><application
>NEdit</application
> funciona normalmente muy bien. Al pinchar sobre el archivo &DVI; abrirá una nueva ventana. Si el archivo TeX ya está abierto en otra sesión de <application
>NEdit</application
>, la nueva ventana mostrará otra vista del buffer. En otro caso se cargará el archivo TeX. Después de abrir la ventana, <application
>NEdit</application
>  resaltará la primera línea de párrafo apropiado.</para>
      <tip>
          <para
>&kdvi; utiliza el comando <command
>ncl</command
> para controlar remotamente <application
>NEdit</application
>. Asegúrese de que el comando <command
>ncl</command
> está disponible en la línea de comandos, tecleando la orden <userinput
><command
>ncl</command
> <parameter
>-noask</parameter
></userinput
>. Esto debería de abrir una sesión del editor <application
>NEdit</application
>. Si el comando <command
>ncl</command
> no se encuentra disponible, será porque está utilizando una versión antigua de <application
>NEdit</application
>. En ese caso deberá actualizar a una versión más moderna o utilizar la opción <guilabel
>Editor definido por el usuario</guilabel
> del diálogo <guilabel
>Opciones</guilabel
>.</para>
      </tip>
    </section>

    <section id="editor-setup-xemacs">
      <title
><application
>XEmacs</application
></title>

      <para
><application
>XEmacs</application
> funciona bien con &kdvi;. El comportamiento final de <application
>XEmacs</application
> depende mucho de la configuración. Como de costumbre, se puede personalizar <application
>XEmacs</application
> completamente, si desea enfrentarse al código Lisp.</para>

      <para
>&kdvi; utiliza el programa <command
>gnuclient</command
> para controlar <application
>XEmacs</application
> remotamente.</para>
      <important>
        <para
>El programa <command
>gnuclient</command
> requiere que <application
>XEmacs</application
> esté funcionando, y que el programa <application
>gnuserv</application
> esté iniciado dentro de <application
>XEmacs</application
>. La búsqueda inversa no funcionará salvo que ambos programas estén iniciados, <application
>XEmacs</application
> y <command
>gnuserv</command
>.</para>
      </important>

      <para
>Para iniciar el programa <application
>gnuserv</application
>, puede utilizar uno de los siguientes métodos:</para>
      <itemizedlist>
        <listitem>
          <para
>En <application
>XEmacs</application
>, inicie <application
>gnuserv</application
> tecleando <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>gnuserv-start</command
></userinput
></para>
        </listitem>
        <listitem>
          <para
>Añada la línea <programlisting>

(gnuserv-start)

</programlisting
> a su archivo <filename
>.xemacs</filename
>. Si utiliza una versión más reciente de <application
>XEmacs</application
>, <filename class="directory"
>.xemacs</filename
> será un directorio. En tal caso, debería añadir la línea al archivo <filename
>.xemacs/init.el</filename
>. Reinicie <application
>XEmacs</application
></para>
        </listitem>
      </itemizedlist>

      <para
>Si no desea abrir un nuevo marco para cada llamada del editor, y desea que el marco sea traido al primer plano automáticamente, establezca <quote
>Gnuserv Frame</quote
> a <quote
>Use selected frame</quote
>, y añada la función <function
>raise-frame</function
> a <quote
>Visit Hook</quote
>. Ejecute <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>customize-group</command
> <keycap
>RET</keycap
> <command
>gnuserv</command
></userinput
> para configurar estas opciones.</para>

      <tip>
        <itemizedlist>
          <listitem>
              <para
>Asegúrese de que <application
>XEmacs</application
> está instalado. Trate de ejecutar <command
>xemacs</command
> en la línea de comandos.</para>
          </listitem>
        <listitem>
              <para
>&kdvi; utiliza el comando <application
>gnuserv</application
> para controlar remotamente <application
>XEmacs</application
>. Asegúrese de que el comando <command
>gnuclient</command
> está disponible en la línea de comandos tecleando <userinput
><command
>gnuclient</command
> <parameter
>nombre de un archivo de texto</parameter
></userinput
>. Esto debería abrir un nuevo marco en el editor <application
>XEmacs</application
>.</para>
        </listitem>
        <listitem>
              <para
>Si <application
>gnuserv</application
> falla y da un mensaje de error del tipo <computeroutput
>unable to connect to local</computeroutput
>, asegúrese de que <application
>XEmacs</application
> está iniciado. Es más, asegúrese de que <application
>gnuserv</application
> está iniciado tecleando <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>gnuserv-start</command
></userinput
>.</para>
        </listitem>
        <listitem>
              <para
>Si no desea abrir un nuevo marco para cada llamada del editor, y desea que el marco sea traido al primer plano automáticamente, establezca <quote
>Gnuserv Frame</quote
> a <quote
>Use selected frame</quote
>, y añada la función <quote
>raise-frame</quote
> a <quote
>Visit Hook</quote
>. Ejecute <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>customize-group</command
> <keycap
>RET</keycap
> <command
>gnuserv</command
></userinput
> para configurar estas opciones.</para>
        </listitem>
      </itemizedlist>
      </tip>
    </section>

    <section id="editor-setup-gvim">
      <title
><application
>VI iMproved</application
> / &GUI;</title>

      <para
>La variante <application
>gvim</application
> del editor <application
>vi</application
> soporta la búsqueda inversa muy bien. No se requiere ninguna configuración adicional.</para>
    </section>
    </section>
  </chapter>


  <chapter id="forward-search">
    <title
>Búsqueda directa</title>

    <para
>Las funciones de búsqueda directa le permiten saltar desde su editor a la posición asociada del archivo &DVI; directamente. Como su editor debe soportar la búsqueda hacia adelante, sólo se admiten de momento <application
>Emacs</application
> y <application
>XEmacs</application
>. Esperemos que otros editores lo soporten pronto.</para>

    <para
>Para utilizar la búsqueda directa, puede hacer una de las siguientes:</para>
    <itemizedlist>
      <listitem>
        <para
>Configuración del editor &mdash; se describe a continuación.</para>
      </listitem>
      <listitem>
        <para
>Añada información del código fuente a su archivo &DVI;, &eg; utilizando el paquete <command
>srcltx</command
>, descrito en la sección <link linkend="inverse-search-tex"
>"Generación de archivos de TeX para búsqueda inversa"</link
>.</para>
      </listitem>
      <listitem>
        <para
>Si utiliza <application
>Emacs</application
> y todo está bien configurado, basta con que pulse <userinput
><keycombo action="simul"
>&Ctrl;<keycap
>X</keycap
></keycombo
> <keycombo action="simul"
>&Ctrl;<keycap
>J</keycap
> </keycombo
></userinput
>, y &kdvi; se abrirá y se colocará en el lugar que corresponde al archivo TeX que esté editando en ese momento.</para>
      </listitem>
    </itemizedlist>

    <section id="forward-search-editor">
      <title
>Configuración del editor para búsqueda directa</title>
      
      <section id="forw-editor-setup-emacs">
        <title
><application
>Emacs</application
></title>
        
        <para
>Para utilizar la búsqueda directa en <application
>Emacs</application
>, haga lo siguiente:</para>

        <itemizedlist>
          <listitem>
                <para
>Descargue el siguiente guión de <application
>Emacs</application
>, <ulink url="kdvi-search.el"
> <filename
>kdvi-search.el</filename
> </ulink
> (pulse &Shift; y pinche con el &LMB; en el nombre del archivo para descargarlo) y guárdelo en un lugar al que pueda acceder <application
>Emacs</application
> &mdash; Recomendamos el directorio <filename
>emacs-scripts</filename
>.</para>
          </listitem>
          <listitem>
            <para
>Añada las líneas <programlisting>
(add-to-list 'load-path (expand-file-name "~/emacs-scripts/"))
(require 'kdvi-search)
(add-hook 'LaTeX-mode-hook (lambda () (local-set-key "\C-x\C-j" 'kdvi-jump-to-line)))
(add-hook 'tex-mode-hook (lambda () (local-set-key "\C-x\C-j" 'kdvi-jump-to-line)))
</programlisting
> a su archivo <filename
>.emacs</filename
>. Reinicie <application
>Emacs</application
>.</para>
          </listitem>

          <listitem>
            <para
>Abra <application
>Emacs</application
>, cargue un archivo de TeX, genere el &DVI; correspondiente, y utilice el comando <userinput
><keycombo action="simul"
><keycap
>M</keycap
><keycap
>x</keycap
> </keycombo
><command
>kdvi-jump-to-line</command
></userinput
> o pulse <userinput
><keycombo action="seq"
><keycombo action="simul"
>&Ctrl;<keycap
>X</keycap
></keycombo
> <keycombo action="simul"
>&Ctrl;<keycap
>J</keycap
></keycombo
> </keycombo
></userinput
>. Puede ocurrir que <application
>Emacs</application
> le pregunte por el nombre de un <quote
>archivo maestro</quote
>. Esto es útil si utiliza un archivo de TeX que incluya otros archivos: el archivo maestro es el de nivel superior que incluye al resto. <application
>Emacs</application
> puede también preguntar el nombre del archivo maestro <quote
>como una variable local</quote
>, &ie;, como un comentario al final del archivo. Diga <userinput
>sí</userinput
> o <userinput
>no</userinput
>.</para
> 
            </listitem>
        </itemizedlist>

        <tip>
          <itemizedlist>
            <listitem>
              <para
>Asegúrese de que <application
>Emacs</application
> está instalado. Trate de ejecutar <command
>emacs</command
> en la línea de comandos.</para>
            </listitem>
            <listitem>
              <para
>Si <application
>Emacs</application
> no es capaz de abrir &kdvi;, puede encontrar la salida en la sesión <quote
>kdvi-output</quote
>.</para>
            </listitem>
          </itemizedlist>
        </tip>
      </section>

      <section id="forw-editor-setup-kile">
        <title
><application
>Kile</application
></title>
                <para
>Si utiliza Kile no deberá realizar configuraciones adicionales. </para>
      </section>

      <section id="forw-editor-setup-xemacs">
        <title
><application
>XEmacs</application
></title>
        
        <para
>Para configurar <application
>XEmacs</application
>, siga los pasos <link linkend="forw-editor-setup-emacs"
>anteriores</link
> referentes a <application
>Emacs</application
>, pero modifique el archivo <filename
>.xemacs</filename
> en vez de <filename
>.emacs</filename
>. Si utiliza un versión reciente de <application
>XEmacs</application
>, <filename class="directory"
>.xemacs</filename
> puede ser un directorio. En ese caso, añada las líneas al archivo <filename
>.xemacs/init.el</filename
>. </para>
      </section>

    </section>

  </chapter>

  <chapter id="preferences">
    <title
>El diálogo de <guilabel
>preferencias</guilabel
></title>
    <anchor id="opts"
></anchor>

    <para
>Se puede acceder al diálogo de <guilabel
>Preferencias</guilabel
> eligiendo <guimenuitem
>Opciones de DVI</guimenuitem
> en el menú <guimenu
>Preferencias</guimenu
>.</para>

    <para
>El diálogo consiste en dos apartados, <guilabel
>Tipografías</guilabel
> y <guilabel
>Procesado</guilabel
>.</para>

    <sect1 id="opt-fonts">
      <title
>Opciones de <guilabel
>tipografías</guilabel
></title>

      <para
>Tradicionalmente, el "typesetter" (cajista) de TeX utiliza fuentes generadas por el programa <command
>MetaFont</command
>. Estas fuentes se almacenan en formato PK. Mientras que un sistema <command
>MetaFont</command
> cuidadosamente configurado produce impresiones de la mayor calidad, su configuración requiere bastante maestría, <command
>MetaFont</command
> no es muy bueno produciendo fuentes que encajen bien con las pantallas de ordenador, y sólo hay unas pocas fuentes de <command
>MetaFont</command
> disponibles para lenguajes asiáticos. </para>
      
      <para
>Para superar estos problemas, las instalaciones más recientes de TeX incluyen fuentes que se almacenan en formato "PostScript Tipo 1", un formato ampliamente utilizado en publicación electrónica. &kdvi; es capaz de usar ambos formatos de fuente. </para>

      <para
>La siguiente imagen muestra el diálogo de opciones de fuente de &kdvi;, que puede ser utilizado para controlar el uso de &kdvi; de diversos formatos de fuente. </para>

      <screenshot>
        <screeninfo
>El apartado de <guilabel
>Tipografías</guilabel
></screeninfo>
        <mediaobject>
          <imageobject>
	    <imagedata fileref="optionrequester1.png" format="PNG"
></imagedata>
	  </imageobject>
          <textobject>
            <phrase
>El apartado de <guilabel
>Tipografías</guilabel
></phrase>
          </textobject>
        </mediaobject
>        
      </screenshot>

      <variablelist>
        <varlistentry>
          <term
><guilabel
>Utilizar información adicional para los tipos de letra Tipo 1 si está disponible</guilabel
> </term>
          <listitem>
	   <para
>El formato PostScript "Tipo 1" habitualmente contiene "ayuda de fuentes", es decir, información adicional que se supone que ayuda al software a producir una mejor salida en las pantallas de ordenador. La calidad de las ayudas de fuentes varía de una fuente a otra, y usted debería experimentar para ver si activar esta opción le da mejores resultados. </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect1>

    <sect1 id="opt-rendering">
      <title
>Opciones <guilabel
>Especiales de &DVI;</guilabel
></title>

      <para
>&kdvi; soporta un gran número de extensiones al formato original &DVI;, como por ejemplo hiperenlaces, inclusión de archivos gráficos o información empotrada en el archivo fuente. Estas extensiones se conocen como "Especiales de &DVI;". Un listado completo de los especiales soportados por &kdvi; se puede encontrar en <ulink url="KDVI-features.dvi"
>este documento</ulink
>. </para>

      <para
>El diálogo Especiales de &DVI; le ayudará en la configuración para algunos especiales. </para>

      <screenshot>
        <screeninfo
>El apartado de <guilabel
>Procesado</guilabel
></screeninfo>
        <mediaobject>
          <imageobject>
            <imagedata fileref="optionrequester2.png"
            format="PNG"
></imagedata>
	  </imageobject>
          <textobject>
            <phrase
>El apartado de <guilabel
>Procesado</guilabel
></phrase>
          </textobject>
        </mediaobject>
      </screenshot>

      <variablelist>
        <varlistentry>
          <term
><guilabel
>Mostrar especiales de PostScript</guilabel
></term>
          <listitem>
            <para
>Si esta opción está activada, &kdvi; mostrará gráficos &PostScript; incrustados dentro del archivo &DVI;. Es conveniente activar esta opción.</para>

            <para
>Si no se encuentra un archivo &PostScript; externo, &kdvi; mostrará una caja roja de advertencia en su lugar. Por desgracia, el procesado de gráficos &PostScript; es muy lento en la versión actual de &kdvi;. Mejoraremos la velocidad en futuras versiones. Si esta opción está desactivada, &kdvi; mostrará o bien una caja gris determinando la posición del gráfico, o bien dejará el espacio vacío.</para>

            <note>
              <para
>No hay un método normalizado para incrustar gráficos &PostScript; en un archivo &DVI;. Por lo tanto puede ocurrir que &kdvi; no pueda mostrar correctamente un gráfico que funciona bien en otros programas. Las versiones antiguas de <command
>xdvi</command
> y <command
>dvips</command
> soportan la ejecución de programas externos. Esto es un riesgo de seguridad y no ha sido implementado en &kdvi; intencionadamente. Se puede encontrar información técnica sobre cómo incluir &PostScript; en el documento <filename
>KDVI-features.dvi</filename
>.</para>
            </note>

          </listitem>
        </varlistentry>
        
        
        <varlistentry>
          <term
><guilabel
>Editor para búsqueda inversa</guilabel
></term>
          <listitem>
            <para
>Si tiene la intención de usar <ulink url="inverse-search.html"
>búsqueda inversa</ulink
>, una opción muy útil si escribe los documentos TeX usted mismo, deberá especificar qué editor usará, y como &kdvi; puede ejecutar este editor. En el ejemplo que se muestra, el usuario ha optado por el editor <application
>NEdit</application
>. Si utiliza uno de los editores preconfigurados en la lista desplegable <guilabel
>Editor</guilabel
>, no necesitará hacer nada más. Si desea utilizar un editor diferente, elija <guilabel
>Editor definido por el usuario</guilabel
> del desplegable <guilabel
>Editor</guilabel
> e introduzca la línea de comandos necesaria para iniciar dicho editor. Utilice los campos <token
>%f</token
> y <token
>%l</token
> que serán reemplazados por el nombre del archivo TeX y el número de línea del archivo TeX, respectivamente.</para>

            <para
>Si utiliza un editor que no está soportado, por favor envíenos un correo electrónico a <email
>kebekus@kde.org</email
> y adjúntenos la línea de comando utilizada y cómo ha configurado el editor.</para>
          </listitem>
        </varlistentry>
      </variablelist>

    </sect1>
  </chapter>

  <chapter id="faq">
    <title
>Preguntas más comunes</title>

    <qandaset>
      <qandaentry>
        <question id="fontgen">
          <para
>¿Qué ocurre cuando &kdvi; muestra el mensaje <errorcode
>Generando tipografías de mapa de bits</errorcode
>, y ese proceso dura tanto tiempo?</para>
        </question>
        <answer>
          <para
>Muchas de las tipografías utilizadas habitualmente en un documento TeX deben ser generadas por el sistema MetaFont. Metafont es un lenguaje similar a TeX (e incluido en la mayoría de las distribuciones de TeX) que a partir de una descripción del contorno de una tipografía genera una versión rasterizada (= archivo <literal role="extension"
>.pk</literal
>) de la misma que puede ser enviada a la impresora o utilizada en programas de visualización como el propio &kdvi;. Metafont trata de conseguir la mejor calidad posible en las copias impresas. Por ejemplo, tiene en cuenta que el pixel de una impresora de inyección de tinta tiene forma redondeada y que los pixels contíguos tienden a montarse unos con otros. Sin embargo, el pixel de una impresora láser es rectangular, pero es muy común que un pixel aislado no sea tenido en cuenta.</para>

          <para
>El generar esas fuentes de mapas de bits altamente optimizadas requiere, naturalmente, gran cantidad de tiempo, en particular teniendo en cuenta que los documentos de TeX utilizan habitualmente muchas fuentes distintas. Sólo podemos pedir paciencia. Para facilitar de alguna manera el proceso, la mayoría de las distribuciones de TeX almacenan los archivos <literal role="extension"
>.pk</literal
> durante un periodo de tiempo limitado, &eg; 100 días. Así pues, si accede al mismo documento más de una vez, los archivos <literal role="extension"
>.pk</literal
> serán reutilizados.</para>
        </answer>
      </qandaentry>

      <qandaentry>
        <question id="mfmodes">
          <para
>¿Qué es un modo MetaFont?</para>
        </question>
        <answer>
          <para
>Con el fin de obtener tipografías de mapas de bits optimizadas para determinada impresora (vea la respuesta a la primera pregunta), MetaFont tiene una base de datos de métodos de impresión, en un archivo llamado <filename
>modes.mf</filename
>. Un modo MetaFont es símplemente el nombre de una entrada de la base de datos. Por ejemplo, el nombre <quote
>ljfour</quote
> se refiere a la entrada de la base de datos que describe una impresora &Hewlett-Packard; LaserJet 4. Normalmente el modo MetaFont va seguido de un número, la resolución. La LaserJet, por ejemplo, es capaz de imprimir tanto en 300 como en 600 puntos por pulgada. Así pues, <quote
>ljfour/600</quote
> daría una descripción completa.</para>
        </answer>
      </qandaentry>

    </qandaset>
  </chapter>


  <chapter id="credits-and-license">
    <title
>Créditos y licencias</title>

    <para
>&kdvi;</para>

    <para
>&kdvi; está basado en el programa independiente &kdvi; 0.4.3 de Markku Hihnala. Ese programa está a su vez basado en la versión 18f de <application
>xdvi</application
>, que tiene varios autores.</para>

    <para
>La documentación tiene copyright 2001-2004, Stefan Kebekus <email
>kebekus@kde.org</email
></para>

    <para
>Traducido por Miguel Revilla Rodríguez <email
>yo@miguelrevilla.com</email
> y Rafael Rodríguez Martín <email
>apt-drink@telefonica.net</email
></para
> 
&underGPL; &underFDL; </chapter>
    
&documentation.index;

</book>
<!--
Local Variables:
mode: sgml
sgml-omittag: nil
sgml-shorttag: t
End:
-->

