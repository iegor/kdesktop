<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN" "dtd/kdex.dtd" [
  <!ENTITY kleopatra "<application
>Kleopatra</application
>">
  <!ENTITY kwatchgnupg "<application
>KWatchGnuPG</application
>">
  <!ENTITY gpgsm "<application
>GpgSM</application
>">
  <!ENTITY gpg "<application
>GPG</application
>">
  <!ENTITY gpgconf "<application
>GpgConf</application
>">
  <!ENTITY kappname "&kleopatra;">
  <!ENTITY package "kdepim">
  <!ENTITY % addindex "IGNORE">
  <!ENTITY % Spanish "INCLUDE">

  <!ENTITY dn "<acronym
>DN</acronym
>">
  <!ENTITY ca "<acronym
>CA</acronym
>">

  <!-- FILE menu -->
  <!ENTITY file-new-key-pair "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>New Key Pair...</guimenuitem
></menuchoice
>">
  <!ENTITY file-export-certificates "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Export Certificates...</guimenuitem
></menuchoice
>">
  <!ENTITY file-export-secret-key "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Export Secret key...</guimenuitem
></menuchoice
>">
  <!ENTITY file-import-certificates "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Import Certificates...</guimenuitem
></menuchoice
>">
  <!ENTITY file-import-crls "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Import CRLs...</guimenuitem
></menuchoice
>">
  <!ENTITY file-quit "<menuchoice
><shortcut
><keycombo action='simul'
>&Ctrl;<keycap
>Q</keycap
></keycombo
></shortcut
><guimenu
>File</guimenu
><guimenuitem
>Quit</guimenuitem
></menuchoice
>">

  <!-- VIEW menu -->
  <!ENTITY view-redisplay "<menuchoice
><shortcut
><keycombo action='simul'
><keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Redisplay</guimenuitem
></menuchoice
>">
  <!ENTITY view-stop-operation "<menuchoice
><shortcut
><keycombo action='simul'
><keycap
>Esc</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Stop Operation</guimenuitem
></menuchoice
>">
  <!ENTITY view-certificate-details "<menuchoice
><guimenu
>View</guimenu
><guimenuitem
>Certificate Details...</guimenuitem
></menuchoice
>">
  <!ENTITY view-hierarchical-key-list "<menuchoice
><guimenu
>View</guimenu
><guimenuitem
>Hierarchical Key List</guimenuitem
></menuchoice
>">
  <!ENTITY view-expand-all "<menuchoice
><shortcut
><keycombo action='simul'
>&Ctrl;<keycap
>.</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Expand All</guimenuitem
></menuchoice
>">
  <!ENTITY view-collapse-all "<menuchoice
><shortcut
><keycombo action='simul'
>&Ctrl;<keycap
>,</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Collapse All</guimenuitem
></menuchoice
>">

  <!-- CERTIFICATES menu -->
 <!ENTITY certificates-validate "<menuchoice
><shortcut
><keycombo action='simul'
>&Shift;<keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>Certificates</guimenu
><guimenuitem
>Validate</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-refresh-crls "<menuchoice
><guimenu
>Certificates</guimenu
><guimenuitem
>Refresh CRLs</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-delete "<menuchoice
><shortcut
><keycombo action='simul'
><keycap
>Delete</keycap
></keycombo
></shortcut
><guimenu
>Certificates</guimenu
><guimenuitem
>Delete</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-download "<menuchoice
><guimenu
>Certificates</guimenu
><guimenuitem
>Download</guimenuitem
></menuchoice
>">

  <!-- CRLS menu -->
  <!ENTITY crls-clear-crl-cache "<menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Clear CRL Cache...</guimenuitem
></menuchoice
>">
  <!ENTITY crls-dump-crl-cache "<menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Dump CRL Cache...</guimenuitem
></menuchoice
>">

  <!-- TOOLS menu -->
  <!ENTITY tools-gnupg-log-viewer "<menuchoice
><guimenu
>Tools</guimenu
><guimenuitem
>GnuPG Log Viewer...</guimenuitem
></menuchoice
>">

  <!-- SETTINGS menu -->
  <!ENTITY settings-show-statusbar "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Show Statusbar</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-shortcuts "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure Shortcuts...</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-kleopatra "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure &kleopatra;...</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-gpgme-backend "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure GpgME Backend...</guimenuitem
></menuchoice
>">

  <!-- Command line options -->
  <!ENTITY commandline-option-external "<option
>--external</option
>">
  <!ENTITY commandline-option-query "<option
>--query</option
>">
  <!ENTITY commandline-option-import-certificate "<option
>--import-certificate</option
>">
]>

<book lang="&language;">

<bookinfo>
<title
>El manual de &kleopatra;</title>

<authorgroup>
<author
><firstname
>Marc</firstname
> <surname
>Mutz</surname
> <affiliation
> <address
><email
>marc@klaralvdalens-datakonsult.se</email
></address>
</affiliation>
</author>

<othercredit role="developer"
><firstname
>David</firstname
> <surname
>Faure</surname
> <contrib
>Desarrollador</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Steffen</firstname
> <othername
></othername
> <surname
>Hansen</surname
> <affiliation
> <address
><email
>steffen@klaralvdalens-datakonsult.se</email
></address>
</affiliation>
<contrib
>Desarrollador</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Matthias Kalle</firstname
> <surname
>Dalheimer</surname
> <contrib
>Desarrollador</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Jesper</firstname
> <surname
>Pedersen</surname
> <affiliation
> <address
><email
>blackie@kde.org</email
></address>
</affiliation>
<contrib
>Desarrollador</contrib>
</othercredit>
<othercredit role="developer"
><firstname
>Daniel</firstname
> <surname
>Molkentin</surname
> <affiliation
> <address
><email
>molkentin@kde.org</email
></address>
</affiliation>
<contrib
>Desarrollador</contrib>
</othercredit>

<othercredit role="translator"
><firstname
>Juan Manuel</firstname
><surname
>García Molina</surname
><affiliation
><address
><email
>juanma@superiodico.net</email
></address
></affiliation
><contrib
>Traductor</contrib
></othercredit
> 
</authorgroup>

<legalnotice
>&GPLNotice;</legalnotice>

<date
>2004-06-11</date>
<releaseinfo
>0.31</releaseinfo>

<abstract>
<para
>&kleopatra; es una herramienta para gestionar certificados X.509. </para>
</abstract>


<keywordset>
<keyword
>KDE</keyword>
<keyword
>Kapp</keyword>
<keyword
>X509</keyword>
<keyword
>LDAP</keyword>
<keyword
>gpg</keyword>
<keyword
>gpgsm</keyword>
</keywordset>

</bookinfo>

<chapter id="introduction"
> <title
>Introducción</title
> 

<para
>&kleopatra; es la herramienta de &kde; para manipular certificados X 509 con &gpgsm; y para recuperar certificados de servidores <acronym
>LDAP</acronym
>.</para>

<para
>&kleopatra; se puede iniciar desde el menú <guimenu
>Herramientas</guimenu
> de KMail, así como desde la línea de órdenes. El ejecutable de &kleopatra;se llama <userinput
><command
>kleopatra</command
></userinput
>.</para>

<note
><para
>Este programa se llama como Cleopatra, una famosa faraona egipcia contemporánea de Julio César, con quien se dice que tuvo una relación íntima.</para>

<para
>El nombre se eligión porqueel programa se originó en el <ulink url="http://www.gnupg.org/aegypten2/"
>proyecto &Auml;gypten</ulink
> (&Auml;gypten es Egipto en alemán). Kleopatra es la forma de escribir Cleopatra en alemán.</para
></note>

</chapter>

<chapter id="functions"
><title
>Funciones principales</title>

<sect1 id="functions-view"
><title
>Ver la caja de claves local</title>

<!-- Viewing and Refreshing, also Validation -->

<para
>La función principal de &kleopatra; es mostrar y editar el contenido de la caja de claves local, que es similar al concepto de los anillos de claves de &gpg;, aunque no se ajuste demasiado a esta analogía.</para>

<para
>La ventana principal está dividida en la gran área de listado de claves, la barra de menús y la <link linkend="functions-search"
>barra de búsqueda</link
> arriba, y la barra de estado abajo.</para>

<para
>Cada línea de la lista de claves corresponde a un certificado, que se identidica por el llamado <guilabel
>Asunto &dn;</guilabel
>. &dn; es el acrónimo de <quote
>Distinguished Name</quote
> (n.t. Nombre distintivo), algo como una ruta al sistema de archivos con una sintaxis poco usual. Se supone  que es un identificador global único que identifica al certificado.</para>

<para
>Para que sea válido y, por tanto, útil, las claves (públicas) tienen que estar firmadas por una &ca; (Certification Authority - n.t. Autoridad certificadora). Estas firmas se llaman certificados, pero normalmente los términos <quote
>certificado</quote
> y <quote
>clave (pública)</quote
> se usan indistintamente, y no haremos distinciones entre ellos en este manual, salvo cuando se indique de forma explícita. El nombre de la &ca; que emitió el certificado (su &dn;) se muestra en la columna <guilabel
>DN emisora</guilabel
>.</para>

<para
>Las &ca;pueden tener que estar firmadas por otras &ca; para ser válidas. Por supuesto, debe existir un límite, por lo que la &ca; de nivel superior (&ca; raíz) firma su clave con ella misma (a esto se le llama firmar a sí mismo). A los certificados raíz, por tanto, se les tiene que asignar manualmente una validez (llamada frecuentemente confianza), &eg; después de comparar la huella dactilar con la del sitio web de la &ca;. Normalmente, suele hacerlo el administrador del sistema o el vendedor de un producto que use certificados, pero cualquier usuario puede hacerlo también con el interfaz de línea de comandos de &gpgsm;.</para>

<para
>Para ver cuáles de los certificados son certificados raíz, puede o bien comparar <guilabel
>Asunto &dn;</guilabel
> y <guilabel
>&dn; emisora</guilabel
>, o puede pasar al modo de lista jerárquica de claves con <xref linkend="view-hierarchical-key-list"/>.</para>

<para
>Puede ver los detalles de cualquier certificado haciendo doble clic o usando <xref linkend="view-certificate-details"/>. Se abrirá un cuadro de diálogo que mostrará las propiedades más frecuentes del certificado, su cadena de certificado (&ie;, la cadena del emisor hasta la &ca; raíz) y un volcado de toda la información del certificado que se puede extraer de la dorsal.</para>

<para
>Si cambia la caja de claves sin usar &kleopatra; (&eg; usando el interfaz de línea de órdenes de &gpgsm;), debería refrescar la vista con <xref linkend="view-redisplay"/>.</para>

<para
>Ya que la validación de una clave puede llevar algo de tiempo (&eg; puede hacer falta recopilar CRLs), el listado de claves normal no intenta comprobar la validez de las claves. Por ello se porporciona <xref linkend="certificates-validate"/>, una variante especial de <xref linkend="view-redisplay"/>. Se comprueban los certificados seleccionados o bien todas las claves si no hay ninguna seleccionada.</para>

</sect1>

<sect1 id="functions-search"
><title
>Buscar e importar certificados</title>

<para
>La mayoría de las veces, adquirirá los certificados nuevos al verificar las firmas de los correos electrónicos, porque los certificados se incrustan en las firmas que se hacen al usarlos. Sin embargo, si necesita enviar un correo a alguien con el que no se haya puesto en contacto aún, tendrá que obtener el certificado de un directorio LDAP (aunque &gpgsm; puede hacerlo automáticamente), o desde un archivo. También tendrá que importar su propio certificado tras recibir la respuesta de la &ca; a su petición de certificación.</para>

<para
>Para buscar un certificado en un directorio LDAP, vaya al menú desplegable de la barra de búsqueda de <guilabel
>en certificados locales</guilabel
> a <guilabel
>en certificados externos</guilabel
>, introduzca algo del texto (&eg; el nombre de la persona para la que quiere el certificado) en la línea de edición, y haga clic sobre el icono <guilabel
>Encontrar</guilabel
>. Los resultados se mostrarán en la lista de claves de debajo de la barra de búsqueda, en la que puede seleccionar los certificados, buscarlos con <xref linkend="view-certificate-details"/> o descargarlos con <xref linkend="certificates-download"/> en la caja de claves local. Tenga en cuenta que también puede descargar el certificado desde el cuadro de diálogo de detalles, usando el botón <guilabel
>Importar como local</guilabel
>.</para>

<para
>Puede configurar la lista de servidores LDAP para las búsquedas en la página <link linkend="configuration-directory-services"
><guilabel
>Servicios de directorio</guilabel
></link
> del <link linkend="configuration"
>cuadro de diálogo de configuración</link
> de &kleopatra; .</para>

<para
>Si recibió el certificado como un archivo, intente <xref linkend="file-import-certificates"/>. &gpgsm; tiene que entender el formato del archivo de certificado. Puede dirigirse al manual de &gpgsm; para acceder a una lista de los archivos admitidos.</para>

<para
>Si no <link linkend="functions-newkey"
>creó su par de claves con &gpgsm;</link
>, también tendrá que importar manualmente tanto la clave pública (también la clave secreta) desde el archivo PKCS#12 que obtuvo de la &ca;. Puede hacerlo desde la línea de órdenes con <link linkend="commandline-option-import-certificate"
><userinput
><command
>kleopatra &commandline-option-import-certificate; <filename
>nombrearchivo</filename
></command
></userinput
></link
> o desde &kleopatra; con <xref linkend="file-import-certificates"/>, tal y como lo haría con los certificados <quote
>normales</quote
>.</para>

</sect1>

<sect1 id="functions-newkey"
><title
>Crear un nuevo par de claves</title>

<para
>El elemento <xref linkend="file-new-key-pair"/> del menú inicia el asistente de creación y petición de certificados, que le guiará a través de unos sencillos pasos en la creación de una solicitud de certificado. Esta petición puede, en la última página del asistente, enviarse a la autoridad certificadora (CA) para que la firme o guardarse en un archivo (por ejemplo, en un disquete para poderla enviar a la CA).</para
> <para
>Cuando haya terminado un paso del asistente, presione <guibutton
>Adelante</guibutton
> para ir al siguiente paso (o <guibutton
>Atrás</guibutton
> para revisar los pasos que ya ha completado). La creación de solicitud de certificado se puede cancelar en cualquier momento presionando el botón <guibutton
>Cancelar</guibutton
>. </para>
<para
>El primer paso del asistente es teclear sus datos personales para el certificado. Los campos que tiene que rellenar son: <itemizedlist>
<listitem>
<para
><guilabel
>Nombre:</guilabel
> Su nombre.</para>
</listitem>
<listitem>
<para
><guilabel
>Ubicación:</guilabel
> El pueblo o ciudad donde vive.</para>
</listitem>
<listitem>
<para
><guilabel
>Organización:</guilabel
> La organización que representa (por ejemplo, la empresa en la que trabaja).</para>
</listitem>
<listitem>
<para
><guilabel
>Departmento:</guilabel
> La unidad organizativa en la que está (por ejemplo, «Logística»).</para
> 
</listitem>
<listitem>
<para
><guilabel
>Código del país:</guilabel
> El código de dos letras del país en el que vive (por ejemplo, «ES»).</para>
</listitem>
<listitem>
<para
><guilabel
>Dirección de correo-e:</guilabel
> Su dirección de correo electrónico. Asegúrese de teclearla correctamente. Ésta será la dirección a la que la gente le enviará el correo cuando use su certificado.</para>
</listitem>
</itemizedlist>
</para
><para
>El siguiente paso en el asistente es seleccionar si almacenar el certificado en un archivo o enviarlo directamente a la CA. Tendrá que indicar el nombre del archivo o la dirección de correo electrónico a la que va a enviar la petición del certificado. </para
></sect1>


<sect1 id="functions-keybox-management"
><title
>Gestión de la caja de claves</title>

<para
>Además de <link linkend="functions-view"
>mostrar una lista y validar</link
>, <link linkend="functions-search"
>buscar e importar</link
> certificados y <link linkend="functions-newkey"
>crearlos nuevos</link
>, &kleopatra; tiene algunas funciones que se usan con menor frecuencia, pero que pueden ayudarle a gestionar su caja de claves local.</para>

<para
>Entre estas funciones se incluye la eliminación de certificados de la caja de claves local con <xref linkend="certificates-delete"/>, así como gestión manual de CRLs (<xref linkend="certificates-refresh-crls"/>, <xref linkend="crls-clear-crl-cache"/>, <xref linkend="crls-dump-crl-cache"/>).</para>

</sect1>

</chapter>

<chapter id="menu"
><title
>Referencia de menús</title>

<sect1 id="menufile"
><title
>Menú Archivo</title>

<variablelist>

<varlistentry id="file-new-key-pair">
<term
>&file-new-key-pair;</term>

<listitem>
<para
><action
>Crea un nuevo par de claves (pública y privada)</action
> y le permite enviar la parte pública a una autoridad certificadora (<acronym
>CA</acronym
>) para que la firme. El certificado resultante se lo deben devolver o almacenarlo en un servidor LDAP para que lo descargue en su caja de claves local, para que pueda usarlo para firmar y cifrar correos.</para>

<para
>Este modo de operación se llama <quote
>generación descentralizada de claves</quote
>, porque todas las claves se crean localmente. &kleopatra; (y &gpgsm;) no admite directamente la <quote
>generación centralizada de claves</quote
>, pero puede importar recopilaciones de claves públicas/secretas que reciba de la CA en formato PCKS#12 por medio de &file-import-certificates;.</para>
</listitem>
</varlistentry>


<varlistentry id="file-export-certificates">
<term
>&file-export-certificates;</term>

<listitem>
<para
><action
>Exporta los certificados seleccionados</action
> en un archivo.</para>

<note
><para
>Sólo exporta las claves públicas, aunque la clave secreta esté disponible. Use &file-export-secret-key; para exportar tanto las claves públicas como las privadas en un archivo, pero tenga en cuenta que casi siempre esto es una mala idea.</para
></note>
</listitem>
</varlistentry>


<varlistentry id="file-export-secret-key">
<term
>&file-export-secret-key;</term>

<listitem>
<para
><action
>Exporta tanto la clave pública como la clave secreta en un archivo (PKCS#12).</action
></para>

<warning
><para
>Raramente debiera ser necesario usar esta función y, si lo fuera, debiera planificarse con cuidado. Planificar la migración de una clave secreta implica la elección del medio de transporte y la eliminación segura de los datos de la clave de la máquina antigua, así como el medio de transporte, entre otras cosas.</para
></warning>
</listitem>
</varlistentry>


<varlistentry id="file-import-certificates">
<term
>&file-import-certificates;</term>

<listitem>
<para
><action
>Importa certificados y/o claves secretas desde archivos a la caja de claves local.</action
></para>

<para
>El formato del archivo de certificado debe admitirlo &gpgsm;. Puede dirigirse al manual de &gpgsm; para tener acceso a una lista de los formatos admisibles.</para>
</listitem>
</varlistentry>


<varlistentry id="file-import-crls">
<term
>&file-import-crls;</term>

<listitem>
<para
><action
>Le permite importar manualmente CRLs desde archivos.</action
></para>

<para
>Normalmente, las Certificate Revocation Lists (CRLs, listas de revocación de certificados) las gestiona la dorsal de forma transparente, pero en algunas ocasiones puede ser útil importar manualmente una CRL en la caché local de CRL.</para>

<note
><para
>Para que funcione la importación de CRL, la herramienta <application
>dirmngr</application
> debe estar en el <varname
>PATH</varname
> (n.t. ruta) de búsqueda. Si este elemento del menú está desactivado, debería ponerse en contacto con el administrador del sistema y pedirle que instale <application
>dirmngr</application
>.</para
></note>

<para
>Puede ver el contenido de la caché local de CRL en el elemento &crls-dump-crl-cache; del menú. Le mostrará un cuadro de diálogo con información sobre los CRLs de la caché y las huellas dactilares de los certificados de cada CRL. </para>
</listitem>
</varlistentry>


<varlistentry id="file-quit">
<term
>&file-quit;</term>

<listitem>
<para
><action
>Hace que termine &kleopatra;.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1
> <!-- File Menu -->



<sect1 id="menuview"
><title
>Menú Ver</title>

<variablelist>

<varlistentry id="view-redisplay">
<term
>&view-redisplay;</term>

<listitem>
<para
><action
>Vuelve a mostrar los certificados seleccionados o refresca la lista de certificados.</action
></para>

<para
>Si hay certificados seleccionados, la operación de refresco está restringida a las entradas seleccionadas.</para>

<para
>Si en ese momento se está mostrando el resultado de una consulta (remota o local), la consulta se vuelve a lanzar y los nuevos resultados se muestran en lugar de los antiguos.</para>

<para
>Si no se ha realizado ninguna consulta, se vuelve a obtener el contenido de la caja de claves al completo y se vuelve a mostrar.</para>

<para
>Puede usarlo si una herramienta diferente de &kleopatra; ha cambiado el contenido de la caja de claves (&eg;, usando el interfaz de línea de órdenes &gpgsm;).</para>
</listitem>
</varlistentry>


<varlistentry id="view-stop-operation">
<term
>&view-stop-operation;</term>

<listitem>
<para
><action
>Detiene (cancela) todas las operaciones pendientes</action
>, &eg; una búsqueda o una descarga.</para>

<note
><para
>Según el servidor que use, la cancelación de una búsqueda remota puede bloquear &kleopatra; durante algunos segundos, mientras que se espera a que la dorsal complete el procedimiento. Es un comportamiento normal y esperado.</para
></note>
</listitem>
</varlistentry>


<varlistentry id="view-certificate-details">
<term
>&view-certificate-details;</term>

<listitem>
<para
><action
>Muestra los detalles del certificado seleccionado actualmente.</action
></para>

<para
>Esta función también está disponible haciendo doble clic directamente sobre el elemento correspondiente de la vista de lista.</para>

<!--FIXME: link to the dialog's help, but where do we put _that_?-->
</listitem>
</varlistentry>


<varlistentry id="view-hierarchical-key-list">
<term
>&view-hierarchical-key-list;</term>

<listitem>
<para
><action
>Alterna entre el modo jerárquico y el plano de la lista de claves. </action
></para>

<para
>En el modo jerárquico, los certificados están ordenados por relaciones emisor/asunto, por lo que es sencillo ver a qué certificación jerárquica pertenece un certificado dado, pero es más difícil encontrar un certificado inicialmente (por supuesto, también puede usar la<link linkend="functions-search"
>barra de búsqueda</link
>).</para>

<para
>En modo plano, se muestran todos los certificados en una lista plana, ordenados alfabéticamente. En este modo, es fácil de encontrar un certificado dado, pero no se aprecia claramente a qué certificado raíz pertenece.</para>
</listitem>
</varlistentry>


<varlistentry id="view-expand-all">
<term
>&view-expand-all;</term>

<listitem>
<para
>(Esta función sólo está disponible cuando esté activo <xref linkend="view-hierarchical-key-list"/>).</para>

<para
><action
>Expande todos los elementos en la vista de lista de certificados</action
>, &ie;, hace que todos los elementos estén disponibles.</para>

<para
>Es el valor predefinido al entrar en el modo jerárquico de lista de claves.</para>

<para
>Por supuesto, puede expandir y contraer los elementos individuales.</para>
</listitem>
</varlistentry>



<varlistentry id="view-collapse-all">
<term
>&view-collapse-all;</term>

<listitem>
<para
>(Esta función sólo está disponible cuando esté activo <xref linkend="view-hierarchical-key-list"/>).</para>

<para
><action
>Contrae todos los elementos de la lista en la vista de lista de certificados</action
>, &ie; oculta todos los elementos, salvo los de nivel superior.</para>

<para
>Por supuesto, puede expandir y contraer los elementos individuales.</para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menucertificates"
><title
>Menú Certificados</title>

<variablelist>

<varlistentry id="certificates-validate">
<term
>&certificates-validate;</term>

<listitem>
<para
><action
>Valida las claves seleccionadas (o todas).</action
></para>

<para
>Es similar a <xref linkend="view-redisplay"/>, pero realiza una validación de las claves (seleccionadas). Aquí, la validación significa se obtienen todos los CRLs relevantes, y se comprueba la corrección de las cadenas de certificados. Como resultado, las claves no válidas o caducadas, se marcarán según las preferencias de tipografía y color que haya configurado en la <link linkend="configuration-appearance"
>página <guilabel
>Apariencia</guilabel
></link
> del <link linkend="configuration"
>cuadro de diálogo de configuración</link
> de &kleopatra;.</para>

<warning
><para
>Puede fiarse de la información de las claves validadas y, ya que cualquiera de ellas se puede revocar en cualquier momento, incluso la validación no es más que una instantánea del estado actual del anillo de claves local. Por eso, la dorsal realiza normalmente estas verificaciones cuando se va a usar la clave (&eg;, para firmado, verificación de firma, cifrado o descifrado).</para
></warning>
</listitem>
</varlistentry>



<varlistentry id="certificates-refresh-crls">
<term
>&certificates-refresh-crls;</term>

<listitem>
<para
><action
>Obtiene los CRLs actuales para todas las claves seleccionadas</action
>, aunque no se suelan obtener cuando se vaya a usar la clave.</para>

<para
>Esta función sólo tiene efecto sobre los certificados que definan un punto de distribución de CRL. Según la dorsal que se use, los certificados que estén configurados para realizar comprobaciones que usen OCSP no se actualizarán.</para>

<para
>Puede usarlo &eg; si tiene conocimiento de que se haya revocado una clave y quiere que la dorsal lo refleje <emphasis
>ahora</emphasis
> en lugar de esperar a que se haga automáticamente en la próxima actualización de CRL programada.</para>

<warning
><para
>El uso excesivo de esta función podría suponer una enorme carga en la red de su proveedor o de su empresa, porque los CRLs de las grandes organizaciones pueden ser sorprendentemente grandes (no es tan infrecuente que ocupen varios megabytes).</para>

<para
>Use escasamente esta función.</para
></warning>
</listitem>
</varlistentry>



<varlistentry id="certificates-delete">
<term
>&certificates-delete;</term>

<listitem>
<para
><action
>Elimina los certificados seleccionados</action
> del anillo de claves local.</para>

<para
>Use esta función para eliminar las claves no usadas de su caja de claves local. Sin embargo, como los certificados se añaden típicamente a los correos electrónicos firmados, verificar un correo electrónico puede provocar que la clave se elimine en la caja de claves local. Por tanto, probablemente lo mejor sea evitar esta función siempre que sea posible. Cuando se pierda, use la <link linkend="functions-search"
>barra de búsqueda</link
> o la función <xref linkend="view-hierarchical-key-list"/> para volver a tener el control sobre la inmensidad de certificados.</para>
</listitem>
</varlistentry>



<varlistentry id="certificates-download">
<term
>&certificates-download;</term>

<listitem>
<para
><action
>Descarga los certificados seleccionados de LDAP a la caja de claves local.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>



<sect1 id="menucrls"
><title
>Menú CRLs</title>

<variablelist>

<varlistentry id="crls-clear-crl-cache">
<term
>&crls-clear-crl-cache;</term>

<listitem>
<para
><action
>Limpia la caclé CRL de &gpgsm;.</action
></para>

<para
>Probablemente nunca lo necesite. Puede forzar a que se refresque la caché de CRL seleccionando todos los certificados y usando en su lugar <xref linkend="certificates-refresh-crls"/>.</para>
</listitem>
</varlistentry>

<varlistentry id="crls-dump-crl-cache">
<term
>&crls-dump-crl-cache;</term>

<listitem>
<para
><action
>Muestra el contenido detallado de la caché CRL de &gpgsm;.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menutools"
><title
>Menú Herramientas</title>

<variablelist>

<varlistentry id="tools-gnupg-log-viewer">
<term
>&tools-gnupg-log-viewer;</term>

<listitem>
<para
><action
>Inicia <ulink url="help:/kwatchgnupg/index.html"
>&kwatchgnupg;</ulink
></action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menusettings"
><title
>Menú Preferencias</title>

<variablelist>

<varlistentry id="settings-show-statusbar">
<term
>&settings-show-statusbar;</term>

<listitem>
<para
><action
>Muestra u oculta la barra de estado de la zona inferior.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-shortcuts">
<term
>&settings-configure-shortcuts;</term>

<listitem>
<para
><action
>Abre el cuadro de diálogo de configuración de los accesos rápidos de teclado estándar de &kde;, en el que puede asignar y reasignar accesos rápidos de teclado para todos los elementos del menú.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-kleopatra">
<term
>&settings-configure-kleopatra;</term>

<listitem>
<para
><action
>Abre el cuadro de diálogo de configuración de &kleopatra;.</action
></para>

<para
>Para más detalles, diríjase a <xref linkend="configuration"/>.</para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-gpgme-backend">
<term
>&settings-configure-gpgme-backend;</term>

<listitem>
<para
><action
>Abre un cuadro de diálogo que le permite configurar cada aspecto de &gpgsm; y otros módulos de la dorsal.</action
></para>

<para
>Este cuadro de diálogo se construye dinámicamente según la salida de la utilidad &gpgconf; y puede cambiar si se actualizan los módulos de la dorsal.</para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menuhelp"
><title
>Menú Ayuda</title>


<para
>El menú <guimenu
>Ayuda</guimenu
> tiene el menú de ayuda estándar de &kde;.</para>
&help.menu.documentation; </sect1>

</chapter>

<chapter id="commandline-options"
><title
>Referencia de las opciones de la línea de órdenes</title>

<para
>Sólo se muestran aquí las opciones específicas de &kleopatra;. Como con todas las aplicaciones de &kde;, puede tener una lista completa de estas opciones lanzando el comando <userinput
><command
>kleopatra <option
>--help</option
></command
></userinput
>.</para>

<variablelist>

<varlistentry id="commandline-option-external">
<term
>&commandline-option-external;</term>

<listitem>
<para
><action
>Especifica que &commandline-option-query; debe buscar remotamente en lugar de en la caja de claves local.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="commandline-option-query">
<term
>&commandline-option-query;</term>

<listitem>
<para
><action
>Especifica que &kleopatra; debe comenzar con la cadena de búsqueda dada en lugar de mostrar al completo la caja de claves local.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="commandline-option-import-certificate">
<term
>&commandline-option-import-certificate;</term>

<listitem>
<para
><action
>Especifica un archivo o una URL desde donde importar los certificados (o claves secretas).</action
></para>

<para
>Es la línea de comando equivalente a <xref linkend="file-import-certificates"/>.</para>
</listitem>
</varlistentry>

</variablelist>

</chapter>

<chapter id="configuration"
><title
>Configurar &kleopatra;</title>

<para
>Puede llegar al cuadro de diálogo de configuración de &kleopatra; por medio de <xref linkend="settings-configure-kleopatra"/>.</para>

<para
>En las secciones siguientes se describe cada una de las páginas.</para>

<sect1 id="configuration-directory-services"
><title
>Configurar los servicios de directorio</title>

<para
>En esta página puede configurar qué servidores LDAP se van a usar para buscar certificados. También puede configurar el orden, así como algunas opciones relacionadas con LDAP en el cuadro de configuración de la dorsal dinámica, disponible vía <xref linkend="settings-configure-gpgme-backend"/>.</para>

<para
>Para añadir un servidor nuevo, haga clic sobre el botón <guilabel
>Añadir servicio...</guilabel
>. En el cuadro de diálogo que aparece puede definir el <guilabel
>Nombre del servidor</guilabel
>, el <guilabel
>Puerto</guilabel
> (inicialmente puesto como el puerto LDAP predefinido), el <guilabel
>DN base</guilabel
> (a veces se refiere a él como raíz de búsqueda o base de la búsqueda), y los habituales <guilabel
>Nombre de usuario</guilabel
> y <guilabel
>Contraseña</guilabel
>, ambos necesarios sólo si el servidor requiere autenticación. Al hacer clic sobre <guilabel
>Aceptar</guilabel
>, se añaden los detalles del servidor a la lista de servidores, mientras que <guilabel
>Cancelar</guilabel
>, se renuncia a la entrada.</para>

<para
>Para eliminar un servidor de búsqueda de la lista, selecciónelo y luego presione el botón <guilabel
>Eliminar servicio</guilabel
>.</para>

<para
>Para cambiar el orden relativo de los servidores para las búsquedas, seleccione uno de ellos y desplácelo hacia arriba o hacia abajo con los botones que hay junto a la lista.</para>

<para
>Para definir el tiempo de espera de LDAP, &ie; el tiempo máximo que se esperará a la dorsal para que responda el servidor, simplemente use el correspondiente campo de entrada, llamado <guilabel
>Tiempo de espera LDAP</guilabel
>.</para>

<para
>Si uno de los servidores tiene una base de datos enorme que hace que, búsquedas razonables como <userinput
>García</userinput
> alcancen el <guilabel
>número máximo de elementos devueltos por la consulta</guilabel
>, puede querer incrementar este límite. Puede averiguar fácilmente si alcanza este límite durante la búsqueda, porque en ese caso se mostrará un cuadro de diálogo para decirle que se van a truncar los resultados.</para>

<note
><para
>Algunos servidores pueden imponer sus propios límites al número de elementos que devuelve una consulta. En este caso, aunque incremente el límite no se devolverán más elementos.</para
></note>

</sect1>

<sect1 id="configuration-appearance"
><title
>Configurar la apariencia visual</title>

<para
>&kleopatra; le permite personalizar la apariencia de las claves (validadas) que hay en la vista de lista. Incluye los colores de primer plano (de texto) y de fondo, así como la tipografía.</para>

<para
>A cada <guilabel
>Categoría de clave</guilabel
> de la izquierda se le asigna un conjunto de colores y una tipografía para cuando se muestren las claves que pertenecen a esa categoría. La lista de categorías actuá como vista preliminar de las opciones. Las categorías las puede definir libremente el administrador o el usuario avanzado. Puede dirigirse a <xref linkend="admin-key-filters"/> en <xref linkend="admin"/>.</para>

<para
>Para cambiar el color del texto (primer plano) de una categoría, selecciónelo en la lista y presione el botón <guilabel
>Definir el color del texto...</guilabel
>. Aparecerá el cuadro de diálogo estándar de selección de color y podrá seleccionar o crear un color nuevo.</para>

<para
>El cambio del color de fondo se hace de la misma forma. Simplemente presione <guilabel
>Definir color de fondo...</guilabel
>.</para>

<para
>Para cambiar la tipografía, básicamente tiene dos opciones:</para>

<orderedlist>
<listitem
><para
>Modificar la tipografía estándar, usada en todas las vistas de lista de &kde;.</para
></listitem>
<listitem
><para
>Usar una tipografía personalizada.</para
></listitem>
</orderedlist>

<para
>La primera opción tiene la ventaja de que la tipografía seguirá el estilo que seleccione para &kde; al completo, mientras que la última le da un control completo sobre la tipografía que se va a usar. Suya es la decisión.</para>

<para
>Para usar la tipografía estándar modificada, seleccione la categoría de la lista, y marque o desmarque los modificadores de tipografía <guilabel
>Cursiva</guilabel
>, <guilabel
>Negrita</guilabel
> y/o <guilabel
>Tachado</guilabel
>. Puede ver inmediatamente el efecto de la tipografía en la lista de categorías.</para>

<para
>Para usar una tipografía personalizada, presione el botón <guilabel
>Definir tipografía...</guilabel
>. Aparecerá el cuadro de diálogo de selección de tipografías estándar de &kde; y podrá seleccionar la nueva tipografía. Tenga en cuenta que puede usar los modificadores de tipografías para cambiar la tipografía personalizada, igual que para modificar la tipografía estándar.</para>

<para
>Para volver a la tipografía estándar, tiene que presionar el botón <guilabel
>Apariencia predefinida</guilabel
>.</para>

</sect1>

<sect1 id="configuration-dn-order"
><title
>Configurar el orden de los atributos DN que se muestran</title>

<para
>Aunque los &dn;s son jerárquicos, el orden de los componentes individuales (llamados &dn;s relativos (RDNs), o atributos &dn;s) no está definido. El orden en el que se muestran los atributos es, por tanto, cuestión de gustos personales o de política de empresa, de ahí que sea configurable en &kleopatra;.</para>

<note
><para
>Esta opción no sólo se aplica a &kleopatra;, sino a todas las aplicaciones que usen la tecnología de &kleopatra;. En el momento de escribir estas líneas, entre ellas estaban KMail, KAddressBook, así como la propia &kleopatra;, por supuesto.</para
></note>

<para
>Esta página de configuración consta básicamente de dos listas, una para los atributos conocidos (<guilabel
>Atributos disponibles</guilabel
>) y uno para describir el <guilabel
>Orden actual de los atributos</guilabel
>.</para>

<para
>Ambas listas tienen entradas que se describen como la forma breve del atributo (&eg; <guilabel
>CN</guilabel
>), así como la forma expandida (<guilabel
>Nombre común</guilabel
>).</para>

<para
>La lista <guilabel
>Atributos disponibles</guilabel
> siempre se ordena alfabéticamente, mientras que la lista <guilabel
>Orden actual del atributo</guilabel
> refleja el orden del atributo &dn; configurado: el primer atributo de la lista también es el que se muestra primero.</para>

<para
>Sólo los atributos que se muestran explícitamente en la lista <guilabel
>Orden actual de los atributos</guilabel
> se muestran. Los demás están ocultos de forma predefinida.</para>

<para
>Sin embargo, si la entrada mantenedora de posición <guilabel
>_X_</guilabel
> (<guilabel
>Todos los demás</guilabel
>) está en la lista <quote
>actual</quote
>, todos los atributos que no se muestren (sean conocidos o no) se insertarán donde diga la <guilabel
>_X_</guilabel
>, en su orden relativo original.</para>

<para
>Un pequeño ejemplo ayudará a aclarar el asunto:</para>

<informalexample>
<para
>Dado el &dn;</para>
<blockquote
> <para
> O=KDE, C=US, CN=Dave Devel, X-BAR=foo, OU=Kleopatra, X-FOO=bar, </para
> </blockquote
> <para
>the default attribute order of <quote
>CN, L, _X_, OU, O, C</quote
> will produce the following formatted &dn;:</para
> <blockquote
> <para
> CN=Dave Devel, X-BAR=foo, X-FOO=bar, OU=Kleopatra, O=KDE, C=US </para
> </blockquote
> <para
>while <quote
>CN, L, OU, O, C</quote
> will produce</para
> <blockquote
> <para
> CN=Dave Devel, OU=Kleopatra, O=KDE, C=US </para
> </blockquote
> </informalexample>

<para
>Para añadir un atributo al orden de visualización de la lista, selecciónelo en la lista <guilabel
>Atributos disponibles</guilabel
> y presione el botón <guilabel
>Añadir al orden de atributos actual</guilabel
>.</para>

<para
>Para eliminar un atributo del orden de visualización de la lista, selecciónelo en la lista <guilabel
>Atributos disponibles</guilabel
> y presione el botón <guilabel
>Eliminar del orden de atributos actual</guilabel
>.</para>

<para
>Para mover un atributo al principio (final), selecciónelo en la lista <guilabel
>Orden actual de los atributos</guilabel
> y presione el botón <guilabel
>Mover al principio</guilabel
> (<guilabel
>Mover al final</guilabel
>).</para>

<para
>Para mover un atributo hacia arriba (abajo) sólo una posición, selecciónelo de la lista <guilabel
>Orden actual de los atributos</guilabel
> y presione el botón <guilabel
>Mover uno hacia arriba</guilabel
> (<guilabel
>Mover uno hacia abajo</guilabel
>).</para>

</sect1>

</chapter>

<chapter id="admin"
><title
>Guía del administrador</title>

<para
>La guía del administrador describe las formas de personalizar &kleopatra; a las que no puede acceder por medio del GUI, sino sólo por medio de archivos de configuración.</para>

<para
>Se asume que el lector está familiarizado con la tecnología que se usa para configurar las aplicaciones de &kde;, como la disposición, la ubicación en el sistema de archivos y la cascada de archivos de configuración de &kde;, así como el entorno KIOSK.</para>

<sect1 id="admin-certificate-request-wizard"
><title
>Personalización del asistente de creación de certificados</title>

<para
>&kleopatra; le permite personalizar los campos que se le permiten introducir al usuario para crear el certificado.</para>

<para
>Cree un grupo llamado <literal
>CertificateCreationWizard</literal
> en el archivo <filename
>kleopatrarc</filename
> del sistema. Si quiere que el orden de los atributos sea personalizado, o si quiere que sólo aparezcan ciertos elementos, cree una clave llamada <varname
>DNAttributeOrder</varname
>. El argumento es uno o más de entre <varname
>CN,SN,GN,L,T,OU,O,PC,C,SP,DC,BC,EMAIL</varname
>. Si quiere inicializar los campos con algún valor, escriba algo como Atributo=valor. Si quiere que el atributo sea requerido, añada una marca de exclamación (por ejemplo, <varname
>CN!,L,OU,O!,C!,EMAIL!</varname
>, que resulta ser la configuración predefinida).</para>

<para
>Usando el modificador de modo <varname
>$e</varname
> de <acronym
>KIOSK</acronym
>, se le permite recuperar los valores de las variables de entorno o de un guión evaluado o binario. Si quiere desactivar la edición del campo respectivo, use el modificador <varname
>$i</varname
>. Si quiere desactivar el uso del botón <guibutton
>Insertar mi dirección</guibutton
>, defina <varname
>ShowSetWhoAmI</varname
> como false (n.t. falso).</para>

<tip
><para
>Debido a la naturaleza del entorno <acronym
>KIOSK</acronym
> de &kde;, usando la bandera immutable (n.t. inmutable) (<varname
>$i</varname
>), hace que sea imposible para el usuario saltarse la bandera. Es un comportamiento intencionado. <varname
>$i</varname
> y <varname
>$e</varname
> también se pueden usar con todas las claves de configuración de las aplicaciones de &kde;.</para
></tip>

<para
>El ejemplo siguiente apunta las posibles personalizaciones:</para>

<para>
<programlisting
>[CertificateCreationWizard] 
;No permite copiar los datos personales de la libreta de direcciones, ni sobrepasar localmente
ShowSetWhoAmI[$i]=false

;define el nombre del usuario como $USER
CN[$e]=$USER

;define el nombre de la empresa como «Mi empresa», no permite editar
O[$i]=Mi empresa

;define el nombre del departamento según lo que devuelva un guión
OU[$ei]=$(lookup_dept_from_ip)

;define el país como ES, pero permite que el usuario lo cambie
C=ES
</programlisting>

</para>
</sect1>

    <sect1 id="admin-key-filters">

      <title
>Crear y editar categorías de claves </title>

      <para
>&kleopatra; permite al usuario configurar la <link linkend="configuration-appearance"
>apariencia visual</link
> de las claves en base a un concepto llamado <guilabel
>Categorías de claves</guilabel
>. Esta sección describe cómo puede editar las categorías disponibles y añadir otras nuevas. </para>

      <para
>Cuando intenta localizar la cateogoría a la que pertenece una clave, &kleopatra; intenta hacer coincidir la clave con una secuencia de filtros de claves, configurados en el archivo <filename
>libkleopatrarc</filename
>. El primero que coincide define la categoría. </para>

      <para
>Cada filtro de clave está definido en un grupo de configuración llamado <literal
>Key Filter #<replaceable
>n</replaceable
></literal
> (n.t. filtro de clave nº), en el que <replaceable
>n</replaceable
> es un número, empezando por el <literal
>0</literal
>. </para>

      <para
>La única clave obligatoria en un grupo <literal
>Key Filter #<replaceable
>n</replaceable
></literal
> es <varname
>Name</varname
> (n.t. nombre), que contiene el nombre de la categoría que se mostrará en el <link linkend="configuration-appearance"
>cuadro de diálogo de configuración</link
>. </para>

      <para
><xref linkend="table-key-filters-appearance"/> lista todas las claves que definen las propiedades de visualización de claves que pertenecen a esa categoría (&ie; las claves que se pueden ajustar en el <link linkend="configuration-appearance"
>cuadro de diálogo de configuración</link
>), mientras que <xref linkend="table-key-filters-criteria"/> lista todas las claves que definen los criterios con los que se comprueban las claves. </para>

      <table id="table-key-filters-appearance">
	<title
>Configuración de filtro de claves Definir las propiedades de visualización</title>
	<tgroup cols="3">
	  <colspec colnum="2" align="center"/>
	  <thead>
	    <row>
	      <entry
>Configurar clave</entry>
	      <entry
>Tipo</entry>
	      <entry
>Descripción</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><varname
>background-color</varname
></entry>
	      <entry
>color</entry>
	      <entry
>El color de fondo que se va a usar. Si no se indica, de forma predefinida toma el valor del color de fondo definido globalmente para las vistas de lista. </entry>
	    </row>
	    <row>
	      <entry
><varname
>foreground-color</varname
></entry>
	      <entry
>color</entry>
	      <entry
>El color de primer plano que se va a usar. Si no se indica, de forma predefinida toma el valor del color de primer plano definido globalmente para las vistas de lista. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font</varname
></entry>
	      <entry
>font (n.t. tipografía)</entry>
	      <entry
>La tipografía personalizada que se va a usar. La tipografía se escalará hasta el tamaño configurado para las vistas de lista, y se aplicarán los atributos de tipografía (se explican más abajo). </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-bold</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>Si está definido como <literal
>true</literal
> (n.t. cierto) y <varname
>font</varname
> no está definido, usa la tipografía predefinida de la vista de lista con el estilo de tipografía negrita añadido (si está disponible). Se ignora si también está presente <varname
>font</varname
>. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-italic</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>Igual que <varname
>font-bold</varname
>, pero con el estilo de tipografía cursiva en lugar de negrita. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-strikeout</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>Si es <literal
>true</literal
> (n.t. cierto), dibuja una línea por encima de la tipografía. Se aplica aunque esté definida <varname
>font</varname
>. </entry>
	    </row>
	    <row>
	      <entry
><varname
>icon</varname
></entry>
	      <entry
>text (n.t. texto)</entry>
	      <entry
>El nombre del icono que se muestra en la primera columna. Aún no implementado. </entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <table id="table-key-filters-criteria">
	<title
>Configuración de filtros de claves Definir claves Criterios de filtrado</title>
	<tgroup cols="3">
	  <colspec colnum="2" align="center"/>
	  <thead>
	    <row>
	      <entry
>Configurar clave</entry>
	      <entry
>Tipo</entry>
	      <entry
>Si se especifica, los filtros coinciden cuando...</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><varname
>is-revoked</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>la clave ha sido revocada.</entry>
	    </row>
	    <row>
	      <entry
><varname
>is-expired</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>la clave ha caducado.</entry>
	    </row>
	    <row>
	      <entry
><varname
>is-disabled</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>el usuario ha desactivado la clave (marcada para que no se use). Se ignora para claves S/MIME. </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-root-certificate</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>la clave es un certificado raíz. Se ignora para claves OpenPGP. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-encrypt</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>la clave se puede usar para cifrar. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-sign</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>la clave se puede usar para firmar. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-certify</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>la clave se puede usar para firmar (certificar) otras claves. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-authenticate</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>la clave se puede usar para autenticación (&eg;, como un certificado de cliente <acronym
>TLS</acronym
>). </entry>
	    </row>
	    <row>
	      <entry
><varname
>has-secret-key</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>está disponible la clave secreta para este par de claves. </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-openpgp-key</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>la clave es una clave OpenPGP (<literal
>true</literal
> - n.t. cierto) o una clave S/MIME (<literal
>false</literal
> - n.t. falso). </entry>
	    </row>
	    <row>
	      <entry
><varname
>was-validated</varname
></entry>
	      <entry
>boolean (n.t. booleano)</entry>
	      <entry
>se ha validado la clave (puede ver <xref linkend="certificates-validate"/>). </entry>
	    </row>
	    <row>
	      <entry
><varname
><replaceable
>prefix</replaceable
>-ownertrust</varname
></entry>
	      <entry
>validity (validez)<footnote
> <para
>La validez (validity) es una enumeración ordenada con los siguientes valores: <literal
>unknown</literal
> (desconocido), <literal
>undefined</literal
> (no definido), <literal
>never</literal
> (nunca) , <literal
>marginal</literal
>, <literal
>full</literal
> (completo), <literal
>ultimate</literal
> (último). Puede dirigirse a los manuales de &gpg; y &gpgsm; para tener acceso a una explicación detallada. </para>
		</footnote>
	      </entry>
	      <entry
>la clave tiene exactamente (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is</literal
>), lo tiene todo salvo (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is-not</literal
>), tiene al menos (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is-at-least</literal
>), o tiene a lo sumo (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is-at-most</literal
>) el ownertrust (n.t. confianza del propietario) le da el valor de la clave de configuración. Si hay más de una clave<varname
><replaceable
>prefix</replaceable
>-ownertrust</varname
> (con diferentes valores para <replaceable
>prefix</replaceable
> - prefijo) en un solo grupo, el comportamiento no está definido. </entry>
	    </row>
	    <row>
	      <entry
><varname
><replaceable
>prefix</replaceable
>-validity</varname
></entry>
	      <entry
>validity (validez)</entry>
	      <entry
>Parecido a <varname
><replaceable
>prefix</replaceable
>-ownertrust</varname
>, pero para la validez de las claves en lugar de para la confianza del propietario. </entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <note>
	<para
>Algunos de los criterios más interesantes, como <varname
>is-revoked</varname
> (está revocada) o <varname
>is-expired</varname
> (ha caducado) sólo funcionarán con claves <emphasis
>validadas</emphasis
>, de ahí que, de forma predefinida, sólo se compruebe la valides de las claves para la revocación y la caducidad, aunque pueda eliminar estas comprobaciones extra. </para>
      </note>

      <para
>En general, los criterios no especificados (&ie; la entrada de configuración no está definida) no se comprueban. Si se proporciona un criterio, se comprueba y debe coincidir con el filtro por completo para que se haga coincidir, &ie; los criterios Y ed juntos. </para>

      <example>
	<title
>Ejemplos de filtros de claves </title>
	<para
>Para comprobar todos los certificados raíz caducados pero no revocados, podría usar un filtro de claves definido de la siguiente forma: </para>
<!-- isn't there a better way to not indent this in the output??? -->
	<screen
><!--
-->[Key Filter #<replaceable
>n</replaceable
>]
Name=caducado, pero no rvocado
was-validated=true
is-expired=true
is-revoked=false
is-root-certificate=true<!--
     --></screen>
	<para
>Para comprobar que todas las claves OpenPGP desactivadas (&kleopatra; aún no lo admite) tienen una confianza del propietario al menos <quote
>marginal</quote
>, debería usar: </para>
	<screen
><!--
-->[Key Filter #<replaceable
>n</replaceable
>]
Name=claves OpenPGP desactivadas con confianza del propietario marginal o mejor
is-openpgp=true
is-disabled=true
is-at-least-ownertrust=marginal<!--
     --></screen>
      </example>

    </sect1>

  </chapter
> <!-- Administrator's Guide -->

<chapter id="credits-and-license">
<title
>Créditos y licencia</title>

<para
>Copyright de &kleopatra; 2002 Steffen Hansen, Matthias Kalle Dalheimer y Jesper Pedersen., copyright 2004 Daniel Molkentin, copyright 2004 Klar&auml;lvdalens Datakonsult AB</para>

<para
>Copyright de la documentación 2002 Steffen Hansen, copyright 2004 Daniel Molkentin, copyright 2004 Klar&auml;lvdalens Datakonsult AB</para>

<itemizedlist>
<title
>Colaboradores</title>
<listitem>
<para
>Marc Mutz <email
>mutz@kde.org</email
></para>
</listitem>
<listitem>
<para
>David Faure <email
>faure@kde.org</email
></para>
</listitem>
<listitem>
<para
>Steffen Hansen <email
>hansen@kde.org</email
></para>
</listitem>
<listitem>
<para
>Matthias Kalle Dalheimer <email
>kalle@kde.org</email
></para>
</listitem>
<listitem>
<para
>Jesper Pedersen <email
>blackie@kde.org</email
></para>
</listitem>
<listitem>
<para
>Daniel Molkentin <email
>molkentin@kde.org</email
></para>
</listitem>
</itemizedlist>
&underGPL; &underFDL; </chapter>

&documentation.index; 
</book>

<!--
Local Variables:
mode: sgml
sgml-minimize-attributes:nil
sgml-general-insert-case:lower
sgml-indent-step:0
sgml-indent-data:nil
End:

// vim:ts=2:sw=2:tw=78:noet
-->
