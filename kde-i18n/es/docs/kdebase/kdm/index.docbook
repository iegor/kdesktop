<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN"
"dtd/kdex.dtd" [
  <!ENTITY kappname "&kdm;">
  <!ENTITY package "kdebase">
  <!ENTITY kdmrc "<filename
>kdmrc</filename
>">
  <!ENTITY ksmserver "<application
>ksmserver</application
>">
  <!ENTITY kdesktop "<application
>kdesktop</application
>">
  <!ENTITY XDMCP "<acronym
>XDMCP</acronym
>">
  <!ENTITY xdm "<application
>xdm</application
>">
  <!ENTITY kdmrc-ref SYSTEM "kdmrc-ref.docbook">
  <!ENTITY % addindex "INCLUDE">
  <!ENTITY % Spanish "INCLUDE"
> <!-- change language only here -->
]>

<book lang="&language;">
<bookinfo>
<title
>El manual de &kdm;</title>

<authorgroup>
<author
>&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail; </author
><!-- 
<othercredit role="developer">
&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;
<contrib
>Developer</contrib>
</othercredit>
<othercredit role="reviewer">
&Lauri.Watts; &Lauri.Watts.mail;
<contrib
>Reviewer</contrib>
</othercredit
> -->

<othercredit role="translator"
> <firstname
>Pablo</firstname
> <surname
>de Vicente</surname
> <affiliation
><address
><email
>pvicentea@nexo.es</email
></address
></affiliation
> <contrib
>Traductor</contrib
> </othercredit
> <othercredit role="translator"
> <firstname
>Santiago</firstname
> <surname
>Fernández Sancho</surname
> <affiliation
><address
><email
>santi@kde-es.org</email
></address
></affiliation
> <contrib
>Traductor</contrib
> </othercredit
> 

</authorgroup>

<copyright>
<year
>2000</year>
<holder
>&Neal.Crook;</holder>
</copyright>

<copyright>
<year
>2002</year>
<holder
>&Oswald.Buddenhagen;</holder>
</copyright>

<copyright>
<year
>2003</year>
<holder
>&Lauri.Watts;</holder>
</copyright>

<date
>2003-03-01</date>
<releaseinfo
>0.05.02</releaseinfo>

<abstract>
<para
>Este documento describe &kdm; el administrador de pantalla de &kde;. &kdm; también es conocido como el «Administrador de acceso».</para>
</abstract>

<keywordset>
<keyword
>KDE</keyword>
<keyword
>kdm</keyword>
<keyword
>xdm</keyword>
<keyword
>administrador de la pantalla</keyword>
<keyword
>administrador de acceso</keyword>
</keywordset>
</bookinfo>

<!-- ********************************************************************** -->  
<chapter id="introduction">
<title
>Introducción</title>

<para
>&kdm; proporciona un interfaz gráfico para controlar el acceso al sistema. Solicita un nombre de usuario y una contraseña, autentifica el usuario e inicia una «sesión». &kdm; es superior a &xdm;, el administrador de la pantalla de X, en ciertos aspectos.</para>

</chapter>

<!-- Chapters to write -->
<!-- * Just enough config to get it to run and login to KDE 
     * Adding more session types (GNOME, etc)
     * Adding other customizations to XSession (ssh/gpg-agent, etc)
     * Further customization to KDM (via the kcontrol module, and by 
       hand)
     * XDMCP by query
     * XDMCP by broadcast
     * Sound transparency (if Ade can tell me how!)
     * Document all Keys in the Config File
     * Pull in all options from the KControl Module
     * More resources
-->

<chapter id="quickstart">
<title
>Guía de inicio rápido</title>

<para
>Ésta es una guía de inicio rápido para usuarios que tienen el siguiente perfil:</para>

<itemizedlist>
<listitem>
<para
>X está configurado y funciona con la orden <command
>startx</command
> desde la línea de órdenes.</para>
</listitem>
<listitem>
<para
>Cada usuario generalmente solo utilizará un único administrador de ventanas o un entorno de escritorio y no cambiará su elección con mucha frecuencia, o se encuentra a gusto editando archivos de texto para cambiar su elección.</para>
</listitem>
</itemizedlist>

<para
>Este escenario será suficiente para los muchos entornos en los que uno o varios usuarios encienden el ordenador y acceden a su entorno preferido.</para>

<procedure>
<title
>Configurando la sesión predeterminada</title>
<step>
<para
>Cree o abra el archivo <filename
>~/.xinitrc</filename
></para>
<para
>Si ya tiene funcionando <filename
>~/.xinitrc</filename
> vaya al siguiente paso.</para>
</step>
<step>
<para
>Si no existe, añada una línea a <filename
>~/.xinitrc</filename
> para iniciar su administrador de ventanas o entorno de escritorio favorito.</para>
<para
>Para &kde; debería introducir:</para>
<screen
><userinput
>startkde</userinput
></screen>
<para
>Para otros administradores de ventanas o entornos de escritorio, debería leer su documentación para introducir la orden correcta.</para>
</step>
<step
><para
>Haga el siguiente enlace:</para>
<screen
><userinput
><command
>ln</command
> <option
>-s</option
> <parameter
>~/.xinitrc ~/.xsession</parameter
></userinput
></screen>
</step>
</procedure>

<para
>En este punto si teclea <userinput
><command
>startx</command
></userinput
> en la línea de órdenes se deberían iniciar las X con una sesión de &kde;. La siguiente tarea es intentarlo con &kdm;.</para>

<para
>Teclee <userinput
><command
>kdm</command
></userinput
> como <systemitem class="username"
>root</systemitem
> en la línea de órdenes.</para>

<para
>Debería ver una ventana de acceso, que se describe con más detalle en <xref linkend="login"/>.</para>

<para
>Tecleando su nombre de usuario normal y su contraseña en los campos proporcionados, y dejando la opción <option
>predeterminado</option
> seleccionada como tipo de sesión debería poder abrir una sesión de &kde; para su usuario.</para>

<para
>Si tiene que configurar otros usuarios, debería repetir el proceso para cada uno de ellos.</para>

<note>
<para
>Esta es una guía rápida para ejecutarlo sólamente. Probablemente querrá personalizar &kdm; con más detalle, por ejemplo, ocultando los nombres de sus cuentas de sistema, permitir sesiones más complejas, y mucho más. Por favor, léa el resto de este manual para averiguar cómo hacer ésto.</para>
</note>

</chapter>

<chapter id="login"
> 
<title
>La ventana de acceso</title
> 

<para
>El interfaz de usuario de &kdm; está formado por dos cuadros de diálogo. El cuadro de diálogo principal tiene estos controles:</para>

<itemizedlist
> 
<listitem>
<para
>Un campo <guilabel
>Usuario</guilabel
> para introducir su nombre de usuario.</para>
</listitem>

<listitem>
<para
>Un campo <guilabel
>Contraseña</guilabel
> para introducir su contraseña.</para>
</listitem>

<listitem>
<para
>(Opcionalmente) una imágen gráfica de cada usuario (por ejemplo, una fotografía digitalizada). Pulsar sobre la imagen es equivalente a introducir el nombre de usuario asociado en el campo <guilabel
>Usuario</guilabel
>. (Esta propiedad está basada en el cuadro de diálogo de &IRIX;).</para
> 
</listitem>

<listitem>
<para
>Un <guilabel
>Menú</guilabel
> desplegable que permitirá utilizar &kdm; para iniciar sesiones con los diferentes administradores de ventanas o entornos de escritorio instalados en su sistema.</para>
</listitem>

<listitem>
<para
>(Opcionalmente) un área a la izquierda de los campos <guilabel
>Usuario</guilabel
>, <guilabel
>Contraseña</guilabel
> y <guilabel
>Tipo de sesión</guilabel
> que se puede utilizar para mostrar o bien una imágen estática o un reloj analógico.</para>
</listitem>

<listitem>
<para
>Un botón de <guibutton
>Acceso</guibutton
> que valida la combinación usuario/contraseña e intenta iniciar una sesión del tipo seleccionado.</para>
</listitem>

<listitem>
<para
>Un botón <guibutton
>Borrar</guibutton
> que borra el texto de los campos <guilabel
>Usuario</guilabel
> y <guilabel
>Contraseña</guilabel
>.</para>
</listitem
> 

<listitem>
<para
>Un botón <guibutton
>Menú</guibutton
> que abre un menú de acciones con los siguientes elementos:</para>
 
<itemizedlist>
<listitem>
<para
>(En la pantalla local) un elemento <guimenuitem
>Reiniciar servidor X</guimenuitem
> que finaliza la ejecución del &X-Server; que se esté ejecutando, inicia uno nuevo y muestra nuevamente el diálogo de acceso. Puede utilizar ésto si la pantalla parece haberse colgado.</para>
</listitem>

<listitem>
<para
>(En la pantalla remota) Un elemento <guimenuitem
>Cerrar conexión</guimenuitem
> que cierra la conexión con el servidor &XDMCP; al que esté conectado. Si eligió este servidor a través de un selector de servidores, volverá a dicho selector, y sino reiniciará el &X-Server; y volverá nuevamente al diálogo de acceso.</para>
</listitem>

<listitem>
<para
>(Opcionalmente en la pantalla local) un elemento <guimenuitem
>Modo consola</guimenuitem
> que finaliza el &X-Server; que se esté ejecutando y le deja con el acceso a través de consola. &kdm; volverá al acceso gráfico si después de cierto tiempo nadie accede a través de la consola.</para>
</listitem>
</itemizedlist>
</listitem>

<listitem>
<para
>(Opcionalmente) un botón <guibutton
>Apagar...</guibutton
> que muestra el cuadro de diálogo <guibutton
>Apagar</guibutton
>.</para>
</listitem>
</itemizedlist>

<para
>El cuadro de diálogo <guilabel
>Apagar</guilabel
> presenta un conjunto de botones de radio que permiten seleccionar cada una de las siguientes opciones:</para>

<variablelist>
<varlistentry>
<term
>Apagar</term
> 
<listitem>
<para
>Cierra el sistema de un modo controlado, incluso para apagarlo físicamente.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Reiniciar</term>
<listitem>
<para
>Cierra el sistema y lo reinicia. Para sistemas que utilizan <application
>Lilo</application
>, un cuadro de diálogo opcional le permitirá seleccionar el núcleo del sistema operativo que se utilizará en el reinicio.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Reiniciar servidor X</term
> 
<listitem>
<para
>Detiene y después reinicia el servidor X. Típicamente, puede necesitar utilizar esta opción si ha cambiado su configuración X11 de algún modo.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Modo consola</term>
<listitem>
<para
>Detiene el &X-Server; y devuelve el sistema a modo consola. Esto se consigue pasando el sistema al nivel de ejecución 3. Habitualmente, el administrador del sistema puede querer utilizar esta opción antes de actualizar o reconfigurar el software X11.</para
> 
</listitem>
</varlistentry>
</variablelist>

<para
>Pulsando el botón <guibutton
>Aceptar</guibutton
> se inicia la acción seleccionada, pulsando el botón <guibutton
>Cancelar</guibutton
> se vuelve al cuadro de diálogo principal de &kdm;. </para>

</chapter>

<!-- *********************************************************************** -->
<chapter id="configuring-kdm">
<title
>Configurando &kdm;</title>

<para
>Este capítulo asume que &kdm; está en marcha y funcionando en su sistema, y que simplemente desea cambiar su comportamiento de algún modo.</para>

<para
>Cuando &kdm; se inicia lee su configuración de la carpeta <filename class="directory"
>$KDEDIR/share/config/kdm/</filename
> (también puede ser <filename class="directory"
>/etc/kde3/kdm/</filename
> o cualquier otro de su sistema).</para>

<para
>El principal archivo de configuración es &kdmrc;. Todos los demás archivos hacen referencia a éste y pueden guardarse bajo cualquier nombre en el sistema -pero por razones obvias esto no se suele hacer (una excepción particular es referenciar archivos de configuración de un &xdm; ya instalado- sin embargo cuando se instala un nuevo &kdm;, importará la configuración de estos archivos si encuentra &xdm; instalado).</para>

<para
>Puesto que &kdm; se ejecuta antes de que ningún usuario tenga acceso, no está asociado con ningún usuario en particular. Por tanto, no es posible tener archivos de configuración específicos para cada usuario. Todos los usuarios comparten un &kdmrc; común. La configuración de &kdm; solo puede ser modificada por aquellos usuarios con permisos de escritura en <filename
>$<envar
>KDEDIR</envar
>/share/config/kdm/kdmrc/</filename
> (normalmente restringido a los administradores del sistema que accedan como <systemitem class="username"
>root</systemitem
>).</para>

<para
>Puede visualizar el archivo &kdmrc; actualmente en uso en su sistema, pudiendo configurar &kdm; editando este archivo. De modo alternativo, puede utilizar la herramienta de configuración gráfica proporcionada por el &kcontrolcenter; (en <menuchoice
><guisubmenu
>Administración del sistema</guisubmenu
><guimenuitem
>Administrador de acceso</guimenuitem
></menuchoice
>), que se describe en <ulink url="help:/kcontrol/login-manager.html"
>los archivos de ayuda del &kcontrolcenter;</ulink
>. </para>

<para
>El resto de este capítulo describe la configuración de &kdm; a través del módulo del &kcontrolcenter;, y el <link linkend="kdm-files"
>siguiente capítulo</link
> describe las opciones disponibles en &kdmrc;. Si solo necesita la configuración para los usuarios locales, el módulo de &kcontrolcenter; debería ser suficiente para cubrir sus necesidades. Si necesita configurar accesos remotos, o tiene múltiples sesiones de &kdm; ejecutándose, necesitará leer más.</para>

<sect1 id="kdm-kcontrol-module">
<sect1info>
<authorgroup>
<author
>&Thomas.Tanghus; &Thomas.Tanghus.mail;</author>
<author
>&Steffen.Hansen; &Steffen.Hansen.mail;</author>
<author
>&Mike.McBride; &Mike.McBride.mail;</author>
</authorgroup>
</sect1info>

<title
>El módulo de administración de acceso de &kcontrolcenter;</title>

<para
>Utilizando este módulo, puede configurar el administrador de acceso gráfico a &kde;, &kdm;. Puede cambiar el aspecto de la pantalla de acceso, quién podrá acceder utilizando el administrador de acceso y quién podrá apagar el ordenador.</para>

<note
><para
>Todas las configuraciones se escribirán en el archivo de configuración &kdmrc;, que en su estado original tiene muchos comentarios para ayudarle a configurar &kdm;. Utilizando este módulo de &kcontrolcenter; desaparecerán los comentarios de este archivo. Las opciones disponibles de &kdmrc; se tratan en el <xref linkend="kdm-files"/>.</para>

<para
>Las opciones listadas en este capítulo tienen referencias cruzadas con sus equivalentes en &kdmrc;. Todas las opciones disponibles en el módulo de &kcontrol; también están disponibles directamente en &kdmrc;, pero lo inverso no es cierto.</para
></note>

<para
>Para poder organizar todas estas opciones, este módulo se divide en varias secciones: <link linkend="kdmconfig-appearance"
><guilabel
>Aspecto</guilabel
></link
>, <link linkend="kdmconfig-font"
><guilabel
>Fuente</guilabel
></link
>, <link linkend="kdmconfig-background"
><guilabel
>Fondo</guilabel
></link
>, <link linkend="kdmconfig-shutdown"
><guilabel
>Apagar</guilabel
></link
>, <link linkend="kdmconfig-users"
><guilabel
>Usuarios</guilabel
></link
> y <link linkend="kdmconfig-convenience"
><guilabel
>Comodidad</guilabel
></link
>.</para>

<para
>Puede acceder a cada una de las secciones utilizando las pestañas de la parte superior de la ventana.</para>

<note
><para
>Si no ha accedido como administrador, necesitará pulsar sobre el botón <guibutton
>Modo administrador</guibutton
>. Se le preguntará la contraseña de administrador. Introduzca la contraseña correcta para poder modificar las configuraciones de este módulo.</para
></note>

<sect2 id="kdmconfig-appearance">
<title
>Aspecto</title>

<para
>Desde esta página podrá cambiar el aspecto visual de &kdm;, el administrador de acceso gráfico de &kde;.</para>

<para
><guilabel
>Bienvenida</guilabel
> es el título de la ventana de acceso. Configurar ésta es especialmente práctico si tiene muchos usuarios del servidor que vayan a acceder a él. Puede utilizar varios argumentos, que se describen en el bloque <link linkend="option-greetstring"
><option
>GreetString</option
></link
> en &kdmrc;. </para>

<para
>Puede decidir si en el cuadro de acceso va a mostrar la hora actual del sistema, un logotipo o nada especial. Haga su elección utilizando los botones de radio del <guilabel
>Área del logotipo</guilabel
>. Se corresponde con <link linkend="option-logoarea"
><option
>LogoArea</option
></link
> en &kdmrc;.</para>

<para
>Si selecciona <guilabel
>Mostrar logotipo</guilabel
> deberá elegir el logotipo:</para>

<itemizedlist>
<listitem>
<para
>Soltando un archivo de imagen en el botón de imagen.</para>
</listitem>
<listitem>
<para
>Pulsando en el botón de imagen y seleccione la nueva imagen a través del diálogo selector de imagen.</para>
</listitem>
</itemizedlist>

<para
>Si no especifica un logotipo se mostrará el predeterminado: <filename
>$<envar
>KDEDIR</envar
>/share/apps/kdm/pics/kdelogo.xpm</filename
>.</para>

<para
>Normalmente el cuadro de acceso se centra en la pantalla. Utilice las opciones de <guilabel
>Ubicación</guilabel
> si desea que aparezca en cualquier otro sitio de la pantalla. Puede especificar la posición relativa (porcentaje del tamaño de la pantalla) para el centro de la ventana de acceso, respecto a la esquina superior derecha de la pantalla, en los campos llamados <guilabel
>X</guilabel
> e <guilabel
>Y</guilabel
> respectivamente. Se corresponden con la clave <link linkend="option-greeterpos"
><option
>GreeterPos</option
></link
> en &kdmrc;.</para>

<para
>Mientras que el estilo de &kde; depende de la configuración del usuario que ha accedido, el estilo utilizado por &kdm; se puede configurar utilizando las opciones <guilabel
>Estilo de GUI</guilabel
> y <guilabel
>Esquema de color</guilabel
>. Estas se corresponden con las claves <link linkend="option-guistyle"
><option
>GUIStyle</option
></link
> y <link linkend="option-colorscheme"
><option
>ColorScheme</option
></link
> respectivamente en &kdmrc;.</para>

<para
>Bajo éstas, tiene un cuadro desplegable para seleccionar el idioma del cuadro de acceso y se corresponde a la configuración de <option
>Idioma</option
> en &kdmrc;.</para>

</sect2>

<sect2 id="kdmconfig-font">
<title
>Fuente</title>

<para
>Desde esta sección del módulo puede cambiar los tipos de letra utilizados en la ventana de acceso. Únicamente los tipos de letra disponibles para todos los usuarios estarán disponibles aquí, y no los que haya instalado para un usuario concreto.</para>

<para
>Puede seleccionar tres estilos diferentes de tipos de letra del  desplegable (<guilabel
>General</guilabel
>, <guilabel
>Fallos</guilabel
>, <guilabel
>Bienvenida</guilabel
>). Cuando pulse sobre el botón <guibutton
>Elegir...</guibutton
> aparecerá un diálogo desde el que se podrán seleccionar las características nuevas para el estilo del tipo de letra.</para>

<itemizedlist>
<listitem>
<para
>El tipo de letra <guilabel
>General</guilabel
> se utiliza en todos los demás sitios de la ventana de acceso.</para>
</listitem>
<listitem>
<para
>El tipo de letra <guilabel
>Fallos</guilabel
> se utiliza cuando se produce un fallo en el acceso.</para>
</listitem>
<listitem>
<para
>El tipo de letra <guilabel
>Bienvenida</guilabel
> es el utilizado para el título (cadena bienvenida).</para>
</listitem>
</itemizedlist>

<para
>También puede marcar la casilla <guilabel
>Usar fuentes suavizadas</guilabel
> si se desea que los tipos de letra se muestren suavizados en el diálogo de acceso.</para>

</sect2>

<sect2 id="kdmconfig-background">
<title
>Fondo</title>

<para
>Aquí puede cambiar el fondo del escritorio que se mostrará antes de que el usuario acceda. Puede utilizar un color único o una imagen como fondo. Si tiene una imagen como fondo y selecciona centrar, el color fondo seleccionado se utilizará alrededor de la imagen si no es lo suficientemente grande para cubrir el escritorio entero.</para>

<para
>Los colores del fondo y sus efectos se controlan a través de la pestaña <guilabel
>Fondo</guilabel
> y podrá seleccionar una imagen de fondo y su emplazamiento desde esta pestaña.</para>

<para
>Para cambiar los colores de fondo predeterminados pulse sobre los botones de color y seleccione uno nuevo.</para>

<para
>El desplegable situado sobre los botones de colores proporciona diferentes efectos combinados. Seleccione uno de la lista y se mostrará en el pequeño monitor de la parte superior de la ventana que contiene la vista previa. Las posibles elecciones son:</para>

<variablelist>
<varlistentry>
<term
>Plano</term>
<listitem
><para
>Seleccionando este modo, elegirá un color (utilizando el botón <guibutton
>Color 1</guibutton
>) que cubrirá por completo el fondo.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Mosaico</term>
<listitem
><para
>Seleccionando este modo seleccionará dos colores (utilizando los botones de colores). </para
> <para
>Puede seleccionar un patrón pulsando en <guilabel
>Configurar</guilabel
>. Ésto abre una nueva ventana de diálogo, que le da la oportunidad de seleccionar un patrón. Pulse sobre el patrón de su elección y pulse <guilabel
>Aceptar</guilabel
>. &kde; presentará el patrón seleccionado con los dos colores elegidos. Para obtener más información sobre patrones, véa la sección <ulink url="help:/kcontrol/background/index.html#bkgnd-patterns"
> Fondo: Añadir, eliminar y modificar patrones</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Programa para dibujar fondo</term>
<listitem
><para
>Seleccionando esta opción, puede hacer que &kde; utilice un programa externo para dibujar el fondo. Puede ser cualquier programa que elija. Para obtener más información sobre esta opción, véa la sección titulada <ulink url="help:/kcontrol/background/index.html#bkgnd-programs"
>Fondo: Utilizar un programa externo</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Degradado horizontal</term>
<listitem
><para
>Seleccionando este modo, seleccionará dos colores (utilizando ambos botones de color). &kde; comenzará por el color seleccionado en <guilabel
>Color 1</guilabel
> en el borde izquierdo de la pantalla y lo transformará lentamente en el color seleccionado en <guilabel
>Color 2</guilabel
> finalizando en el borde derecho de la pantalla.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Degradado vertical</term>
<listitem
><para
>Seleccionando este modo, seleccionará dos colores (utilizando ambos botones de color). &kde; comenzará por el color seleccionado en <guilabel
>Color 1</guilabel
> en el borde superior de la pantalla y lo transformará lentamente en el color seleccionado en <guilabel
>Color 2</guilabel
> finalizando en el borde inferior de la pantalla.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Degradado piramidal</term>
<listitem
><para
>Seleccionando este modo, seleccionará dos colores (utilizando ambos botones de color). &kde; comenzará por el color seleccionado en <guilabel
>Color 1</guilabel
> en las esquinas de la pantalla y lo transformará lentamente en el color seleccionado en <guilabel
>Color 2</guilabel
> finalizando en el centro de la pantalla.</para
></listitem
> 
</varlistentry>
<varlistentry>
<term
>Degradado en forma de cruz</term>
<listitem
><para
>Seleccionando este modo, seleccionará dos colores (utilizando ambos botones de color). &kde; comenzará por el color seleccionado en <guilabel
>Color 1</guilabel
> en las esquinas de la pantalla y lo transformará lentamente en el color seleccionado en <guilabel
>Color 2</guilabel
> finalizando en el centro de la pantalla. La «forma» de este degradado es diferente del piramidal.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Degradado elíptico</term>
<listitem
><para
>Seleccionando este modo, seleccionará dos colores (utilizando ambos botones de color). &kde; comenzará por el color seleccionado en <guilabel
>Color 1</guilabel
> en el centro de la pantalla y lo transformará lentamente en el color seleccionado en <guilabel
>Color 2</guilabel
> finalizando en los bordes, con una forma elíptica.</para
></listitem
> 
</varlistentry>
</variablelist>

<para
>El botón de configuración solo se necesita si selecciona un <guilabel
>Programa para dibujar el fondo</guilabel
> o <guilabel
>Patrones</guilabel
>. En estos casos, aparecerá otra ventana para configurar las opciones específicas.</para>
<para
><emphasis
>Tapiz</emphasis
></para>
<para
>Para seleccionar una nueva imagen de fondo primero pulse sobre la pestaña <guilabel
>Fondo</guilabel
> y a continuación seleccione una imagen de la lista <guilabel
>Imagen</guilabel
> o seleccione <guibutton
>Navegar</guibutton
> y elija un archivo de imagen del selector de archivos.</para>

<para
>La imagen se puede mostrar de seis formas diferentes:</para>
<variablelist>
<varlistentry>
<term
>Ninguna imagen</term
> 
<listitem
><para
>No se mostrará ninguna imagen, solo los colores del fondo.</para>
</listitem
></varlistentry>
<varlistentry>
<term
>Centrado</term
> 
<listitem
><para
>La imagen se centrará en la pantalla. Los colores del fondo se mostrarán en las zonas que la imagen no cubra.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Mosaico</term>
<listitem
><para
>La imagen se duplicará hasta que llene el escritorio completo. La primera imagen se colocará en la esquina superior izquierda y se duplicará hacia abajo y a la derecha.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Mosaico centrado</term>
<listitem
><para
>La imagen se duplicará hasta que llene el escritorio completo. La primera imagen se colocará en el centro de la pantalla y se duplicará hacia arriba, abajo, izquierda y derecha.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Maxpect centrado</term>
<listitem
><para
>La imagen se centrará en la pantalla. Se escalará hasta llenar el escritorio, pero no cambiará el ratio de aspecto de la imagen original. Esto le proporcionará una imagen no distorsionada. </para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Escalado</term>
<listitem
><para
>La imagen se escalará para rellenar el escritorio. Se estirará para llegar a las cuatro esquinas.</para
> </listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="kdmconfig-shutdown">
<title
><guilabel
>Apagar</guilabel
></title>

<para
><guilabel
>Permitir apagar</guilabel
></para>
<para
>Utilice estos desplegables para decidir quién puede apagar la máquina:</para>
<itemizedlist>
<listitem>
<para
><guilabel
>Nadie</guilabel
>: Nadie puede apagar el ordenador utilizando &kdm;. Debe haber accedido primero y ejecutar la orden.</para>
</listitem>
<listitem>
<para
><guilabel
>Todos</guilabel
>: Todos los usuarios pueden apagar el ordenador utilizando &kdm;.</para>
</listitem>
<listitem
><para
><guilabel
>Sólo root</guilabel
>: &kdm; precisa que se introduzca la contraseña de <systemitem
>root</systemitem
> antes de apagar el ordenador.</para
></listitem
> 
</itemizedlist>

<para
>Puede configurar de forma independiente el apagado de los usuarios en <guilabel
>Local</guilabel
> y en <guilabel
>remoto</guilabel
>.</para>

<para
><emphasis
>Órdenes</emphasis
></para
> <para
>Utilice estos campos de texto para definir la orden exacta de apagado.</para
> <para
>La orden predeterminada para <guilabel
>Detener</guilabel
> es <command
>/sbin/halt</command
>. La orden predeterminada para <guilabel
>Reiniciar</guilabel
> es <command
>/sbin/reboot</command
>.</para>

<para
>Cuando se activa <guilabel
>Mostrar opciones de arranque</guilabel
>, &kdm; hará que en el arranque aparezcan las opciones de administración a través de lilo. Para que esta característica funcione, necesitará proporcionar las rutas correctas de su orden <command
>lilo</command
> y el archivo de mapa de lilo. Tenga en cuenta que esta opción no está disponible en todos los sistemas operativos.</para>

</sect2>

<sect2 id="kdmconfig-users">
<title
>Usuarios</title>

<para
>Desde aquí podrá cambiar la forma en que se representan los usuarios en la ventana de acceso.</para>

<para
>Puede desactivar completamente la lista de usuarios en &kdm; en la sección <guilabel
>Usuarios</guilabel
>. Puede elegir:</para>

<variablelist>
<varlistentry>
<term
><guilabel
>Mostrar lista</guilabel
></term>
<listitem>
<para
>Únicamente se mostrarán los usuarios que haya activado específicamente. Sino marca esta casilla, la lista no se mostrará. Ésta es la configuración más segura, ya que un atacante tendrá que adivinar un nombre de acceso válido y una contraseña. Es la opción preferida si tiene muchos usuarios en la lista o si la lista es poco manejable.</para>
<para
>Sino marca esta casilla, la lista no se mostrará. Ésta es la configuración más segura, ya que un atacante tendrá que adivinar un nombre de acceso válido y una contraseña. Es la opción preferida si tiene más de un puñado de usuarios en la lista, o que la lista sea por si misma poco manejable.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Selección inversa</guilabel
></term>
<listitem>
<para
>Le permitirá seleccionar una lista de usuarios que <emphasis
>no</emphasis
> se mostrarán, por contra, se listarán los demás usuarios.</para>
</listitem>
</varlistentry>
</variablelist>

<para
>Independientemente de que especifique el nombre de los usuarios, podrá utilizar <guilabel
>UIDs del sistema</guilabel
> para especificar un rango válido de <acronym
>UID</acronym
>s que se mostrarán en la lista. De forma predeterminada los identificadores de usuario con un valor inferior a 1.000, que suelen ser usuarios de sistema o demonios, y los identificadores con un valor superior a 65.000 no se mostrarán.</para>

<para
>También podrá marcar la casilla <guilabel
>Ordenar usuarios</guilabel
>, para ordenar la lista de usuarios alfabéticamente. Si está desactivada, los usuarios aparecerán en el orden en el que se encuentren en el archivo de contraseñas. &kdm; también podrá completar los nombres de usuario si ha activado la opción <guilabel
>Completado automático</guilabel
>.</para>

<para
>Si selecciona mostrar los usuarios, la ventana de acceso mostrará las imágenes (que haya seleccionado) de una lista de usuarios. Cuando alguien vaya a acceder, seleccionará su nombre/imagen, introducirá su contraseña y podrá acceder.</para>

<para
>Si permite una imagen de usuario, podrá configurar la fuente de estas imágenes.</para>

<para
>Podrá configurar la imagen de cada usuario del sistema. Dependiendo del orden seleccionado en la parte superior, los usuarios podrán ser capaces de guardar su selección.</para>

<para
>Si elige no mostrar los usuarios, la ventana de acceso será más tradicional. Los usuarios necesitarán teclear su nombre de usuario y contraseña para poder entrar. Ésta es la forma preferida si tiene muchos usuarios en este terminal.</para>

</sect2>

<sect2 id="kdmconfig-convenience">
<title
>Comodidad</title>

<para
>En la pestaña <guilabel
>comodidad</guilabel
> puede configurar algunas opciones que hagan la vida más fácil a los perezosos, como acceso automático o desactivar contraseñas.</para>

<important
><para
>Por favor, piénselo dos veces antes de utilizar estas opciones. Cada opción de la pestaña <guilabel
>Comodidad</guilabel
> supone un serio compromiso para la seguridad de su sistema. En la práctica, estas opciones solo deberían ser utilizadas en un entorno que no sea en absoluto crítico, &eg;, un ordenador privado en casa. </para
></important>

<sect3 id="loginmanager-convenience-autologin">
<title
>Acceso automático</title>

<para
>El acceso automático dará acceso automático a algunas cuentas en su sistema sin necesidad de autentificación. Puede activarlo utilizando la opción <guilabel
>Activar acceso automático</guilabel
>.</para>

<para
>Puede seleccionar la cuenta que se utilizará para el acceso automático de la lista <guilabel
>Usuario</guilabel
>.</para>

</sect3>

<sect3 id="loginmanager-convenience-nopasswd">
<title
><guilabel
>Accesos sin contraseña</guilabel
></title>

<para
>Utilizar esta característica, puede permitir a ciertos usuarios acceder sin tener que proporcionar su contraseña. Active esta característica utilizando la opción <guilabel
>Activar accesos sin contraseña</guilabel
>.</para>

<para
>Bajo esta opción podrá ver la lista de los usuarios del sistema. Active el acceso sin contraseña para determinados usuarios marcando la casilla situada al lado de los nombres. De forma predeterminada, esta características estará desactivada para todos los usuarios.</para>

<important
><para
>Esta opción solo debería utilizarse en un entorno seguro. Si la activa en un sistema público debería tener cuidado de utilizar el acceso sin contraseña para aquellos usuarios con grandes restricciones de acceso, &eg;, <systemitem
>invitado</systemitem
>.</para
></important>

<para
>También podrán seleccionar qué usuario estará «preseleccionado» cuando inicia &kdm;. El valor predeterminado es <guilabel
>Ninguno</guilabel
>, pero puede seleccionar <guilabel
>Previo</guilabel
> para hacer que el último usuario que ha accedido sea el usuario predeterminado de &kdm;, o puede <guilabel
>especificar</guilabel
> un usuario concreto para que siempre esté seleccionado en la lista. También podrá hacer que el foco de &kdm; se sitúe en el campo contraseña, de forma que cuando llegue a la pantalla de acceso pueda teclear la contraseña de forma inmediata.</para>

<para
>La opción <guilabel
>Acceder automáticamente de nuevo después de una caída del servidor X</guilabel
> le permitirá saltarse el procedimiento de autentificación cuando su servidor X se cuelgue accidentalmente.</para>

</sect3>

</sect2>

</sect1>

</chapter>

&kdmrc-ref;

<!-- ************************************************************ -->   
<chapter id="configuring-your-system-for-kdm">
<title
>Configurando su sistema para utilizar &kdm;</title>

<para
>Este capítulo asume que su sistema está ya configurado para ejecutar &X-Window;, y que sólo necesita reconfigurarlo para permitir el acceso gráfico.</para>

<sect1 id="setting-up-kdm">
<title
>Configurando &kdm;</title>

<para
>El aspecto fundamental que controla si su ordenador arranca en modo consola o en modo gráfico y es el nivel predeterminado de ejecución. El nivel de ejecución está fijado por el programa <application
> <ulink url="man:init"
>/sbin/init</ulink
></application
> bajo el control del archivo de configuración <filename
>/etc/inittab</filename
>. Los niveles de ejecución predeterminados usados por diferentes sistemas &UNIX; (y diferentes distribuciones de &Linux;) varía, pero si echa un vistazo a <filename
>/etc/inittab</filename
> su inicio debería tener el siguiente aspecto:</para>

<screen
># Default runlevel. The runlevels used by RHS are:
# 0 - halt (Do NOT set initdefault to this)
# 1 - Single user mode
# 2 - Multiuser, without X11
# 3 - Full multiuser mode
# 4 - unused
# 5 - X11
# 6 - reboot (Do NOT set initdefault to this)

id:3:initdefault:  
</screen>

<para
>Excepto la última línea todas las demás son comentarios. Los comentarios muestran que el nivel de ejecución 5 se usa para X11 y que el nivel de ejecución 3 se usa para modo multiusuario sin X11 (modo de consola). La línea final especifica el nivel de ejecución predeterminado del sistema que es el 3 (modo de consola). Si su sistema utiliza actualmente un acceso gráfico (por ejemplo, usando &xdm;) su nivel de ejecución concordará con el nivel de ejecución especificado para X11.</para>

<para
>El nivel de ejecución con acceso gráfico (&xdm;) para algunas distribuciones &Linux; comunes es:</para>

<itemizedlist>
<listitem
><para
>5 para &RedHat; y posterior, y para &Mandrake;.</para
></listitem>
<listitem
><para
>4 para Slackware.</para
></listitem>
<listitem
><para
>3 para &SuSE;. 4.x y 5.x.</para
></listitem>
</itemizedlist>

<para
>El primer paso al configurar su sistema es asegurar que puede iniciar &kdm; desde la línea de órdenes. Una vez que esto funciona, puede cambiar la configuración de su sistema de modo que &kdm; inicie automáticamente cada vez que rearranque su sistema.</para>

<para
>Para probar &kdm;, primero debe pasar su sistema a un nivel de ejecución donde no se ejecute &kdm;. Para hacerlo, ejecute la siguiente orden:</para>

<screen
><command
>/sbin/init <option
>3</option
></command
></screen>

<para
>En lugar del número <option
>3</option
> debería especificar el nivel de ejecución apropiado para el modo consola en su sistema.</para>

<para
>Si su sistema utiliza módulos de autentificación acoplables (<abbrev
>PAM</abbrev
> del inglés Pluggable Authentication Modules), lo que es normal en sistemas recientes &Linux; y &Solaris; debería comprobar que su configuración <abbrev
>PAM</abbrev
> permite el acceso a través del servicio denominado <literal
>kde</literal
>. Si utilizó anteriormente &xdm; con éxito, no debería necesitar hacer ningún cambio a su configuración <abbrev
>PAM</abbrev
> para utilizar &kdm;. <filename
>/etc/pam.conf</filename
> o <filename
>/etc/pam.d/xdm</filename
>. La información de cómo configurar <abbrev
>PAM</abbrev
> está más allá de este manual, pero <abbrev
>PAM</abbrev
> contiene documentación bastante clara. (intente buscar en <filename
>/usr/share/doc/*pam*/html</filename
>).</para>

<para
>Es hora de probar &kdm; introduciendo la siguiente orden:</para>

<screen
><command
>kdm <option
>-nodaemon</option
></command
>
</screen>

<para
>Si obtiene un diálogo de acceso de &kdm; y es capaz de acceder, las cosas van bien. El principal problema aquí es que el enlazador en tiempo de ejecución podría no encontrar las bibliotecas compartidas &Qt; o &kde;. Si tiene una distribución binaria de las bibliotecas de &kde;, asegúrese de que &kdm; está instalado donde las bibliotecas creen que está instalado &kde; e intente configurar algunas variables de entorno que apunten a sus bibliotecas de &kde; y &Qt;.</para>

<para
>Por ejemplo:</para>

<screen
><command
>export 
<option
>KDEDIR=<replaceable
>/opt/kde</replaceable
></option
></command>
<command
>export 
<option
>QTDIR=<replaceable
>/usr/lib/qt2</replaceable
></option
></command>
<command
>export 
<option
>PATH=<replaceable
>$KDEDIR/bin:$QTDIR/bin:$PATH</replaceable
></option
></command>
<command
>export 
<option
>LD_LIBRARY_PATH=<replaceable
>$KDEDIR/lib:$QTDIR/lib</replaceable
></option
></command
>
</screen>

<para
>Si todavía no tiene éxito, intente iniciar &xdm; en su lugar, para asegurarse de que no está sufriendo un problema de configuración del sistema de ventanas X más serio.</para>

<para
>Cuando sea capaz de iniciar &kdm; con éxito, puede comenzar a reemplazar &xdm; por &kdm;. De nuevo esto depende de la distribución.</para>

<itemizedlist>
<listitem>
<para
>Para &RedHat; edite <filename
>/etc/inittab</filename
> y busque esta línea:</para>
<screen
>x:5:respawn:/usr/X11/bin/xdm -nodaemon</screen>
<para
>y reemplácela con:</para>
<screen
>x:5:respawn:/opt/kde/bin/kdm</screen>
<para
>Esto le dice a <command
>init</command
>(8) que reinicie &kdm; cuando el sistema esté en el nivel de ejcución 5. Tenga en cuenta que &kdm; no necesita la opción <option
>-nodaemon</option
>.</para>
</listitem>
<listitem>
<para
>En &Mandrake; el nivel de ejecución X11 en <filename
>/etc/inittab</filename
> invoca el procedimiento de órdenes <filename
>/etc/X11/prefdm</filename
>, que está configurado para seleccionar entre diversos administradores de pantalla, incluyendo &kdm;. Asegúrese de que todas las rutas son correctas para su instalación.</para
> 
</listitem>
<listitem>
<para
>Para &SuSE; edite <filename
>/sbin/init.d/xdm</filename
> para añadir una primera línea:</para>

<screen
>. /etc/rc.config
DISPLAYMANAGER=kdm
export DISPLAYMANAGER</screen>
</listitem>
<listitem
><para
>Para FreeBSD edite <filename
>/etc/ttys</filename
> y busque esta línea:</para>
<screen
>ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</screen>
<para
>y cámbiela por:</para>
<screen
>ttyv8   "/usr/local/bin/kdm"  xterm   on secure</screen>
</listitem>

<listitem
><para
>La mayor parte de las otras distribuciones son variaciones de estos casos.</para
></listitem>
</itemizedlist>

<para
>En este estadío, puede probar &kdm; de nuevo pasando su sistema al nivel de ejecución que debería ejecutar ahora &kdm;. Para ello, introduzca una orden como esta:</para>

<screen
><command
>/sbin/init <option
>5</option
></command
>
</screen>

<para
>En lugar del número <option
>5</option
> debería especificar el nivel de ejecución apropiado para ejecutar X11 en su sistema.</para>

<para
>El paso final es editar la entrada <parameter
>initdefault</parameter
> en <filename
>/etc/inittab</filename
> para especificar el nivel de ejecución apropiado para X11.</para>

<warning
><para
>Antes de hacer este cambio, asegúrese de que tiene un medio de volver a arrancar su sistema si se produce un problema. Puede hacerlo con un disquete de «rescate» proporcionado por la distribución de su sistema o un disquete de «rescate» especialmente diseñado, tal como <literal
>tomsrtbt</literal
>. Si ignora este aviso es bajo su responsabilidad.</para
></warning>

<para
>Esto suele implicar cambios en la línea de:</para>
<screen
>id:3:initdefault:</screen>
<para
>a</para>
<screen
>id:5:initdefault:</screen>

<para
>Cuando vuelva a arrancar su sistema, debería acabar con un diálogo de acceso a &kdm;.</para>

<para
>Si este paso no tiene éxito, el problema más probable es que el entorno usado en el momento del arranque difiera del entorno que usted utiliza para comprobar la línea de órdenes. Si está tratando de hacer coexistir dos versiones de &kde;, sea especialmente cuidadoso para que las opciones de configuración de sus variables de entorno <envar
>PATH</envar
> y <envar
>LD_LIBRARY_PATH</envar
> sean consistentes, y que los procedimientos de inicio no se las salten de algún modo.</para>

</sect1>

</chapter>

<chapter id="different-window-managers-with-kdm">
<title
>Soportando múltiples administradores de ventanas</title>

<para
>&kdm; detecta la mayor parte de los administradores de ventana y entornos de escritorio cuando se ejecuta. Instalar uno nuevo hará que éste esté disponible en el diálogo principal de &kdm; <guilabel
>Tipo de sesión</guilabel
>.</para>

<para
>Si tiene un administrador de ventanas muy nuevo, o que &kdm; no soporte, lo primero que debería comprobar es que la aplicación que se vaya a ejecutar se encuentre en la variable de entorno <envar
>PATH</envar
> y que no se haya renombrado durante la instalación en algo no esperado.</para>

<para
>Si el caso es que la aplicación es demasiado nueva y no está soportada todavía por &kdm; solo tiene que añadir una nueva sesión.</para>

<para
>La sesión se define en los archivos <firstterm
>.desktop</firstterm
> en <filename class="directory"
>$<envar
>KDEDIR</envar
>/share/apps/kdm/sessions</filename
>. Es suficiente con que añada el nombre correcto al archivo <literal role="extension"
>.desktop</literal
> de este directorio. Los campos son:</para>

<programlisting
>[Desktop Entry]
Encoding=UTF-8 <lineannotation
>Establece la condificación a <option
>UTF-8</option
> y puede ser omitida</lineannotation>
Type=XSession <lineannotation
>Establece el tipo de sesión a <option
>XSession</option
> y puede ser omitida</lineannotation>
Exec=<replaceable
>nombre del ejecutable</replaceable
> <lineannotation
>Se pasa a <command
>eval exec</command
> en un intérprete Bourne</lineannotation>
TryExec=<replaceable
>nombre del ejecutable</replaceable
> <lineannotation
>Soportado pero no es necesario</lineannotation>
Name=<replaceable
>nombre que se mostrará en la lista de sesiones de &kdm;</replaceable
></programlisting>

<para
>Tiene tres posibilidades:</para>

<variablelist>
<varlistentry>
<term
>predeterminado</term>
<listitem>
<para
>La sesión predeterminada para &kdm; suele ser &kde; pero puede ser configurada por el administrador del sistema. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>personalizar</term>
<listitem>
<para
>La sesión personalizada ejecutará el ~/.xsession de los usuarios si existe. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>a prueba de fallos</term>
<listitem>
<para
>A prueba de fallos ejecuta un sesión totalmente plana, y es práctico únicamente para la depuración. </para>
</listitem>
</varlistentry>
</variablelist>

<para
>Para cambiar el tipo de sesión, copie el archivo .desktop del directorio de datos al de configuración y edítelo. Eliminar los tipos de sesión puede conseguirse «ocultándolos» en archivos .desktop que contengan Hidden=true. Para los tipos de sesión anteriores no existen tipos de archivos .desktop predeterminados, pero &kdm; pretende que lo sean, por ello, debe sobreescribirlos por cualquier otro tipo. Espero que sepa cómo añadir un nuevo tipo de sesión :-)</para>

</chapter>

<chapter id="xdmcp-with-kdm">
<title
>Utilizar &kdm; para accesos remotos (&XDMCP;)</title>

<para
>&XDMCP; es un estándar del Open Group el «protocolo de control de administración de la pantalla X» (X Display Manager Control Protocol). Se utiliza para configurar las conexiones entre sistemas remotos a través de la red.</para>

<para
>&XDMCP; es práctico en situaciones multiusuario en las que existen usuarios con estaciones de trabajo y un servidor muy potente que puede proporcionar los recursos para ejecutar múltiples sesiones X. Por ejemplo, &XDMCP; es una buena forma de reutilizar viejos ordenadores -un Pentium e incluso un 486 con 16Mb de RAM es suficiente para ejecutar las X y utilizar &XDMCP; como un ordenador que puede ejecutar sesiones del moderno &kde; en el servidor. Por parte del servidor, una vez que se está ejecutando una sesión de &kde; (u otro entorno), ejecutar otra necesitará pocos recursos extra.</para>

<para
>Sin embargo, permitir otros métodos de acceso a su máquina, obviamente, tiene implicaciones de seguridad. Debería ejecutar este servicio únicamente si necesitase permitir el acceso a servidores X remotos para que inicien sesiones de acceso en su sistema. Los usuarios con un sencillo ordenador con &UNIX; no necesitan ejecutar ésto.</para>

</chapter>

<chapter id="advanced-topics">
<title
>Consejos avanzados</title>

<sect1 id="command-sockets">
<title
>Órdenes de conexión</title>

<para
>Esta es una caractarística que puede utilizar para controlar de forma remota &kdm;. La mayor parte de las veces se utiliza por &ksmserver; y &kdesktop; desde una sesión en ejecución, pero también son posibles otras aplicaciones.</para>

<para
>Las conexiones son conexiones del ámbito de &UNIX; que se encuentran en los subdirectorios especificados por <option
>FifoDir</option
>=. El subdirectorio es la clave del direccionamiento y la seguridad. Todas las conexiones tienen el nombre de <filename
>socket</filename
> y los permisos de archivo <literal
>rw-rw-rw-</literal
> (0666). Esto se debe a que algunos sistemas no cuidan los permisos de archivo de los archivos de conexión.</para>

<para
>Existen dos tipos de conexiones: una global (dmctl) y otra para la pantalla (dmctl-&lt;display&gt;).</para>

<para
>El subdirectorio global es propiedad del root, el subdirectorio para la pantalla es propiedad del usuario propietario de la sesión (el root o el usuario que ha accedido). El grupo propiedad de los subdirectorios puede ser configurado a través de FifoGroup=, o a través del root. Los permisos del archivo del subdirectorio son rwxr-x--- (0750).</para>

<para
>Los campos de una orden se separan por tabuladores (<token
>\t</token
>), los campos de una lista se separan por espacios, los espacios en los campos de las listas se notan como <token
>\s</token
>.</para>

<para
>La orden termina con una línea nueva (<token
>\n</token
>).</para>

<para
>Lo mismo se aplica a las respuestas. La respuesta en caso de éxito es <returnvalue
>ok</returnvalue
>, posiblemente seguido de la información pedida. La respuesta en caso de error es una palabra con el estilo de número de error (&eg; <returnvalue
>perm</returnvalue
>, <returnvalue
>noent</returnvalue
>, &etc;) seguido por una larga explicación.</para>

<variablelist>
<title
>Órdenes globales:</title>
<varlistentry>
<term
><command
>login</command
> <option
>display</option
> (<parameter
>now</parameter
> | <parameter
>calendario</parameter
>) <parameter
>usuario</parameter
> <parameter
>contraseña</parameter
> [argumentos_de_sesión]</term>
<listitem>
<para
>Accede el usuario en la pantalla. Si está especificado <parameter
>now</parameter
>, se cierra una posible sesión en ejecución, sino el acceso se efectuará al salir de la sesión. Los argumentos_de_sesión son contenidos que se imprimen «escapados» por .dmrc. Se utilizarán los valores guardados para las claves no listadas.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Órdenes para la pantalla:</title>
<varlistentry>
<term
><command
>lock</command
></term>
<listitem>
<para
>La pantalla está marcada como bloqueada. Si el &X-Server; se cuelga en este estado, no se podrá acceder de nuevo aunque esté activada esta opción.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>unlock</command
></term>
<listitem>
<para
>Revierte el efecto de <command
>lock</command
> y reactiva el acceso automático de nuevo.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>suicide</command
></term>
<listitem>
<para
>La sesión que se esté ejecutando actualmente se terminará a la fuerza. No se intenta de nuevo el acceso, pero sí se ejecutará una orden de «acceso» programado.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Órdenes para todas las conexiones</title>
<varlistentry>
<term
><command
>caps</command
></term>
<listitem>
<para
>Devuelve una lista de las capacidades de esta conexión:</para>

<variablelist>
<varlistentry>
<term
><returnvalue
>&kdm;</returnvalue
></term>
<listitem>
<para
>Identifica &kdm;, en el caso de que otro DM implemente también este protocolo.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>list</returnvalue
>, <returnvalue
>lock</returnvalue
>, <returnvalue
>suicide</returnvalue
>, <returnvalue
>login</returnvalue
></term>
<listitem>
<para
>Están soportadas las órdenes respectivas.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>bootoptions</returnvalue
></term>
<listitem>
<para
>Están soportadas la orden <command
>listbootoptions</command
> y el <option
>=</option
> a <command
>shutdown</command
>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>shutdown &lt;list&gt;</returnvalue
></term>
<listitem>
<para
><command
>shutdown</command
> está soportada y se permite para los usuarios listados (un lista separada por comas). <returnvalue
>*</returnvalue
> equivale a todos los usuarios.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke &lt;list&gt;</returnvalue
></term>
<listitem>
<para
>El apagado puede ser forzado por los usuarios listados.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke</returnvalue
></term>
<listitem>
<para
>El apagado puede ser forzado por todos</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>reserve &lt;número&gt;</returnvalue
></term>
<listitem>
<para
>Se configura la reserva de la pantalla, de forma que <returnvalue
>número</returnvalue
> se hará disponible.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>list</command
> [<parameter
>all</parameter
> | <parameter
>alllocal</parameter
>]</term>
<listitem>
<para
>Devuelve una lista de sesiones en ejecución. De forma predeterminada se listan todas las sesiones activas. Si se especifica <parameter
>all</parameter
>, se listan las sesiones pasivas también. Si se especifica <parameter
>alllocal</parameter
>, se listarán también las sesiones pasivas, pero se saltarán todas las sesiones remotas entrantes.</para>
<para
>Cada entrada de la sesión es un grupo de contenedores separados por comas:</para>
<itemizedlist>
<listitem
><para
>Nombre de la pantalla o TTY.</para
></listitem>
<listitem
><para
>Nombre VT para las sesiones locales.</para
></listitem>
<listitem
><para
>Nombre de usuario para el acceso, vacío para sesiones pasivas y sesiones remotas de salida (modo de selección local).</para
></listitem>
<listitem
><para
>Tipo de sesión o «&lt;remote&gt;» para sesiones remotas de salida, vacía para sesiones pasivas.</para
></listitem>
<listitem
><para
>Un campo marcado:</para>
<itemizedlist
><listitem
><para
><literal
>*</literal
> para la pantalla perteneciente a la conexión pedida.</para
></listitem>
<listitem
><para
><literal
>!</literal
> para las sesiones que no puedan ser cerradas por una petición de conexión.</para
></listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<para
>Se añadirán nuevos campos en el futuro.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>reserve</command
> [<parameter
>plazo en segundos</parameter
>]</term>
<listitem>
<para
>Inicia una reserva de acceso a la pantalla. Si nadie accede en el tiempo especificado (un minuto de forma predeterminada), se eliminará la pantalla. También se eliminará cuando se salga de la sesión.</para>
<para
>Permite únicamente conexiones a la pantalla local y la conexión global.</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>activate</command
> (<parameter
>vt</parameter
>|<parameter
>display</parameter
>)</term>
<listitem>
<para
>Cambia a un TV particular (terminal virtual). El TV puede ser especificado bien directamente (&eg; <parameter
>vt3</parameter
>) o bien a través de la pantalla (&eg; <parameter
>:2</parameter
>).</para>
<para
>Permite únicamente conexiones a la pantalla local y la conexión global.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>listbootoptions</command
></term>
<listitem>
<para
>Lista de opciones de arranque disponibles.</para>
<!--FIXME: "ok" list default current
    default and current are indices into the list and are -1 if unset or
    undeterminable. -->
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown</command
> (<parameter
>reboot</parameter
> | <parameter
>halt</parameter
>) [<parameter
>=<replaceable
>bootchoice</replaceable
></parameter
>] (<parameter
>ask</parameter
>|<parameter
>trynow</parameter
>|<parameter
>forcenow</parameter
>|<parameter
>schedule</parameter
>|<parameter
>start (<parameter
>-1</parameter
>|<parameter
>end (<parameter
>force</parameter
>|<parameter
>forcemy</parameter
>|<parameter
>cancel)</parameter
>)</parameter
>)</parameter
>)</term>
<listitem>
<para
>Pide al sistema que se apague, bien reiniciándose o parándose/desconectándose.</para>
<para
>La elección para el siguiente arranque debe ser especificado a partir de la lista devuelta por <command
>listbootoptions</command
>.</para>
<para
>Las peticiones de apagado desde la conexión de la pantalla se ejecutan cuando la sesión actual se cierra. La petición puede hacer aparecer un diálogo pidiéndole confirmación y/o autentificación.</para>
<para
><parameter
>start </parameter
> es el tiempo para el que está programado el apagado. Si comienza por un signo más, se añade al momento actual. Cero significa inmediatamente.</para>
<para
><parameter
>end</parameter
> es la última hora a la que el apagado se debería efectuar si la sesión activa se está ejecutando todavía. Si comienza con un signo más se añade al momento del inicio. -1 significa espera indefinida. Si end está en una sesión activa todavía en ejecución, &kdm; hará una de las siguientes cosas:</para>
<itemizedlist>
<listitem
><para
><parameter
>cancel</parameter
> - anula el apagado.</para
></listitem>
<listitem
><para
><parameter
>force</parameter
> - apaga a pesar de todo.</para
></listitem>
<listitem
><para
><parameter
>forcemy</parameter
> - apaga a pesar de todo si todas las sesiones activas pertenecen al usuario que ha hecho la petición. Únicamente para las conexiones a la pantalla.</para
></listitem>
</itemizedlist>
<para
><parameter
>start</parameter
> y <parameter
>end</parameter
> se especifican en segundos desde la época de &UNIX;.</para>
<para
><parameter
>trynow</parameter
> es un sinónimo para <parameter
>0 0 cancel</parameter
>, <parameter
>forcenow</parameter
> para <parameter
>0 0 force</parameter
> y <parameter
>schedule</parameter
> para <parameter
>0 -1</parameter
>.</para>
<para
><parameter
>ask</parameter
> intenta el apagado de forma inmediata e interactúa con el usuario si existen sesiones activas ejecutándose todavía. Sólo para las conexiones a la pantalla.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown cancel</command
> [<parameter
>local</parameter
>|<parameter
>global</parameter
>}</term>
<listitem>
<para
>Anula un apagado programado. La conexión global siempre cancela todos los apagados pendientes, mientras que las conexiones predeterminadas a la pantalla cancelarán sus propias peticiones.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown status</command
></term>
<listitem>
<para
>Devuelve una lista con información sobre los apagados.</para>
<para
>Las entradas son un conjunto de componentes separados por comas:</para>
<itemizedlist>
<listitem>
<para
>(<returnvalue
>global</returnvalue
>|<returnvalue
>local</returnvalue
>) - pendiente frente a apagado. Una entrada local puede ser devuelta únicamente por una conexión a una pantalla.</para>
</listitem>
<listitem
><para
>(<returnvalue
>halt</returnvalue
>|<returnvalue
>reboot</returnvalue
>).</para
></listitem>
<listitem
><para
>start.</para
></listitem>
<listitem
><para
>end.</para
></listitem>
<listitem
><para
>("ask"|"force"|"forcemy"|"cancel").</para
></listitem>
<listitem
><para
>Identificador numérico de usuario de la petición del usuario, -1 para la conexión global.</para
></listitem>
<listitem
><para
>La elección del siguiente inicio o «-» para ninguna.</para
></listitem>
</itemizedlist>
<para
>Posteriormente se añadirán nuevos campos.</para>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</varlistentry>
</variablelist>
<para
>Existen dos formas de utilizar las conexiones:</para>
<itemizedlist>
<listitem>
<para
>Conectarse directamente. Se exporta FifoDir como $<envar
>DM_CONTROL</envar
>. El nombre de la conexión a la pantalla se derivará de $<envar
>DISPLAY</envar
>.</para>
</listitem>
<listitem>
<para
>Utilizando la orden <command
>kdmctl</command
> (&eg;, en un intérprete de órdenes). Utilice <command
>kdmctl</command
> <option
>-h</option
> para obtener más información.</para>
</listitem>
</itemizedlist>

<para
>Veámos un ejemplo en bash script «reiniciar en FreeBSD»:</para>

<programlisting
>if kdmctl | grep -q shutdown; then
  IFS=$'\t'
  set -- `kdmctl listbootoptions`
  if [ "$1" = ok ]; then
        fbsd=$(echo "$2" | tr ' ' '\n' | sed -ne 's,\\s, ,g;/freebsd/I{p;q}')
        if [ -n "$fbsd" ]; then
      kdmctl shutdown reboot "=$fbsd" ask &gt; /dev/null
        else
          echo "opciones de inicio de FreeBSD no disponibles."
        fi
  else
    echo "opciones de inicio no disponibles."
  fi
else
  echo "Imposible reiniciar el sistema."
fi</programlisting>

</sect1>
<!-- Riddell: so there's no GUI you need to edit kdmrc to say UseTheme=true and Theme=/path/to/theme.xml
[13:31] <Riddell
> jriddell.org/programs has an example theme 

<sect1 id="dm-themes">
<title
>Themes</title>

&kdm; has limited support for desktop manager themes.  You may enable them
by adding <userinput
>UseTheme=true</userinput
> to <filename
>kdmrc</filename>
and <userinput
>Theme=/path/to/theme.xml</userinput
>.  
</sect1>
-->
</chapter>

<chapter id="Other-Information">
<title
>Otras fuentes de información</title>

<para
>Como &kdm; procede de &xdm;, la <ulink url="man:xdm"
>página man de xdm</ulink
> podría proporcionar información útil. Para problemas relacionados con X intente ver las páginas man <ulink url="man:X"
>X</ulink
> y <ulink url="man:startx"
>startx</ulink
>. Si tiene preguntas acerca de &kdm; que no se contestan en este manual, aprovéchese del hecho de que &kdm; está bajo los términos de la Licencia Pública <abbrev
>&GNU;</abbrev
>: mire el código fuente. </para>

</chapter>


<chapter id="credits"
><title
>Créditos y licencia</title>

<para
>&kdm; procede de e incluye código de &xdm; (C) Keith Packard, MIT X Consortium.</para>

<para
>&kdm; 0.1 lo escribió &Matthias.Ettrich;. Las versiones posteriores para &kde; 2.0.x las escribió &Steffen.Hansen;. Algunas características nuevas para &kde; 2.1.x y una reescritura mayor para &kde; 2.2.x la hizo &Oswald.Buddenhagen;.</para>

<para
>Otras partes del código de &kdm; tienen los derechos de autor de sus autores, y están bajo los términos de la licencia <ulink url="common/gpl-license.html"
>&GNU; GPL</ulink
>. Cualquier persona tiene permiso para modificar &kdm; y redistribuir el resultado siempre y cuando se mencione el nombre de los autores.</para>

<para
>&kdm; requiere la biblioteca &Qt;, cuyos derechos de autor son de Troll Tech AS.</para>

<para
>Colaboradores de la documentación: <itemizedlist>

<listitem
><para
>Documentación de &Steffen.Hansen; <email
>stefh@dit.ou.dk</email
>.</para
></listitem>

<listitem
><para
>Documentación extendida de Gregor Zumstein<email
>zumstein@ssd.ethz.ch</email
>. Última actualización 9 de Agosto de 1998.</para
></listitem>

<listitem
><para
>Documentación para &kde; 2 revisada por &Neal.Crook; &Neal.Crook.mail;. Última actualización: 06 de Agosto de 2000.</para
></listitem>

<listitem
><para
>Documentación extendida y revisada para &kde; 2.2 por &Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;. Ultima actualización: Agosto de 2001.</para
></listitem>

</itemizedlist
></para>

<para
>Derechos de autor de la documentación. &Steffen.Hansen;, Gregor Zumstein, &Neal.Crook; y &Oswald.Buddenhagen;. Este documento también incluye amplias partes de las páginas man de &xdm;, con derechos de autor de Keith Packard.</para>
&underFDL; &underGPL; </chapter>

<glossary id="glossary">
<title
>Glosario</title>

<glossentry id="gloss-greeter">
<glossterm
>bienvenida</glossterm>
<glossdef
><para
>La bienvenida es el diálogo de acceso, &ie;, la parte de &kdm; que los usuarios ven.</para>
</glossdef>
</glossentry>

<glossentry>
<glossterm id="gloss-entropy"
>entropía</glossterm>
<glossdef
><para
>La entropía de un sistema es la medida de su impredictibilidad. Se utiliza durante la generación de números aleatorios.</para
></glossdef>
</glossentry>

</glossary>
</book>
<!--
Local Variables:
mode: xml
sgml-omittag: nil
sgml-shorttag: t
End:
-->

