<chapter id="advanced-editing-tools">
<chapterinfo>
<authorgroup>
<author
>&Anders.Lund; &Anders.Lund.mail;</author>
<author
>&Dominik.Haumann; &Dominik.Haumann.mail;</author>
<othercredit role="translator"
> <firstname
>Pablo</firstname
> <surname
>de Vicente</surname
> <affiliation
><address
><email
>vicente@oan.es</email
></address
></affiliation
> <contrib
>Traductor</contrib
> </othercredit
> <othercredit role="translator"
> <firstname
>Marcos</firstname
> <surname
>Fouces Lago</surname
> <affiliation
><address
><email
>mfouces@yahoo.es</email
></address
></affiliation
> <contrib
>Traductor</contrib
> </othercredit
> <othercredit role="translator"
> <firstname
>Santiago</firstname
> <surname
>Fernández Sancho</surname
> <affiliation
><address
><email
>santi@kde-es.org</email
></address
></affiliation
> <contrib
>Traductor</contrib
> </othercredit
> 
</authorgroup>
</chapterinfo>
<title
>Herramientas de edición avanzadas</title>

<sect1 id="advanced-editing-tools-comment">

<title
>Comentar/descomentar</title>

<para
>Las órdenes Comentar y Descomentar, disponibles en el menú <guimenu
>Herramientas</guimenu
> le permiten añadir o eliminar marcas de comentario de la selección, o en su defecto, de la línea actual. El formato de los comentarios depende del formato del texto que esté escribiendo.</para>

<para
>Las reglas que determinan cómo deben ser los comentarios se establecen en las definiciones de sintaxis, así que si no se utiliza el resaltado de sintaxis, no será posible la realización automática de comentarios. </para>

<para
>Algunos formatos definen marcas de comentarios de una sola línea, otros de varias líneas y otros utilizan ambas posibilidades. Si no están disponibles los comentarios de varias líneas, será imposible comentar una selección cuya última línea no esté incluida por completo.</para>

<para
>Si está disponible una marca de comentario de una sola línea, es preferible comentar las líneas individualmente, ya que así se evitan problemas de comentarios anidados.</para>

<para
>Al eliminar las marcas de comentario, se debe seleccionar el texto no comentado. Al eliminar marcas de comentario multilínea de una selección, se ignorará cualquier espacio en blanco que quede fuera de las marcas de comentario.</para>

<para
><indexterm
><primary
>comentariost</primary
></indexterm
> Para colocar marcas de comentario, utilice <menuchoice
><guimenu
>Herramientas</guimenu
><guimenuitem
>Comentar</guimenuitem
></menuchoice
> o el acceso directo de teclado correspondiente, que de manera predeterminada es <keycombo action="simul"
>&Ctrl;<keycap
>#</keycap
></keycombo
>.</para>

<para
><indexterm
><primary
>descomentar</primary
></indexterm
> Para eliminar marcas de comentario, utilice el elemento de menú <menuchoice
><guimenu
>Herramientas</guimenu
><guimenuitem
>Descomentar</guimenuitem
></menuchoice
> o el acceso directo de teclado correspondiente, que de manera predeterminada es <keycombo action="simul"
>&Ctrl;&Shift;<keycap
>#</keycap
></keycombo
>.</para>

</sect1>

<sect1 id="advanced-editing-tools-commandline">
<title
>El componente de la línea de órdenes del editor</title>

<para
>El editor Kate tiene un componente que es una línea de órdenes interna, y le permitirá llevar a cabo diversas acciones desde un interfaz mínimo. La línea de órdenes es una entrada de texto en la parte inferior del área de edición, y para mostrarlo solo tendrá que seleccionar <menuchoice
><guimenu
>Ver</guimenu
> <guimenuitem
>Cambiar a línea de órdenes</guimenuitem
></menuchoice
> o utilizar el acceso rápido (de forma predeterminada es <keycombo action="simul"
><keycap
>F7</keycap
></keycombo
>). El editor proporciona un conjunto de órdenes como las que se documentan a continuación, así como aquellos otros que se suministren a partir de complementos.</para>

<para
>Para ejecutar una órden, tecléela y pulse la tecla entrar. La línea de órdenes indicará si ha tenido éxito mostrando un mensaje. Si entra en la línea de órdenes pulsando <keycap
>F7</keycap
> se ocultará automáticamente después de unos segundos. Para borrar el mensaje e introducir una nueva orden, pulse <keycap
>F7</keycap
> nuevamente.</para>

<para
>La línea de órdenes tiene un sistema de ayuda integrado, escriba la orden <command
>help</command
> para iniciarlo. Para ver una lista de todas las órdenes disponibles escriba <command
>help list</command
>, para ver ayuda especifica para una orden específica, escriba <command
>help <replaceable
>orden</replaceable
></command
>.</para>

<para
>La línea de órdenes tiene integrado un historial, por tanto podrá reutilizar las órdenes ya tecleadas. Para navegar a través del historial, utilice las teclas <keycap
>Arriba</keycap
> y <keycap
>Abajo</keycap
>. A la vez que se muestran las órdenes del historial, se seleccionará la parte del argumento, permitiendo cambiarlos fácilmente, sobreescribiendo los argumentos.</para>

<sect2 id="advanced-editing-tools-commandline-commands">
<title
>Órdenes estándar de la línea de órdenes</title>

<sect3 id="advanced-editing-tools-commandline-commands-configure">
<title
>Órdenes para configurar el editor</title>

<para
>Estas órdenes son las que proporciona el componente del editor, y le permite configurar únicamente el documento activo y la vista. Esto es especialmente práctico si desea utilizar una configuración diferente de la predeterminada, por ejemplo para el sangrado. </para>

<variablelist>
<title
>Tipos de argumentos</title>

<varlistentry>
<term
>BOOLEAN</term>
<listitem
><para
>Se utilizan con órdenes que activan o desactivan opciones. Los valores aceptados son: <userinput
>on</userinput
>, <userinput
>off</userinput
>, <userinput
>true</userinput
>, <userinput
>false</userinput
>, <userinput
>1</userinput
> o <userinput
>0</userinput
>.</para
></listitem>
</varlistentry>

<varlistentry>
<term
>INTEGER</term>
<listitem
><para
>Un número entero.</para
></listitem>
</varlistentry>

<varlistentry>
<term
>STRING</term>
<listitem
><para
>Una cadena.</para
></listitem>
</varlistentry>

</variablelist>

<variablelist>

<varlistentry>
<term
><cmdsynopsis
><command
>set-tab-width</command
><arg
>INTEGER ancho</arg
></cmdsynopsis
></term>
<listitem
><para
>Establece la tabulación con el valor de <userinput
>ancho</userinput
>.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-width</command
><arg
>INTEGER ancho</arg
></cmdsynopsis
></term>
<listitem
><para
>Establece el sangrado con el valor de <userinput
>ancho</userinput
>. Solo se utiliza si se está sangrando con espacios.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-word-wrap-column</command
><arg
>INTEGER ancho</arg
></cmdsynopsis
></term>
<listitem
><para
>Establece el ancho de línea para el ajuste de línea con el valor de <userinput
>ancho</userinput
>. Esto se utiliza si se tiene activado el ajuste de línea del documento.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-icon-border</command
><arg
>BOOLEAN enable</arg
> </cmdsynopsis
></term>
<listitem
><para
>Configura la visibilidad del borde de iconos.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-folding-markers</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Configura la visibilidad del panel de marcas plegables.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-line-numbers</command
><arg
>BOOLEAN activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Configura la visibilidad de los números de línea del panel.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-replace-tabs</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Si está activado, se sustituyen los espacios de tabulador por espacios normales a medida que escribe. </para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-remove-trailing-space</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Si está activo, las espacios en blanco de marca se eliminan en el momento en el que el cursor salga de la línea.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-show-tabs</command
><arg
>BOOLEAN activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Si está activado, los caracteres de tabulación y espacios en blanco de marca se visualizarán como un puntito.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-spaces</command
><arg
>BOOLEAN activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Si está activado, el editor hará un sangrado con <option
>indent-width</option
> espacios para cada nivel de sangrado, en lugar de con un caracter de tabulación.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-mixed-indent</command
><arg
>BOOLEAN activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Si está activado, kate utilizará una mezcla de tabuladores y espacios para el sangrado. Cada nivel de sangrado tendrá <option
>indent-width</option
> de ancho, y los diferentes niveles de sangrado se optimizarán utilizando los máximos caracteres de tabulación posibles.</para>
<para
>Cuando se ejecuta, esta orden activará el sangrado con espacios, y si no se especifica el ancho se asignará una valor igual a la mitad de <option
>tab-width</option
> para el documento en tiempo de ejecución.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-word-wrap</command
><arg
>BOOLEAN activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Activa el ajuste de línea dinámico de acuerdo con el valor de <userinput
>activar</userinput
>.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-replace-tabs-save</command
><arg
>BOOLEAN enable</arg
></cmdsynopsis
></term>
<listitem
><para
>Cuando está activo, los tabuladores se reemplazan con espacios en blanco al guardar el documento.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-remove-trailing-space-save</command
><arg
>BOOLEAN activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Cuando está activo, se eliminan las marcas de los espacios de cada línea al guardar el documento.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-mode</command
><arg
>nombre</arg
></cmdsynopsis
></term>
<listitem
><para
>Asigna el modo de sangrado automático a <userinput
>nombre</userinput
>. si <userinput
>nombre</userinput
> es desconocido, el modo seleccionado es 'none'. Los modos válidos son 'cstyle', 'csands', 'xml', 'python', 'varindent' y 'none'.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-highlight</command
><arg
>resaltado</arg
></cmdsynopsis
></term>
<listitem
><para
>Asigna el sistema de resaltado de sintaxis al documento. El argumento debe ser un nombre de resaltado válido, como aquellos que se pueden ver en el menú <menuchoice
><guimenu
>Herramientas</guimenu
><guisubmenu
>Resaltado</guisubmenu
></menuchoice
>. Esta orden proporciona una lista de autocompletado para los argumentos.</para
></listitem>
</varlistentry>

</variablelist>

</sect3>

<sect3 id="advanced-editing-tools-commandline-commands-edit">
<title
>Órdenes para la edición</title>

<para
>Estas órdenes modifican el documento actual.</para>

<variablelist>
<varlistentry>
<term
><cmdsynopsis
><command
>indent</command
></cmdsynopsis
></term>
<listitem
><para
>Sangrado de texto en la línea actual.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>unindent</command
></cmdsynopsis
></term>
<listitem
><para
>Elimina el sangrado de las líneas seleccionadas o de la línea actual.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>cleanindent</command
></cmdsynopsis
></term>
<listitem
><para
>Borra el sangrado de las líneas seleccionadas o de la línea actual de acuerdo con la configuración del sangrado que tenga el documento. </para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>comment</command
></cmdsynopsis
></term>
<listitem
><para
>Inserta marcas de comentario haciendo que la selección, las líneas seleccionadas o la línea actual sean un comentario de acuerdo con el formato de texto que se haya definido en la sintaxis de resaltado para el documento.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>uncomment</command
></cmdsynopsis
></term>
<listitem
><para
>Elimina la etiqueta de comentario de la selección, de las líneas seleccionadas o de la línea actual, de acuerdo con las reglas sintácticas de resaltado del documento.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>kill-line</command
></cmdsynopsis
></term>
<listitem
><para
>Borra la línea actual.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>replace</command
><arg
>patrón</arg
><arg
>reemplazo</arg
></cmdsynopsis
></term>
<listitem
><para
>Reemplaza el texto que coincida con <userinput
>patrón</userinput
> con el valor de <userinput
>reemplazo</userinput
>. Si desea incluir espacios en blanco en el <userinput
>patrón</userinput
>, deberá entrecomillar tanto el <userinput
>patrón</userinput
> como el <userinput
>reemplazo</userinput
> con comillas simples o dobles. Si los argumentos no van entrecomillados, la primera palabra se utilizará como <userinput
>patrón</userinput
> y el resto como <userinput
>reemplazo</userinput
>. Si <userinput
>reemplazo</userinput
> está vacío, cada aparición de <userinput
>patrón</userinput
> se borra.</para>
<para
>Puede asignar parámetros para configurar la búsqueda añadiendo dos puntos, seguidos de una o más letras cada una de las cuales representa una configuración, quedando de la forma <userinput
>replace:opciones patrón reemplazo</userinput
>. Las opciones disponibles son: <variablelist>

<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Buscar hacia atrás.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Buscar desde la posición del cursor.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>e</userinput
></term>
<listitem
><para
>Buscar sólo en el texto seleccionado.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Busca utilizando una expresión regular. Si está asignado, puede utilizar <userinput
>\N</userinput
> donde N es un número que representa capturas en la cadena de reemplazo.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Búsqueda distinguiendo mayúsculas y minúsculas.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>p</userinput
></term>
<listitem
><para
>Pide permiso para reemplazar la siguiente aparición.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>w</userinput
></term>
<listitem
><para
>Encontrar sólo palabras completas.</para
></listitem>
</varlistentry>

</variablelist>

</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>date</command
><arg
>formato</arg
></cmdsynopsis
></term>
<listitem
><para
>Inserta una cadena de fecha/hora definida de acuerdo a <userinput
>formato</userinput
>, o si éste no se especifica se utiliza el formato «aaaa-MM-dd hh:mm:ss». La interpretación del <userinput
>formato</userinput
> será la siguiente: <informaltable
> <tgroup cols="2"
> <tbody>
<row
><entry
><literal
>d</literal
></entry
><entry
>El día como número sin ceros a la izquierda (1-31).</entry
></row>
<row
><entry
><literal
>dd</literal
></entry
><entry
>El día como un número a dos dígitos (01-31).</entry
></row>
<row
><entry
><literal
>ddd</literal
></entry
><entry
>La abreviatura del nombre del día según la localización (ejem: 'Lun'...'Dom').</entry
></row>
<row
><entry
><literal
>dddd</literal
></entry
><entry
>El nombre completo del día según la localización (ejem: 'Lunes'...'Domingo').</entry
></row>
<row
><entry
><literal
>M</literal
></entry
><entry
>El mes como un número sin ceros a la izquierda (1-12).</entry
></row>
<row
><entry
><literal
>MM</literal
></entry
><entry
>El mes como un número a dos dígitos (01-12).</entry
></row>
<row
><entry
><literal
>MMM</literal
></entry
><entry
>La abreviatura del nombre del mes según su localización (p.ej: 'Ene'..'Dic').</entry
></row>
<row
><entry
><literal
>yy</literal
></entry
><entry
>El año como un número de dos dígitos (00-99).</entry
></row>
<row
><entry
><literal
>yyyy</literal
></entry
><entry
>Año a cuatro dígitos (1752-8000).</entry
></row>
<row
><entry
><literal
>h</literal
></entry
><entry
>La hora sin ceros a la izquierda (0..23 o 1..12 si se muestra AM/PM).</entry
></row>
<row
><entry
><literal
>hh</literal
></entry
><entry
>La hora a dos dígitos (00..23 o 01..12 si se muestra AM/PM).</entry
></row>
<row
><entry
><literal
>m</literal
></entry
><entry
>Los minutos sin ceros a la izquierda (0..59).</entry
></row>
<row
><entry
><literal
>mm</literal
></entry
><entry
>Los minutos a dos dígitos (00..59).</entry
></row>
<row
><entry
><literal
>s</literal
></entry
><entry
>Los segundos sin ceros a la izquierda (0..59).</entry
></row>
<row
><entry
><literal
>ss</literal
></entry
><entry
>Los segundos a dos dígitos (00..59).</entry
></row>
<row
><entry
><literal
>z</literal
></entry
><entry
>Los milisegundos sin ceros a la izquierda (0..999).</entry
></row>
<row
><entry
><literal
>zzz</literal
></entry
><entry
>Los milisegundos a tres dígitos (000..999).</entry
></row>
<row
><entry
><literal
>AP</literal
></entry
><entry
>Se utiliza para mostrar AM/PM. AP se reemplazará por «AM» o «PM».</entry
></row>
<row
><entry
><literal
>ap</literal
></entry
><entry
>Se utiliza para mostrar am/pm. ap se reemplazará por «am» o «pm».</entry
></row>

</tbody>
</tgroup>
</informaltable>

</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>char</command
><arg
>identificador</arg
></cmdsynopsis
></term>
<listitem>
<para
>Esta órden le permite insertar caracteres literales por su identificador numérico, en formato decimal, octal o hexadecimal. Para utilizarlo inicie el diálogo de edición de órdenes y teclee <userinput
>char: [número]</userinput
> en la casilla de entrada, después pulse <guibutton
>Aceptar</guibutton
>.</para>

<example>
<title
>Ejemplos de <command
>char</command
></title>

<para
>Entrada: <userinput
>char:234</userinput
></para>
<para
>Salida: <computeroutput
>&#234;</computeroutput
></para>
<para
>Entrada: <userinput
>char:0x1234</userinput
></para>
<para
>Salida: <computeroutput
>&#x1234;</computeroutput
></para>
</example>

</listitem>
</varlistentry>

<varlistentry>
<term>
<indexterm
><primary
>reemplazo de cadenas al estilo de sed</primary>
<secondary
>Búsqueda al estilo de sed</secondary
></indexterm>
<command
>s///[ig]</command
> <command
>%s///[ig]</command
></term>

<listitem>
<para
>Esta orden ejecuta una operación de búsqueda/sustitución similar a las de sed en la línea actual o en todo el archivo (<command
>%s///</command
>).</para>

<para
>Brevemente, se busca en el texto alguna cadena que coincida con el <emphasis
>patrón de búsqueda</emphasis
>, la expresión regular entre la primera y la segunda barra, y cuando se encuentra una coincidencia, la parte coincidente del texto es sustituida por la expresión contenida entre las barras central y última de la cadena. Los paréntesis en el patrón de búsquedas crean <emphasis
>retroreferencias</emphasis
>, es decir, que la orden recuerda qué parte de la coincidencia se encontraba entre los paréntesis; estas cadenas se pueden reutilizar en el patrón de sustitución, refiriendose a ellas como <userinput
>\1</userinput
> como el primer conjunto de paréntesis, <userinput
>\2</userinput
> como el segundo y así sucesivamente.</para>

<para
>Para hacer una búsqueda literal de <literal
>(</literal
> o <literal
>)</literal
>, debe <emphasis
>escapar</emphasis
> el carácter utilizando una barra invertida: <userinput
>\(\)</userinput
>.</para>

<para
>Si coloca una <userinput
>i</userinput
> al final de la expresión, las coincidencias son sensibles a mayúsculas y minúsculas. Si coloca una <userinput
>g</userinput
> al final, se reemplazarán todas las apariciones del patrón, en cualquier otro caso se reemplazará únicamente la primera aparición.</para>

<example>

<title
>Sustitución de texto en la línea actual</title>

<para
>Su buen amigo el ordenador se ha detenido, diciendo que la clase <classname
>myClass</classname
>, mencionada en la línea 3902 del archivo fuente no está definida.</para>

<para
>«¡Vaya por Dios!» pensará usted, es que se trataba de <classname
>MyClass</classname
>. Se desplaza a la línea 3902 y en vez de intentar buscar la palabra en el texto, abre el diálogo de la orden de edición, introduce <userinput
>s/myclass/MyClass/i</userinput
>, pulsa el botón <guibutton
>Aceptar</guibutton
>, guarda el archivo y vuelve a compilar esta vez sin ningún error.</para>

</example>

<example>
<title
>Sustitución de texto en todo el archivo</title>

<para
>Imagine que tiene un archivo, en el que menciona a «Señorita Jensen» varias veces, cuando resulta que alguien viene y le dice que se acaba de casar con «Señora Jones». Usted querrá, desde luego, sustituir cada aparición de «Señorita Jensen» por «Señora Jensen».</para>

<para
>Inicie la línea de órdenes y teclee la orden <userinput
>%s/Señorita Jones/Señora Jones/</userinput
>, y una vez que haya pulsado entrar habrá terminado.</para>

</example>

<example>
<title
>Un ejemplo más avanzado</title>

<para
>Este ejemplo hace uso de <emphasis
>referencias anteriores</emphasis
> así como de una <emphasis
>clase de caracteres</emphasis
> (si no sabe lo que es esto, por favor consulte la documentación citada más adelante).</para>

<para
>Suponga que tiene la siguiente línea: <programlisting
>void MyClass::DoStringOps( String      &amp;foo, String &amp;bar String *p, int  &amp;a, int &amp;b )</programlisting>
</para>
<para
>Pero usted se da cuenta de que ese código no está bien, y decide que quiere utilizar la palabra clave <constant
>const</constant
> en todos los argumentos «address of», que se caracterizan por tener un operador &amp; delante del nombre del argumento. También desea simplificar el espacio en blanco, de forma que sólo haya uno entre cada palabra.</para>

<para
>Abra el diálogo de edición de órdenes, e introduzca: <userinput
>s/\s+(\w+)\s+(&amp;)/ const \1 \2/g</userinput
>, después pulse el botón <guibutton
>Aceptar</guibutton
>. La <userinput
>g</userinput
> al final de la expresión hace que la expresión regular recompile cada coincidencia para guardar las <emphasis
>retroreferencias</emphasis
>.</para>

<para
>Salida: <computeroutput
>void MyClass::DoStringOps( const String &amp;foo, const String &amp;bar String *p, const int &amp;a, const int &amp;b )</computeroutput
></para>

<para
>Misión completada. Ahora, ¿qué ha ocurrido? Bien, hemos buscado algún espacio en blanco (<literal
>\s+</literal
>) seguido de uno o más caracteres alfabéticos (<literal
>\w+</literal
>) seguidos de más espacio en blanco (<literal
>\s+</literal
>) seguido del símbolo «&amp;», y en el proceso hemos guardado el bloque alfabético y el «&amp;» para reutilizarlos en la operación de sustitución. Entonces hemos sustituido la parte coincidente de nuestra línea por un espacio en blanco seguido de «const» seguido de un espacio en blanco seguido de nuestro bloque alfabético (<literal
>\1</literal
>) seguido de un espacio en blanco seguido de nuestro «&amp;» almacenado (<literal
>\2</literal
>)</para>

<para
>En algunos casos el bloque alfabético era «String», en otros «int», así que la clase de caracteres <literal
>\w</literal
> y el cuantificador <literal
>+</literal
> nos han servido de gran ayuda.</para>

</example>

</listitem>

</varlistentry>

</variablelist>

</sect3>

<sect3 id="advanced-editing-tools-commandline-commands-navigation">
<title
>Opciones para navegar</title>

<variablelist>

<varlistentry>
<term
><cmdsynopsis
><command
>goto</command
><arg
>INT línea</arg
></cmdsynopsis
></term>
<listitem
><para
>Esta orden va a la línea especificada.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>find</command
><arg
>patrón</arg
></cmdsynopsis
></term>
<listitem
><para
>Esta orden navega hasta la primera aparición del <userinput
>patrón</userinput
> de acuerdo con la configuración. Las siguientes apariciones se pueden encontrar utilizando <menuchoice
><guimenu
>Editar</guimenu
><guimenuitem
>Buscar siguiente</guimenuitem
></menuchoice
> (el acceso rápido predeterminado es <keycap
>F3</keycap
>).</para>
<para
>La orden find puede configurarse añadiendo dos puntos seguidos de una o más opciones, el formato es <userinput
>find:opciones patrón</userinput
>. Están soportadas las siguientes opciones: <variablelist>

<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Buscar hacia atrás.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Buscar desde la posición del cursor.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>e</userinput
></term>
<listitem
><para
>Buscar sólo en el texto seleccionado.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Busca utilizando una expresión regular. Si está asignado, puede utilizar <userinput
>\N</userinput
> donde N es un número que representa capturas en la cadena de reemplazo.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Búsqueda distinguiendo mayúsculas y minúsculas.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>w</userinput
></term>
<listitem
><para
>Encontrar sólo palabras completas.</para
></listitem>
</varlistentry>

</variablelist>

</para>

</listitem>

</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>ifind</command
><arg
>patrón</arg
></cmdsynopsis
></term>
<listitem
><para
>Esta orden proporciona búsqueda «como-teclee». Puede configurar el comportamiento o la búsqueda añadiendo dos puntos seguidos de una o más opciones, de forma similar a: <userinput
>ifind:opciones patrón</userinput
>. Las opciones permitidas son: <variablelist>
<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Buscar hacia atrás.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Buscar mediante expresiones regulares.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Búsqueda distinguiendo mayúsculas y minúsculas.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Buscar desde la posición del cursor.</para
></listitem>
</varlistentry>

</variablelist>
</para
></listitem>
</varlistentry>

</variablelist>

</sect3>

</sect2>

</sect1>

<sect1 id="advanced-editing-tools-code-folding">
<title
>Utilizar plegado de código</title>

<para
>El plegado de código le permite ocultar partes de un documento en el editor, haciendo sencilla la visión general de los documentos. En &kate; las regiones plegables se calculan utilizando reglas definidas en las definiciones de resaltado de sintaxis, y por tanto solo está disponible en algunos formatos (suelen ser código fuente de programas, tales como XML). La mayor parte de las definiciones de resaltado soportan plegado de código y también le permiten definir manualmente regiones plegables, generalmente utilizando las palabras clave <userinput
>BEGIN</userinput
> y <userinput
>END</userinput
>.</para>

<para
>Para utilizar la característica del plegado de código, active los marcadores de plegado utilizando el elemento de menú <menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Ver plegado de código</guimenuitem
></menuchoice
> si no están visibles. El panel de marcadores plegables en la parte izquierda de la pantalla muestra una vista gráfica de las regiones plegables, con los signos +/- para indicar la posible operación en una región dada: un - significa que la región está expandida, pulsando el - se contraerá la región y un + la mostrará.</para>

<para
>Se proporcionan cuatro órdenes para manipular el estado las regiones plegables, vea el la <link linkend="view-code-folding"
>documentación del menú</link
>. </para>

<para
>Sino desea utilizar la característica de plegado de código, puede desactivar la opción <guilabel
>Mostrar plegado de marcadores (si está disponible)</guilabel
> en la <link linkend="config-dialog-editor-appearance"
>página de aspecto del editor de configuración</link
></para>

</sect1>

<sect1 id="advanced-editing-tools-scripting">

<title
>Scripts en el componente de edición con Javascript</title>

<sect2 id="advanced-editing-tools-scripting-introduction">

<title
>Introducción</title>

<para
>Comenzando con la versión 2.5, el componente de edición de &kate; soporta la creación de scripts con ECMA, y también conoce JavaScript.</para>

<para
>Los scripts se pueden utilizar únicamente a través de <link linkend="advanced-editing-tools-commandline"
>la línea de órdenes</link
>. Los requisitos son que el script se sitúen en la carpeta en la que &kate; pueda encontrarlos, junto con un archivo opcional .desktop que define la propiedades relacionadas. La carpeta válida se debe llamar <filename
>katepart/scripts</filename
> y debe estar en las carpetas de datos de &kde;. Puede encontrar las carpetas de datos ejecutando la orden <command
>kde-config <option
>--path</option
> <parameter
>data</parameter
></command
> Como norma general tendrá disponibles una carpeta de sistema y otra de datos personales. Por supuesto, los scripts la carpeta de datos del sistema estará disponible para todos los usuarios del sistema, mientras que los de la carpeta personal solo estarán disponibles para usted.</para>

<note
><para
>Esta característica es experimental y tendrá cambios durante su futuro desarrollo.</para>
<para
>Sabemos que muchos de ustedes estarán desilusionados porque no pueden añadir sus propios scripts en el menú o asignarles accesos rápidos. Lo sentimos, pero esperamos que en el futuro sea posible.</para>
<para
>Todavía no es posible pasar argumentos a sus scripts. Tenga paciencia, y puede que se añadan en un futuro brillante ;)</para>
</note>

</sect2>

<sect2 id="advanced-editing-tools-scripting-reference">

<title
>El API JavaScript de Kate</title>

<para
>Aquí se lista el conjunto completo de funciones y propiedades disponibles en los objetos <type
>document</type
> y <type
>view</type
>. También puede utilizar todos los objetos estándar como <type
>Math</type
>, <type
>String</type
> <type
>Regex</type
> y así sucesivamente.</para>

<para
>Cuando se ejecute un script, el objeto <classname
>document</classname
> es el documento actual, y el objeto <classname
>view</classname
> es la vista actual.</para>

<note
><para
>Los tipos de argumentos no se utilizan en JavaScript en este momento, sólo existen para indicar que tipo de valores esperan las funciones.</para
></note>

<variablelist id="advanced-editing-tools-scripting-global">
<title
>Funciones globales</title>
<varlistentry>
<term
><function
>debug( <parameter
><replaceable
>cadena</replaceable
></parameter
>) [función]</function
></term>
<listitem>
<itemizedlist>
<title
>parámetros</title>
<listitem
><para
><parameter
>cadena</parameter
> es la cadena de salida</para>
</listitem>
</itemizedlist>
<para
>Hace que las salidas se dirijan a <acronym
>STDERR</acronym
> utilizando <function
>kdDebug()</function
>.Un área dedicada de salida se utiliza para la salida, y comenzará por <computeroutput
>Kate (KJS Scripts):</computeroutput
> </para>
</listitem>
</varlistentry>
</variablelist>

<variablelist id="advanced-editing-tools-scripting-document">
<title
>El API <classname
>document</classname
></title>

<varlistentry>
<term
><function
>document.attribute( <parameter
><replaceable
>línea</replaceable
> </parameter
>, <parameter
><replaceable
>columna</replaceable
></parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>uint línea</parameter
> La línea de la posición para la que se buscará elatributo.</para
></listitem>
<listitem
><para
><parameter
>uint columna</parameter
> La columna de la posición para la que se buscará el atributo.</para
></listitem>
</itemizedlist>
<para
>Devuelve el ID numérico del atributo para la posición del documento [<parameter
>línea</parameter
>,<parameter
>columna</parameter
>]. El atributo representa el aspecto visual o estilo del texto, y también puede utilizarse para calcular el resaltado de sintexis para una parte específica del texto, como en los formatos HTML o PHP.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.canBreakAt( <parameter
>Char c</parameter
>, <parameter
>uint atributo</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>c</parameter
> El caracter a comprobar</para
></listitem>
<listitem
><para
><parameter
>atributo</parameter
> El atributo en la posción de <parameter
>c</parameter
>.</para
></listitem>
</itemizedlist>
<para
>El valor devuelto indica si está permitido dividir la línea en un caracter c con un atributo atributo. El resultado se decide haciendo preguntando al atributo propietario del resaltado que caractes pueden dividir la línea.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.canComment( <parameter
>uint atributo_inicio</parameter
>, <parameter
>uint atributo_fin</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>atributo_inicio</parameter
> El atributo al inicio del rango que se convertirá en un comentario.</para
></listitem>
<listitem
><para
><parameter
>atributo_fin</parameter
> El atributo al final del rango que se se convertirá en un comentario.</para
></listitem>
</itemizedlist>
<para
>El valor devuelto indica si atributo_inicio y atributo_fin pertenecen al mismo sistema resaltado de sintaxis. Si lo son es correcto. </para>
<example>
<title
>utilizando canComment</title>
<programlisting
>if ( document.canComment( document.attribute(1,0), document.attribute(5,0) ) ) {
    // 1,0 y 5,0 pertenecen al mismo sistema de resaltado de sintaxis
}
</programlisting>
</example>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.clear(); [función]</function
></term>
<listitem
><para
>Borra el documento.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentStart( <parameter
>uint atributo</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>atributo</parameter
> El atributo del texto para el que se obtendrá la cadena commentStart.</para
></listitem>
</itemizedlist>
<para
>Devuelve la cadena requerida para iniciar un comentario multilínea para un texto con atributo, o una cadena vacía si el comentario multilínea no está soportado para este texto.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentMarker( <parameter
>uint atributo</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>atributo</parameter
> El atributo del texto para el que se ha obtenido la cadena commentMarker</para
></listitem>
</itemizedlist>
<para
>Devuelve la cadena utilizada para marcar el resto de la línea como un comentario para un texto con atributo o una cadena vacía sino están soportados los comentarios de una solo línea.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentEnd( <parameter
>uint atributo</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>atributo</parameter
> El atributo del texto para el qeu se obtuvo la cadena commentEnd</para
></listitem>
</itemizedlist>
<para
>Devuelve la cadena requerida al final de un comentario multilínea para un texto con atributo, o una cadena vacía si los comentarios multilínea no están soportados parar este texto.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.editBegin(); [función]</function
></term>
<listitem>
<para
>Inicia un grupo de edición. Todas las acciones realizadas hasta que se llame a editEnd() se agruparán como una acción para deshacer.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.editEnd(); [función]</function
></term>
<listitem>
<para
>Finaliza un grupo de edición.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.highlightMode; [propiedad:sólo lectura]</function
></term>
<listitem>
<para
>El nombre del modo de resaltado del documento, tal como JavaScript o C++. Sino hay modo de resaltado de sintaxis seleccionado para el documento, el valor es None (ninguno). Tenga en cuenta que necesitará utilizar un nombre en inglés en aquellos casos en que difiera del traducido.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.indentMode; [propiedad:sólo lectura]</function
></term>
<listitem>
<para
>El nombre del modo de sangrado del documento, como por ejemplo <literal
>normal</literal
> o <literal
>cstyle</literal
>. Recuerde que sino hay modo de sangrado seleccionado, el valor será <literal
>none</literal
>. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.indentWidth; [propiedad:sólo lectura]</function
></term>
<listitem>
<para
>El ancho de sangrado asignado al documento. Se utiliza si el sangrado con espacios está activado.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.insertLine( <parameter
>uint línea</parameter
>, <parameter
>string texto</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>línea</parameter
> número de línea del documento.</para>
</listitem>
<listitem
><para
><parameter
>texto</parameter
> texto a insertar</para
></listitem>
</itemizedlist>
<para
>Inserta una línea nueva con el texto <parameter
>texto</parameter
> en la línea <parameter
>línea</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.insertText( <parameter
>uint línea</parameter
>, <parameter
>uint columna</parameter
>, <parameter
>string texto</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>línea</parameter
> el número de línea</para
></listitem>
<listitem
><para
><parameter
>columna</parameter
> la columna</para
></listitem>
<listitem
><para
><parameter
>texto</parameter
> el texto que se insertará</para
></listitem>
</itemizedlist>
<para
>Inserta el texto <parameter
>texto</parameter
> en la línea <parameter
>línea</parameter
> y la columna <parameter
>columna</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.length(); [función]</term>
<listitem>
<para
>Devuelve el tamaño del documento en bytes.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.lines(); [función]</function
></term>
<listitem>
<para
>Devuelve el número de líneas en el documento.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.mixedIndent; [propiedad:sólo lectura]</term>
<listitem>
<para
>Un propiedad booleana que indica que el sangrado mezclado está activado para el documento. Si es así, el sangrado está optimizado para contener una mezcla de tabuladores y espacios similares a los utilizados por el editor Emacs.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.removeLine( <parameter
>uint línea</parameter
> ); [función]</term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>línea</parameter
> número de línea</para
></listitem>
</itemizedlist>
<para
>Elimina la línea línea del documento.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.removeText( <parameter
>uint líneaInicio</parameter
>, <parameter
>uint columnaInicio</parameter
>, <parameter
>uint líneaFin</parameter
>, <parameter
>uint columnaFin</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>líneaInicio</parameter
> especifica la línea de inicio</para
></listitem>
<listitem
><para
><parameter
>columnaInicio</parameter
> especifica la columna de inicio</para
></listitem>
<listitem
><para
><parameter
>líneaFin</parameter
> especifica la línea de fin</para
></listitem>
<listitem
><para
><parameter
>columnaFin</parameter
> especifica la columna de fin</para
></listitem>
</itemizedlist>
<para
>Elimina el texto desde la línea <parameter
>líneaInicio</parameter
> y columna <parameter
>columnaFin</parameter
> hasta la línea <parameter
>líneaFin</parameter
> y columna <parameter
>columnaFin</parameter
>. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.setText( <parameter
>string texto</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>texto</parameter
> texto del documento</para
></listitem>
</itemizedlist>
<para
>Asigna el contenido del documento completo a <parameter
>text</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.spaceIndent; [propiedad:sólo lectura]</function
></term>
<listitem>
<para
>Es una propiedad booleana que indica si el sangrado con espacios está activado para el documento. De esta forma los niveles del documento se sangrarán con espacios, en caso contrario se utilizarán los tabuladores.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textFull(); [función]</function
></term>
<listitem>
<para
>Devuelve el texto del documento completo. Si el texto se ocupa varias líneas el caracter de salto de línea es <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textLine( uint línea ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>línea</parameter
> la línea</para
></listitem>
</itemizedlist>
<para
>Devuelve el texto de la línea <parameter
>línea</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textRange( <parameter
>uint lineaInicio</parameter
>, <parameter
>uint columnaInicio</parameter
>, <parameter
>uint lineaFin</parameter
>, <parameter
>uint columnaFin</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>líneaInicio</parameter
> especifica la línea de inicio</para
></listitem>
<listitem
><para
><parameter
>columnaInicio</parameter
> especifica la columna de inicio</para
></listitem>
<listitem
><para
><parameter
>líneaFin</parameter
> especifica la línea de fin</para>
</listitem>
<listitem
><para
><parameter
>columnaFin</parameter
> especifica la columna de fin</para
></listitem>
</itemizedlist>
<para
>Devuelve el texto del rango especificado. Si el rango ocupa varias líneas el caracter de salto de línea es <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

</variablelist
><!--/ document API -->

<variablelist id="advanced-editing-tools-scripting-view">
<title
>El API de <classname
>view</classname
></title>

<varlistentry>
<term
><function
>view.clearSelection(); [función]</function
></term>
<listitem>
<para
>Deseleccionar todo el texto.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorColumn(); [función]</function
></term>
<listitem>
<para
>Devuelve la columna del cursor actual (los caracteres TAB se expanden).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorColumnReal(); [función]</function
></term>
<listitem>
<para
>Devuelve la columna del cursor real actual (los caracteres TAB se cuentan como uno).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorLine(); [función]</function
></term>
<listitem>
<para
>Devuelve la línea actual del cursor.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.hasSelection(); [función]</function
></term>
<listitem>
<para
>Devuelve <constant
>true</constant
> (verdadero) si la vista contiene texto seleccionado, en otro caso devuelve <constant
>false</constant
> (falso).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.removeSelectedText(); [función]</function
></term>
<listitem>
<para
>Elimina el texto seleccionado, si la vista tiene una selección.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectAll(); [función]</function
></term>
<listitem>
<para
>Delecciona todo el texto.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selection(); [función]</function
></term>
<listitem>
<para
>Devuelve el texto seleccionado. Si la selección incluye varias líneas el caracter de salto de línea será <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionEndColumn; [propiedad:sólo lectura]</function
></term>
<listitem>
<para
>Devuelve la columna final de la selección.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionEndLine; [propiedad:sólo lectura]</function
></term>
<listitem>
<para
>Devuelve el final de la línea de la selección.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionStartColumn; [propiedad:sólo lectura]</function
></term>
<listitem>
<para
>Devuelve la columna de inicio de la selección.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionStartLine; [propiedad:sólo lectura]</function
></term>
<listitem>
<para
>Devuelve la línea de inicio de la selección.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setCursorPosition( <parameter
>uint línea</parameter
>, <parameter
>uint columna</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>líea</parameter
> Especifica la línea para el cursor.</para
></listitem>
<listitem
><para
><parameter
>columna</parameter
> Especifica la columna para el cursor.</para
></listitem>
</itemizedlist>
<para
>Asigna la posición de entrada del cursor en la vista a [<parameter
>línea</parameter
>, <parameter
>columna</parameter
>]. Asigna la posición del cursor de forma visual, esto es el caracter TAB se desplaza <replaceable
>anchotabulador</replaceable
> dependiendo de la posición dentro de la línea. La posición del cursor se ha hecho visible. Tanto la línea y la columna tienen base cero.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setCursorPositionReal( <parameter
>uint línea</parameter
>, <parameter
>uint columna</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>líea</parameter
> Especifica la línea para el cursor.</para
></listitem>
<listitem
><para
><parameter
>columna</parameter
> Especifica la columna para el cursor.</para
></listitem>
</itemizedlist>
<para
>Asigna la posición de entrada del cursor a [<parameter
>línea</parameter
>, <parameter
>columna</parameter
>]. Ésto asigna la posición de la cadena, los caracteres TAB se cuentan como 1. La posición del cursor se hace visible. Tanto la línea como la columna tienen base cero.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setSelection( <parameter
>uint lineaInicio</parameter
>, <parameter
>uint columnaInicio</parameter
>, <parameter
>uint líneaFin</parameter
>, <parameter
>uint columnaFin</parameter
> ); [función]</function
></term>
<listitem>
<itemizedlist>
<title
>Parámetros</title>
<listitem
><para
><parameter
>líneaInicio</parameter
> especifica la línea de inicio</para
></listitem>
<listitem
><para
><parameter
>columnaInicio</parameter
> especifica la columna de inicio</para
></listitem>
<listitem
><para
><parameter
>líneaFin</parameter
> especifica la línea de fin</para
></listitem>
<listitem
><para
><parameter
>columnaFin</parameter
> especifica la columna de fin</para
></listitem>
</itemizedlist>
<para
>Asigna una selección desde la línea <parameter
>uint lineaInicio</parameter
> y columna <parameter
>columnaInicio</parameter
> hasta la línea <parameter
>líneaFin</parameter
> y columna <parameter
>columnaFin</parameter
>.</para>
</listitem>
</varlistentry>

</variablelist>

<example id="advanced-editing-tools-scripting-example">

<title
>Un script de muestra</title>
<para
>Como ejemplo crearemos un pequeño script que cambia a mayúsculas la selección. Lo primero que necesitaremos es comprobar que la selección existe, obtener el texto, cambiar las minúsculas y reemplazarlas con las mayúsculas. Una implementación podría parecerse a esto:</para>

<programlisting
>if ( view.hasSelection() )
{
  // selección para mayúsculas
  columna = view.selectionStartColumn;
  linea = view.selectionStartLine;

  seleccion = view.selection().toUpperCase();

  document.editBegin();
  view.removeSelectedText();
  document.insertText( linea, columna, seleccion );
  document.editEnd();
}
</programlisting>

<para
>Para agrupar esta acción y que se revierta con una simple activación de <guimenuitem
>Deshacer</guimenuitem
> deberá encapsular las líneas <programlisting
>view.removeSelectedText()</programlisting
> y <programlisting
>document.insertText()</programlisting
> con un <programlisting
>document.editBegin()</programlisting
> y un <programlisting
>document.editEnd()</programlisting
>.</para>

</example>

<example id="advanced-editing-tools-desktop-example">
<title
>Un archivo <filename
>.desktop</filename
> de muestra</title>

<para
>Veamos una archivo de muestra que acompaña al script anterior.</para>

<programlisting
># Ejemplo de un archivo .desktop
[Desktop Entry]
Encoding=UTF-8
Name=Mayusculas JavaScript Kate Part
Comment=Script para convertir a mayúsculas la selección
X-Kate-Command=uppercase-selection
X-Kate-Help=&lt;p&gt;Uso: &lt;code&gt;uppercase-selection&lt;/code&gt;&lt;/p&gt;
</programlisting>

<para
>Como puede ver puede definir la codificación, asignar un nombre, un comentario, un texto de ayuda utilizando X-Kate-Help y la línea de órdenes a través de X-Kate-Command. Las entradas nombre, comentario y X-Kate-Help se traducen automáticamente a otros idiomas por parte de los equipos de traducción de KDE, si los archivos se encuentran en el repositorio SVN de KDE.</para>

</example>

<sect3>
<title
>Colocarlos juntos</title>

<para
>&kate; buscará las carpetas de scripts (vea <link linkend="advanced-editing-tools-scripting-introduction"
>anteriores</link
>) para los archivos <filename
>*.js</filename
>. Para cada archivo comprueba si existe el correpondiente archivo <filename
>.desktop</filename
>, así por ejemplo para mayusculas.js podría ser mayusculas.desktop. </para>
<para
>Si un archivo <filename
>.desktop</filename
> no puede encontrarse el script se registrará en la línea de órdenes de katepart con el nombre de archivo sin la finalización .js, por tanto en nuestro ejemplo podría ser <literal
>mayusculas</literal
>.si el nombre de la orden está afinada y no necesita las características extra que proporciona el archivo <filename
>.desktop</filename
>, no necesitará ningún archivo <filename
>.desktop</filename
>. </para>
<para
>Si existe un archivo <filename
>.desktop</filename
>  katepart leerá el nombre bajo el que el script se registrará desde el .desktop-entry X-Kate-Command, por ejemplo sería X-Kate-Command=uppercase-selection.</para>

</sect3>

</sect2>

</sect1>

</chapter>
