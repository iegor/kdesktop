<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN"
"dtd/kdex.dtd" [
  <!ENTITY kappname "&kdm;">
  <!ENTITY package "kdebase">
  <!ENTITY kdmrc "<filename
>kdmrc</filename
>">
  <!ENTITY ksmserver "<application
>ksmserver</application
>">
  <!ENTITY kdesktop "<application
>kdesktop</application
>">
  <!ENTITY XDMCP "<acronym
>XDMCP</acronym
>">
  <!ENTITY xdm "<application
>xdm</application
>">
  <!ENTITY kdmrc-ref SYSTEM "kdmrc-ref.docbook">
  <!ENTITY % addindex "INCLUDE">
  <!ENTITY % French "INCLUDE"
> <!-- change language only here -->
]>

<book lang="&language;">
<bookinfo>
<title
>Manuel de &kdm;</title>

<authorgroup>
<author
>&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail; </author
><!-- 
<othercredit role="developer">
&Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;
<contrib
>Developer</contrib>
</othercredit>
<othercredit role="reviewer">
&Lauri.Watts; &Lauri.Watts.mail;
<contrib
>Reviewer</contrib>
</othercredit
> -->

&traducteurGillesThioliere;&traducteurClementContet;&traducteurGerardDelafond;&traducteurGoneriLeBouder;&traducteurJeanJacquesFinazzi; 

</authorgroup>

<copyright>
<year
>2000</year>
<holder
>&Neal.Crook;</holder>
</copyright>

<copyright>
<year
>2002</year>
<holder
>&Oswald.Buddenhagen;</holder>
</copyright>

<copyright>
<year
>2003</year>
<holder
>&Lauri.Watts;</holder>
</copyright>

<date
>2003-03-01</date>
<releaseinfo
>0.05.02</releaseinfo>

<abstract>
<para
>Ce document décrit le fonctionnement de &kdm;, le <quote
>&kde; Display Manager</quote
> (<quote
>gestionnaire d'environnement graphique de &kde;</quote
>), plus communément appelé <quote
>Gestionnaire de connexion</quote
>.</para>
</abstract>

<keywordset>
<keyword
>KDE</keyword>
<keyword
>kdm</keyword>
<keyword
>xdm</keyword>
<keyword
>Gestionnaire d'environnement graphique</keyword>
<keyword
>Gestionnaire de connexion</keyword>
</keywordset>
</bookinfo>

<!-- ********************************************************************** -->  
<chapter id="introduction">
<title
>Introduction</title>

<para
>&kdm; fournit une interface graphique vous permettant de vous connecter au système. Après avoir invité l'utilisateur à saisir son <quote
>login</quote
> (nom d'utilisateur) et mot de passe, &kdm; procède à son authentification et, démarre une session. &kdm; est une alternative à &xdm; (<quote
>X Display Manager</quote
>), et lui est supérieur sur de nombreux points.</para>

</chapter>

<!-- Chapters to write -->
<!-- * Just enough config to get it to run and login to KDE 
     * Adding more session types (GNOME, etc)
     * Adding other customizations to XSession (ssh/gpg-agent, etc)
     * Further customization to KDM (via the kcontrol module, and by 
       hand)
     * XDMCP by query
     * XDMCP by broadcast
     * Sound transparency (if Ade can tell me how!)
     * Document all Keys in the Config File
     * Pull in all options from the KControl Module
     * More resources
-->

<chapter id="quickstart">
<title
>Guide de démarrage rapide</title>

<para
>Ceci est un guide de démarrage rapide pour les utilisateurs qui sont dans le cas suivant :</para>

<itemizedlist>
<listitem>
<para
>X est configuré, et fonctionne quand on saisit <command
>startx</command
> depuis la ligne de commandes.</para>
</listitem>
<listitem>
<para
>Chaque utilisateur utilise généralement un seul gestionnaire de fenêtres ou environnement de bureau, et ne change de choix que rarement, ou bien il est rompu à en changer en éditant un simple fichier texte.</para>
</listitem>
</itemizedlist>

<para
>Ce scénario conviendra à la plupart des environnements où un unique ou plusieurs utilisateur(s) démarre(nt) l'ordinateur et se connectent en général à leur environnement préféré.</para>

<procedure>
<title
>Configurer une session par défaut</title>
<step>
<para
>Créez ou ouvrez le fichier <filename
>~/.xinitrc</filename
></para>
<para
>Si vous avez déjà un fichier <filename
>~/.xinitrc</filename
> qui fonctionne, passez à l'étape suivante</para>
</step>
<step>
<para
>Si elle n'est pas déjà présente dans le fichier <filename
>~/.xinitrc</filename
>, ajoutez une ligne pour démarrer votre gestionnaire de fenêtres ou environnement de bureau préféré.</para>
<para
>Pour &kde;, vous devez saisir :</para>
<screen
><userinput
>startkde</userinput
></screen>
<para
>Pour les autres gestionnaires de fenêtres ou environnements de bureau, reportez-vous à leur documentation pour connaître la commande adéquate.</para>
</step>
<step
><para
>Créez un lien comme suit :</para>
<screen
><userinput
><command
>ln</command
> <option
>-s</option
> <parameter
>~/.xinitrc ~/.xsession</parameter
></userinput
></screen>
</step>
</procedure>

<para
>À cette étape, saisir <userinput
><command
>startx</command
></userinput
> en ligne de commande devrait démarrer X, avec une session &kde;. La prochaine tâche est d'essayer &kdm;.</para>

<para
>En tant que <systemitem class="username"
>root</systemitem
>, saisissez <userinput
><command
>kdm</command
></userinput
> à l'invite de commandes.</para>

<para
>Vous devriez voir une fenêtre de connexion, qui est décrite plus en détail dans <xref linkend="login"/>.</para>

<para
>Si vous saisissez maintenant votre nom d'utilisateur et votre mot de passe dans les zones de saisie réservées, et que vous laissez <option
>Par défaut</option
> comme type de session, une session &kde; devrait démarrer pour votre utilisateur.</para>

<para
>Si vous avez d'autres comptes d'utilisateurs à configurer, vous devrez répéter la procédure précédente pour chacun d'eux.</para>

<note>
<para
>Ceci est un guide succinct qui a pour seul but de faire fonctionner &kdm;. Vous voudrez probablement le personnaliser, par exemple en masquant les utilisateurs système, en autorisant des sessions supplémentaires et bien d'autres choses encore. Vous trouverez tous les détails pour réaliser ces choses dans la suite de ce manuel.</para>
</note>

</chapter>

<chapter id="login"
> 
<title
>La Fenêtre de connexion</title
> 

<para
>L'interface de &kdm; nous présente deux boîtes de dialogue. La composition de la boîte de dialogue principale est la suivante :</para>

<itemizedlist
> 
<listitem>
<para
>une zone de saisie <guilabel
>Utilisateur :</guilabel
> où vous pourrez saisir votre nom d'utilisateur ;</para>
</listitem>

<listitem>
<para
>une zone de saisie <guilabel
>Mot de passe :</guilabel
> où vous pourrez saisir votre mot de passe ;</para>
</listitem>

<listitem>
<para
>(en option) une icône représentant chaque utilisateur (par exemple, une photo numérisée). Cliquer sur une icône revient à saisir le nom de l'utilisateur associé dans la zone de saisie <guilabel
>Utilisateur :</guilabel
> (cette fonctionnalité imite la boîte de connexion de &IRIX;) ;</para
> 
</listitem>

<listitem>
<para
>une liste déroulante <guilabel
>Menu</guilabel
> permettant à &kdm; d'être utilisé pour démarrer des sessions avec différents et variés gestionnaires de fenêtres ou environnements de bureau installés sur le système ;</para>
</listitem>

<listitem>
<para
>(en option) à droite des champs <guilabel
>Utilisateur :</guilabel
>, <guilabel
>Mot de passe :</guilabel
> et <guilabel
>Type de session :</guilabel
>, une zone dans laquelle il est possible d'afficher soit une image fixe, soit une horloge analogique ;</para>
</listitem>

<listitem>
<para
>un bouton <guibutton
>Connexion</guibutton
> qui valide la combinaison utilisateur / mot de passe et tente de démarrer une session du type sélectionné.</para>
</listitem>

<listitem>
<para
>un bouton <guibutton
>Effacer</guibutton
> dont l'usage vide les zones <guilabel
>Utilisateur :</guilabel
> et <guilabel
>Mot de passe :</guilabel
> de leur contenu ;</para>
</listitem
> 

<listitem>
<para
>un bouton <guibutton
>Menu</guibutton
> qui ouvre un menu avec les options suivantes :</para>
 
<itemizedlist>
<listitem>
<para
>(sur les sessions locales) un élément <guimenuitem
>Redémarrer le Serveur X</guimenuitem
>, qui termine le &X-Server; courant, en démarre un autre et affiche à nouveau la fenêtre de connexion. Vous pouvez utiliser ceci si l'affichage semble ne pas fonctionner correctement ;</para>
</listitem>

<listitem>
<para
>(sur les sessions distantes) un bouton <guimenuitem
>Fermer la connexion</guimenuitem
> qui clôt la connexion au serveur &XDMCP; auquel vous êtes actuellement connecté(e). Si vous êtes connecté(e) à ce serveur via un sélecteur d'hôte, vous serez ramené(e) à ce sélecteur d'hôte, sinon le &X-Server; sera redémarré et vous serez ramené(e) à la fenêtre de connexion ;</para>
</listitem>

<listitem>
<para
>(en option sur les sessions locales) un bouton <guimenuitem
>Mode Terminal</guimenuitem
>qui éteint le &X-Server; et qui vous laisse avec un terminal. &kdm; restaurera la connexion graphique si personne ne se connecte à la console au bout d'un certain temps.</para>
</listitem>
</itemizedlist>
</listitem>

<listitem>
<para
>(en option) un bouton <guibutton
>Arrêter</guibutton
> permettant d'afficher la boîte de dialogue <guilabel
>Arrêter</guilabel
> ;</para>
</listitem>
</itemizedlist>

<para
>La boîte de dialogue <guilabel
>Arrêter...</guilabel
> presente des boutons <quote
>radio</quote
> permettant de sélectionner l'une des options suivantes :</para>

<variablelist>
<varlistentry>
<term
>Arrêt</term
> 
<listitem>
<para
>Arrête le système en respectant la procédure nécessaire à la mise hors tension de l'ordinateur.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Redémarrer l'ordinateur</term>
<listitem>
<para
>Arrête le système, puis le redémarre dans le foulée. Pour les systèmes utilisant <application
>Lilo</application
>, une liste déroulante supplémentaire vous permet de choisir l'image du noyau (kernel) à utiliser lors du redémarrage.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Redémarrer le serveur X</term
> 
<listitem>
<para
>Arrête puis redémarre le serveur X. La plupart du temps, on utilise cette fonction après avoir changé la configuration de X11.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
>Passer en mode console</term>
<listitem>
<para
>Arrête le &X-Server; et bascule le système en mode console. Ceci est réalisé en ramenant le système au niveau d'exécution (runlevel) 3. L'administrateur du système peut utiliser cette option avant de mettre à jour ou reconfigurer le système X11.</para
> 
</listitem>
</varlistentry>
</variablelist>

<para
>Vous pouvez ensuite cliquer sur <guibutton
>OK</guibutton
> pour valider votre choix ou <guibutton
>Annuler</guibutton
>, ce qui vous renvoie à la boîte de dialogue principale de &kdm;. </para>

</chapter>

<!-- *********************************************************************** -->
<chapter id="configuring-kdm">
<title
>Configuration de &kdm;</title>

<para
>Dans ce chapitre, nous supposons que &kdm; fonctionne déjà correctement sur votre système et que vous souhaitez simplement changer son apparence et son comportement.</para>

<para
>Quand &kdm; démarre, il lit sa configuration dans le dossier <filename class="directory"
>$KDEDIR/share/config/kdm/</filename
> (ce peut être <filename class="directory"
>/etc/kde3/kdm/</filename
> ou quelque chose d'autre sur votre système).</para>

<para
>Le fichier de configuration principal est &kdmrc; ; tous les autres fichiers sont référencés à partir de là et peuvent être stockés sous n'importe quel nom n'importe où sur votre système - mais ça n'a habituellement pas beaucoup de sens pour des raisons évidentes (une exception particulière est le référencement de fichiers de configuration d'un &xdm; déjà installé - cependant, quand un nouveau &kdm; est installé, il importera les réglages de ces fichiers s'il trouve un &xdm; installé).</para>

<para
>Comme &kdm; doit fonctionner avant qu'un utilisateur ne soit connecté, il n'est pas associé à un utilisateur particulier. Il n'est donc pas possible d'avoir des fichiers spécifiques à l'utilisateur. Une des conséquences à ceci est que tous les utilisateurs partagent le &kdmrc; commun. Il en résulte que la configuration de &kdm; ne peut être modifiée que par un utilisateur ayant les droits d'accès et d'écriture sur le fichier <filename
>$<envar
>KDEDIR</envar
>/share/config/kdmrc</filename
> (c'est-à-dire l'administrateur système, connecté en tant que <systemitem class="username"
>root</systemitem
>).</para>

<para
>Vous pouvez voir le fichier &kdmrc; actuellement utilisé sur votre système, et vous pouvez configurer &kdm; en modifiant ce fichier. Il est aussi possible d'utiliser l'utilitaire de configuration graphique disponible dans le &centreConfiguration; (<menuchoice
><guisubmenu
>Administration du système</guisubmenu
><guimenuitem
>Gestionnaire de connexion</guimenuitem
></menuchoice
>), dont vous trouverez la description dans <ulink url="help:/kcontrol/login-manager.html"
>les fichiers d'aide du &centreConfiguration;</ulink
>. </para>

<para
>Le reste de ce chapitre décrit la configuration de &kdm; via le module du &centreConfiguration;, et le <link linkend="kdm-files"
>prochain chapitre</link
> décrit les options disponibles dans &kdmrc; lui-même. Le module du &centreConfiguration; devrait suffire à vos besoins si vous ne voulez effectuer la configuration que pour des utilisateurs locaux. Si vous avez besoin de configurer des connexions à distance ou d'avoir plusieurs sessions &kdm; en cours, vous aurez besoin de continuer la lecture.</para>

<sect1 id="kdm-kcontrol-module">
<sect1info>
<authorgroup>
<author
>&Thomas.Tanghus; &Thomas.Tanghus.mail;</author>
<author
>&Steffen.Hansen; &Steffen.Hansen.mail;</author>
<author
>&Mike.McBride; &Mike.McBride.mail;</author>
</authorgroup>
</sect1info>

<title
>Le module <quote
>Gestionnaire de connexion</quote
> du &centreConfiguration;</title>

<para
>En utilisant ce module, vous pouvez configurer le gestionnaire de connexion graphique de &kde;, &kdm;. Vous pouvez changer à quoi ressemble l'écran de connexion, qui a accès en utilisant le gestionnaire de connexion et qui peut éteindre l'ordinateur.</para>

<note
><para
>Tous les réglages seront écrits dans le fichier de configuration &kdmrc;, qui, dans son état original, contient de nombreux commentaires pour vous aider à configurer &kdm;. En utilisant ce module du &centreConfiguration;, ces commentaires seront effacés du fichier. Toutes les options disponibles dans &kdmrc; sont explicitées dans <xref linkend="kdm-files"/>.</para>

<para
>Les options listées dans ce chapitre sont des références croisées avec leurs équivalents dans &kdmrc;. Toutes les options disponibles dans le module du &centreConfiguration; sont aussi disponibles directement dans &kdmrc;, mais l'inverse n'est pas vrai.</para
></note>

<para
>Dans le but d'organiser toutes ces options, ce module est divisé en plusieurs sections : <link linkend="kdmconfig-appearance"
><guilabel
>Apparence</guilabel
></link
>, <link linkend="kdmconfig-font"
><guilabel
>Polices</guilabel
></link
>, <link linkend="kdmconfig-background"
><guilabel
>Fond d'écran</guilabel
></link
>, <link linkend="kdmconfig-shutdown"
><guilabel
>Arrêt</guilabel
></link
>, <link linkend="kdmconfig-users"
><guilabel
>Utilisateurs</guilabel
></link
> et <link linkend="kdmconfig-convenience"
><guilabel
>Commodités</guilabel
></link
>.</para>

<para
>Vous pouvez passer d'une section à l'autre en utilisant les onglets en haut de la fenêtre.</para>

<note
><para
>Si vous n'êtes actuellement pas connecté(e) en tant que superutilisateur(trice), vous devrez cliquer sur le bouton <guibutton
>Mode superutilisateur...</guibutton
>. On vous demandera alors un mot de passe de superutilisateur. Saisir un mot de passe correct vous permettra de modifier les réglages de ce module.</para
></note>

<sect2 id="kdmconfig-appearance">
<title
>Apparence</title>

<para
>À partir de cette page, vous pouvez changer l'apparence visuelle de &kdm;, le gestionnaire de connexion graphique de &kde;.</para>

<para
>La phrase de <guilabel
>Bienvenue :</guilabel
> est le titre de l'écran de connexion. Régler ceci est particulièrement utile si vous avez beaucoup de serveurs auxquels les utilisateurs peuvent se connecter. Vous pouvez utiliser plusieurs variables de remplacement, qui sont décrites au même endroit que la clé correspondante (<link linkend="option-greetstring"
><option
>GreetString</option
></link
>) dans &kdmrc;. </para>

<para
>Vous pouvez alors choisir d'afficher soit l'heure courante du système, soit un logo, soit rien de spécial dans la boîte de connexion. Faites votre choix avec les boutons radio libellés <guilabel
>Zone de logo :</guilabel
>. Ceci correspond à <link linkend="option-logoarea"
><option
>LogoArea</option
></link
> dans &kdmrc;</para>

<para
>Si vous choisissez <guilabel
>Afficher le logo</guilabel
>, vous pouvez maintenant choisir un logo :</para>

<itemizedlist>
<listitem>
<para
>Déposez un fichier d'image sur le bouton d'image.</para>
</listitem>
<listitem>
<para
>Cliquez sur le bouton d'image et sélectionnez une nouvelle image dans la boîte de dialogue de sélection d'image.</para>
</listitem>
</itemizedlist>

<para
>Si vous ne spécifiez pas de logo, <filename
>$<envar
>KDEDIR</envar
>/share/apps/kdm/pics/kdelogo.xpm</filename
> sera affiché par défaut.</para>

<para
>Normalement, la fenêtre de connexion est centrée sur l'écran. Utilisez les options <guilabel
>Position :</guilabel
> si vous voulez qu'elle apparaisse ailleurs sur l'écran. Vous pouvez spécifier la position relative (en pourcentage de taille d'écran) pour le centre de la fenêtre de connexion, par rapport au coin en haut à gauche de l'écran, dans les champs libellés <guilabel
>X :</guilabel
> et <guilabel
>Y :</guilabel
> respectivement. Ils correspondent à la clé <link linkend="option-greeterpos"
><option
>GreeterPos</option
></link
> dans &kdmrc;.</para>

<para
>Alors que le style de &kde; dépend des réglages de l'utilisateur connecté, le style utilisé par &kdm; peut être configuré en utilisant les options <guilabel
>Style des éléments graphiques :</guilabel
> et <guilabel
>Modèle de couleur :</guilabel
>. Elles correspondent respectivement aux clés <link linkend="option-guistyle"
><option
>GUIStyle</option
></link
> et <link linkend="option-colorscheme"
><option
>ColorScheme</option
></link
> dans &kdmrc;.</para>

<para
>Au-dessous de ceci, vous avez une liste déroulante pour choisir la langue de votre fenêtre de connexion, ce qui correspond au réglage <option
>Language</option
> dans &kdmrc;.</para>

</sect2>

<sect2 id="kdmconfig-font">
<title
>Police</title>

<para
>À partir de cette section du module, vous pouvez changer les polices utilisées dans la fenêtre de connexion. Seules les polices disponibles pour tous les utilisateurs sont présentes ici, pas celles que vous avez installées en tant qu'utilisateur.</para>

<para
>Vous pouvez sélectionner trois styles de polices différents dans la liste déroulante (<guilabel
>Général :</guilabel
>, <guilabel
>Erreurs :</guilabel
> et <guilabel
>Bienvenue :</guilabel
>). Lorsque vous cliquez sur le bouton <guibutton
>Choisir...</guibutton
>, une boîte de dialogue apparaît, dans laquelle vous pouvez sélectionner les nouvelles caractéristiques pour le style de police.</para>

<itemizedlist>
<listitem>
<para
>La police de <guilabel
>Général :</guilabel
> est utilisée dans tous les autres endroits dans la fenêtre de connexion.</para>
</listitem>
<listitem>
<para
>La police de <guilabel
>Erreurs :</guilabel
> est utilisée quand une connexion échoue.</para>
</listitem>
<listitem>
<para
>La police de <guilabel
>Bienvenue :</guilabel
> est la police utilisée pour le titre (message d'accueil).</para>
</listitem>
</itemizedlist>

<para
>Vous pouvez également cocher la case <guilabel
>Lisser les polices de caractères</guilabel
> si vous désirez des polices lissées dans la fenêtre d'authentification.</para>

</sect2>

<sect2 id="kdmconfig-background">
<title
>Fond</title>

<para
>Ici, vous pouvez changer le fond de bureau qui sera affiché avant qu'un utilisateur se connecte. Vous pouvez avoir une simple couleur ou une image comme fond. Si vous avez une image comme fond et que vous sélectionnez centré, la couleur de fond sélectionnée sera utilisée autour de l'image si celle-ci n'est pas assez grande pour couvrir le bureau entier.</para>

<para
>Les couleurs de fond et les effets sont contrôlés par les options sur l'onglet libellé <guilabel
>Fond d'écran</guilabel
> et vous sélectionnez une image de fond et son placement à partir des options sur la zone libellée <guilabel
>Fond-d'écran</guilabel
></para>

<para
>Pour changer la couleur de fond par défaut, cliquez simplement sur un des boutons de couleurs et sélectionnez une nouvelle couleur.</para>

<para
>La liste déroulante au-dessus des boutons de couleurs vous fournit plusieurs effets de mélanges de couleurs différents. Choisissez-en un dans la liste et il sera montré en aperçu sur le petit moniteur eu haut de la fenêtre. Vos choix sont :</para>

<variablelist>
<varlistentry>
<term
>Uni</term>
<listitem
><para
>En choisissant ce mode, vous sélectionnez une couleur (en utilisant le bouton de couleurs libellé <guibutton
>Couleur 1</guibutton
>), et le fond entier sera couvert de cette seule couleur.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Motif</term>
<listitem
><para
>En choisissant ce mode, vous sélectionnez deux couleurs (en utilisant les deux boutons de couleurs). </para
> <para
>Vous pouvez alors sélectionner un motif en cliquant sur <guilabel
>Configuration</guilabel
>. Ceci ouvre une nouvelle fenêtre de dialogue, qui vous donne la possibilité de sélectionner un motif. Cliquez simplement une fois sur le motif de votre choix, puis cliquez sur <guilabel
>OK</guilabel
>, et &kde; effectuera un rendu sur le motif que vous avez sélectionné en utilisant les deux couleurs que vous avez sélectionnées. Pour plus d'information sur les motifs, voyez la section <ulink url="help:/kcontrol/background/index.html#bkgnd-patterns"
>Ajout, suppression et modifications de papiers peints et de motifs</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Programme de fond d'écran</term>
<listitem
><para
>En sélectionnant cette option, vous pouvez faire en sorte que &kde; utilise un programme externe pour déterminer le fond. Ceci peut être n'importe quel programme de votre choix. Pour plus d'informations sur cette option, voyez la section intitulée <ulink url="help:/kcontrol/background/index.html#bkgnd-programs"
>Fond : utilisation d'un programme externe</ulink
>.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Dégradé horizontal</term>
<listitem
><para
>En choisissant ce mode, vous sélectionnez deux couleurs (en utilisant les deux boutons de couleurs). &kde; démarrera alors sur le côté gauche de l'écran avec la couleur sélectionnée par <guilabel
>Couleur 1</guilabel
>, et la transformera progressivement en la couleur sélectionnée par <guilabel
>Couleur 2</guilabel
> en allant vers le côté droit de l'écran.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Dégradé vertical</term>
<listitem
><para
>En choisissant ce mode, vous sélectionnez deux couleurs (en utilisant les deux boutons de couleurs). &kde; démarrera alors en haut de l'écran avec la couleur sélectionnée par <guilabel
>Couleur 1</guilabel
>, et la transformera progressivement en la couleur sélectionnée par <guilabel
>Couleur 2</guilabel
> en allant vers le bas de l'écran.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Dégradé pyramidal</term>
<listitem
><para
>En choisissant ce mode, vous sélectionnez deux couleurs (en utilisant les deux boutons de couleurs). &kde; démarrera alors aux quatre coins de l'écran avec la couleur sélectionnée par <guilabel
>Couleur 1</guilabel
>, et la transformera progressivement en la couleur sélectionnée par <guilabel
>Couleur 2</guilabel
> en allant vers le centre de l'écran.</para
></listitem
> 
</varlistentry>
<varlistentry>
<term
>Dégradé en croix</term>
<listitem
><para
>En choisissant ce mode, vous sélectionnez deux couleurs (en utilisant les deux boutons de couleurs). &kde; démarrera alors aux quatre coins de l'écran avec la couleur sélectionnée par <guilabel
>Couleur 1</guilabel
>, et la transformera progressivement en la couleur sélectionnée par <guilabel
>Couleur 2</guilabel
> en allant vers le centre de l'écran. La <quote
>forme</quote
> de ce dégradé est différente du dégradé en pyramide.</para
></listitem>
</varlistentry>
<varlistentry>
<term
>Dégradé elliptique</term>
<listitem
><para
>En choisissant ce mode, vous sélectionnez deux couleurs (en utilisant les deux boutons de couleurs). &kde; démarrera alors au centre de l'écran avec la couleur sélectionnée par <guilabel
>Couleur 1</guilabel
>, et la transformera progressivement en la couleur sélectionnée par <guilabel
>Couleur 2</guilabel
> en allant vers les bords de l'écran, en dessinant un motif elliptique.</para
></listitem
> 
</varlistentry>
</variablelist>

<para
>Le bouton de configuration n'est nécessaire que si vous sélectionnez <guilabel
>Programme de fond d'écran</guilabel
> ou <guilabel
>Motifs</guilabel
>. Dans ces cas, une autre fenêtre apparaîtra pour configurer ce qui est spécifique.</para>
<para
><emphasis
>Papier peint</emphasis
></para>
<para
>Pour sélectionner une nouvelle image de fond, cliquez d'abord sur l'onglet <guilabel
>Fond d'écran</guilabel
>, puis vous pourrez soit sélectionner une image dans la liste déroulante libellée <guilabel
>Image :</guilabel
>, soit sélectionner <guibutton
>Parcourir...</guibutton
> et choisir une image via un sélecteur de fichiers.</para>

<para
>L'image peut être affichée selon six manières différentes :</para>
<variablelist>
<varlistentry>
<term
>Pas de papier peint</term
> 
<listitem
><para
>Aucune image n'est affichée. Simplement les couleurs du fond.</para>
</listitem
></varlistentry>
<varlistentry>
<term
>Centré</term
> 
<listitem
><para
>L'image sera centrée sur l'écran. Les couleurs du fond seront présentes partout où l'image ne recouvre pas le fond.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Mosaïque</term>
<listitem
><para
>L'image sera dupliquée jusqu'à ce qu'elle remplisse le bureau en entier. La première image sera placée dans le coin supérieur gauche de l'écran, et dupliquée vers le bas et la droite.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Mosaïque centrée</term>
<listitem
><para
>L'image sera dupliquée jusqu'à ce quelle remplisse le bureau en entier. La première image sera placée au centre de l'écran, et dupliquée vers le haut, le bas, la droite et la gauche.</para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Centré avec aspect maximal</term>
<listitem
><para
>L'image sera placée au centre de l'écran. Elle sera redimensionnée pour s'adapter au bureau, mais en respectant les proportions de l'image originale. Ceci vous donnera une image non déformée. </para
> </listitem>
</varlistentry>
<varlistentry>
<term
>Étirée</term>
<listitem
><para
>L'image sera étirée pour s'adapter au bureau. Elle sera étirée pour atteindre les quatre coins.</para
> </listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2 id="kdmconfig-shutdown">
<title
><guilabel
>Arrêt</guilabel
></title>

<para
><guilabel
>Autoriser l'arrêt du système</guilabel
></para>
<para
>Utilisez cette liste déroulante pour choisir qui est autorisé à arrêter le système :</para>
<itemizedlist>
<listitem>
<para
><guilabel
>Personne</guilabel
> : personne ne peut arrêter l'ordinateur en utilisant &kdm;. Vous devez être connecté et exécuter une commande.</para>
</listitem>
<listitem>
<para
><guilabel
>Tout le monde</guilabel
> : chacun peut éteindre l'ordinateur en utilisant &kdm;.</para>
</listitem>
<listitem
><para
><guilabel
>Uniquement le superutilisateur</guilabel
> : &kdm; nécessite que le mot de passe <systemitem
>root</systemitem
> soit donné avant d'éteindre l'ordinateur.</para
></listitem
> 
</itemizedlist>

<para
>Vous pouvez configurer indépendamment qui est autorisé à effectuer une commande d'extinction pour les utilisateurs locaux (<guilabel
>Local :</guilabel
>) et distants (<guilabel
>Distant :</guilabel
>).</para>

<para
><emphasis
>Commandes</emphasis
></para
> <para
>Utilisez ces champs de texte pour définir la commande d'extinction exacte.</para
> <para
>La commande <guilabel
>Arrêt :</guilabel
> par défaut est <command
>/sbin/halt</command
>. La commande <guilabel
>Redémarrage :</guilabel
>par défaut est <command
>/sbin/reboot</command
>.</para>

<para
>Quand <guilabel
>Afficher les options de démarrage</guilabel
> est activé, &kdm; vous offrira des options de redémarrage pour le gestionnaire de démarrage LILO. Pour que cette fonctionnalité fonctionne, vous devez donner les chemins corrects vers votre commande <command
>lilo</command
> et vers son fichier de configuration. Notez que cette option n'est pas disponible sur tous les systèmes.</para>

</sect2>

<sect2 id="kdmconfig-users">
<title
>Utilisateurs</title>

<para
>À partir d'ici, vous pouvez changer la manière dont les utilisateurs sont représentés dans la fenêtre de connexion.</para>

<para
>Vous pouvez entièrement désactiver la liste des utilisateurs dans &kdm; dans la section <guilabel
>Utilisateurs</guilabel
>. Vous pouvez choisir parmi :</para>

<variablelist>
<varlistentry>
<term
><guilabel
>Afficher la liste</guilabel
></term>
<listitem>
<para
>Ne montre que les utilisateurs que vous avez spécifiquement activés dans la liste à coté</para>
<para
>Si vous ne cochez pas cette case, aucune liste ne sera affichée. C'est le réglage le plus sûr, car un attaquant doit alors deviner un nom de connexion (<quote
>login</quote
>) valable ainsi qu'un mot de passe. C'est aussi l'option préférée si vous avez un certain nombre d'utilisateurs à lister, sinon la liste devient difficile à manier.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Inverser la sélection</guilabel
></term>
<listitem>
<para
>Vous permet de sélectionner une liste d'utilisateurs qui <emphasis
>ne</emphasis
> doivent <emphasis
>pas</emphasis
> être montrés, contrairement aux autres qui seront listés.</para>
</listitem>
</varlistentry>
</variablelist>

<para
>Indépendamment des utilisateurs que vous pouvez spécifier par nom, vous pouvez utiliser les <guilabel
>UID du système</guilabel
> pour spécifier une plage d'<acronym
>UID</acronym
>s valables à afficher dans la liste. Par défaut, les IDs des utilisateurs inférieurs à 1000, qui sont souvent des utilisateurs système ou de démons, et ceux supérieurs à 65 000 ne sont pas affichés.</para>

<para
>Vous pouvez aussi cocher la case <guilabel
>Trier les utilisateurs</guilabel
> pour que la liste des utilisateurs soit triée par ordre alphabétique. Si ceci est désactivé, les utilisateurs apparaîtront dans l'ordre où ils sont listés dans le fichier des mots de passe. De plus, &kdm; effectuera le complètement automatique des noms d'utilisateur si vous activez l'option <guilabel
>Complètement automatique</guilabel
>.</para>

<para
>Si vous choisissez de montrer les utilisateurs, la fenêtre de connexion affichera des images (que vous choisissez) d'une liste d'utilisateurs. Quand quelqu'un est prêt à se connecter, il peut sélectionner son nom ou image d'utilisateur, puis saisir son mot de passe pour que l'accès soit accordé.</para>

<para
>Si vous permettez une image d'utilisateur, vous pouvez configurer la source pour ces images.</para>

<para
>Vous pouvez configurer l'image d'administration pour chaque utilisateur du système. En fonction de l'ordre sélectionné plus haut, les utilisateurs peuvent ou non supplanter votre sélection.</para>

<para
>Si vous choisissez de ne pas montrer les utilisateurs, la fenêtre de connexion sera plus traditionnelle. Les utilisateurs devront écrire leur nom d'utilisateur et leur mot de passe pour pouvoir se connecter. C'est la meilleure manière si vous avez beaucoup d'utilisateurs sur ce terminal.</para>

</sect2>

<sect2 id="kdmconfig-convenience">
<title
>Commodités</title>

<para
>Dans l'onglet <guilabel
>Commodités</guilabel
>, vous pouvez configurer certaines options qui rendent la vie plus facile pour les gens paresseux, comme la connexion automatique ou la désactivation des mots de passe.</para>

<important
><para
>Veuillez réfléchir à deux fois avant d'utiliser ces options. Chaque option dans l'onglet <guilabel
>Commodités</guilabel
> peut sérieusement compromettre la sécurité de votre système. En pratique, ces options ne doivent être utilisées que dans un environnement complètement non critique, &pex; un ordinateur personnel à la maison. </para
></important>

<sect3 id="loginmanager-convenience-autologin">
<title
>Connexion automatique</title>

<para
>La connexion automatique donnera à quiconque l'accès à un certain compte sur votre système sans qu'aucune authentification ne soit demandée. Vous pouvez l'activer en utilisant l'option <guilabel
>Activer la connexion automatique</guilabel
>.</para>

<para
>Vous pouvez choisir le compte à utiliser pour la connexion automatique dans la liste libellée <guilabel
>Utilisateur :</guilabel
>.</para>

</sect3>

<sect3 id="loginmanager-convenience-nopasswd">
<title
><guilabel
>Connexion sans mot de passe</guilabel
></title>

<para
>En utilisant cette fonction, vous pouvez permettre a certains utilisateurs de se connecter sans avoir à fournir leur mot de passe. Activez cette fonction en utilisant l'option <guilabel
>Activer les connexions sans mot de passe</guilabel
>.</para>

<para
>Sous cette option, vous verrez une liste d'utilisateurs sur le système. Activez la connexion sans mot de passe pour des utilisateurs spécifiques en cochant la case à côté des noms de connexion. Par défaut, cette fonctionnalité est désactivée pour tous les utilisateurs.</para>

<important
><para
>Une fois de plus, cette option ne devrait être utilisée que dans un environnement sûr. Si vous l'activez sur un système plutôt public, vous devriez prendre garde que seuls les utilisateurs avec de grosses restrictions d'accès puissent se connecter sans mot de passe, &pex; <systemitem
>invité</systemitem
>.</para
></important>

<para
>Vous pouvez aussi choisir quel utilisateur est <quote
>présélectionné</quote
> quand &kdm; démarre. La valeur par défaut est <guilabel
>Aucun</guilabel
>, mais vous pouvez choisir <guilabel
>Le dernier connecté</guilabel
> pour que &kdm; utilise par défaut le dernier utilisateur connecté avec succès, ou vous pouvez spécifier <guilabel
>Un utilisateur particulier</guilabel
> qui sera toujours sélectionné dans la liste. Vous pouvez aussi faire en sorte que &kdm; mette le focus sur le champ de mot de passe, de telle manière que quand vous atteignez l'écran de connexion de &kdm;, vous pouvez saisir le mot de passe immédiatement.</para>

<para
>L'option <guilabel
>Rétablir la connexion automatiquement après un plantage du serveur X</guilabel
> vous permet de sauter la procédure d'authentification si votre serveur X s'arrêtait anormalement.</para>

</sect3>

</sect2>

</sect1>

</chapter>

&kdmrc-ref;

<!-- ************************************************************ -->   
<chapter id="configuring-your-system-for-kdm">
<title
>Configuration de votre système pour l'utilisation de &kdm;</title>

<para
>Dans ce chapitre, nous considérons que &X-Window; s'éxécute déjà correctement sur votre système, et que vous devez seulement le reconfigurer pour permettre une connexion en mode graphique.</para>

<sect1 id="setting-up-kdm">
<title
>Configurer &kdm;</title>

<para
>L'élément fondamental qui oriente le terme de la séquence d'initialisation - soit vers un terminal (mode console), soit vers un gestionnaire de connexion graphique - est le niveau d'exécution (runlevel) par défaut de votre système. Le niveau d'exécution est défini par le programme <application
> <ulink url="man:init"
>/sbin/init</ulink
></application
> qui dépend elle-même du fichier de configuration <filename
>/etc/inittab</filename
>. Il peut être différent d'un systèmes &UNIX; et d'une distribution &Linux; à un(e) autre ; mais si vous jetez un œil au fichier <filename
>/etc/inittab</filename
>, il devrait invariablement commencer par quelque chose comme :</para>

<screen
># Default runlevel. The runlevels used by RHS are:
# 0 - halt (Do NOT set initdefault to this)
# 1 - Single user mode
# 2 - Multiuser, without NFS
# 3 - Full multiuser mode
# 4 - unused
# 5 - X11
# 6 - reboot (Do NOT set initdefault to this)

id:3:initdefault:  
</screen>

<para
>L'ensemble des lignes, exceptée la dernière, sont descommentaires (précédés de <quote
>#</quote
>). Ces commentaires nous indiquent que le niveau d'exécution (runlevel) 5 est utilisé pour X11 et que le mode multiutilisateurs sans X11 (mode console uniquement) utilise, quant à lui, le niveau 3. La dernière ligne spécifie que le niveau d'exécution par défaut du système est 3 (mode console). Si vous utilisez déjà un gestionnaire de connexion en mode graphique (par exemple &xdm;), le niveau d'exécution par défaut correspondra à celui qui est défini pour X11.</para>

<para
>Sur les distributions &Linux; les plus courantes, le niveau d'exécution correspondant à une connexion en mode graphique (&xdm;) est :</para>

<itemizedlist>
<listitem
><para
>5 pour les distributions &RedHat; (depuis la version 3.x) et &Mandrake; ;</para
></listitem>
<listitem
><para
>4 pour les distributions Slackware ;</para
></listitem>
<listitem
><para
>3 pour les distributions &SuSE; en versions 4.x et 5.x. </para
></listitem>
</itemizedlist>

<para
>Avant toute chose, assurez-vous de pouvoir lancer &kdm; en ligne de commande. Une fois cette certitude acquise, vous pouvez modifier la configuration du système de manière à ce que &kdm; soit lancé automatiquement à chaque démarrage.</para>

<para
>Pour tester le fonctionnement de &kdm;, vous devez d'abord amener votre système à un niveau d'exécution différent de celui utilisé pour &xdm;. Pour ceci, tapez la commande :</para>

<screen
><command
>/sbin/init <option
>3</option
></command
></screen>

<para
>Bien entendu, le chiffre <option
>3</option
> est à remplacer, le cas échéant, par le niveau d'exécution correspondant au fonctionnement du <quote
>mode console</quote
> sur votre système.</para>

<para
>Si votre système utilise les <foreignphrase
>Pluggable Authentication Modules</foreignphrase
> (<abbrev
>PAM</abbrev
>), ce qui devrait être le cas sur les systèmes &Linux; et Solaris récents, veuillez vérifier que votre configuration de <abbrev
>PAM</abbrev
> autorise la connexion via le service nommé <literal
>kde</literal
>. Si vous utilisiez déjà &xdm; précédemment, vous n'aurez certainement pas besoin de toucher à votre configuration de <abbrev
>PAM</abbrev
> pour utiliser &kdm; (voir dans <filename
>/etc/pam.conf</filename
> ou <filename
>/etc/pam.d/kde</filename
>). Donner des informations sur la configuration de <abbrev
>PAM</abbrev
> sort du cadre de ce manuel, cependant <abbrev
>PAM</abbrev
> est accompagné d'une documentation complète (essayez d'aller voir <filename
>/usr/share/doc/*pam*/html</filename
>).</para>

<para
>Le moment est venu de tester &kdm;, en saisissant la ligne suivante :</para>

<screen
><command
>kdm <option
>-nodaemon</option
></command
>
</screen>

<para
>Si la boîte de connexion de &kdm; s'affiche et que vous pouvez vous connecter, c'est que tout se passe bien. Le principal problème que l'on pourrait rencontrer à ce stade serait que l'exécuteur de liens ne trouve pas les bibliothèques partagées &Qt; ou &kde;. Si vous avez installé une distribution binaire des bibliothèques &kde;, assurez-vous que &kdm; est installé là où les bibliothèques pensent que &kde; est installé et essayez de faire pointer les variables d'environnement concernées vers l'emplacement réel de vos bibliothèques &kde; et &Qt;.</para>

<para
>Par exemple :</para>

<screen
><command
>export 
<option
>KDEDIR=<replaceable
>/opt/kde</replaceable
></option
></command>
<command
>export 
<option
>QTDIR=<replaceable
>/usr/lib/qt2</replaceable
></option
></command>
<command
>export 
<option
>PATH=<replaceable
>$KDEDIR/bin:$QTDIR/bin:$PATH</replaceable
></option
></command>
<command
>export 
<option
>LD_LIBRARY_PATH=<replaceable
>$KDEDIR/lib:$QTDIR/lib</replaceable
></option
></command
> 
</screen>

<para
>Si cela ne fonctionne toujours pas, essayer de lancer &xdm; à la place de &kdm; pour vérifier que la source du dysfonctionnement n'est pas un problème plus grave dans la configuration de X.</para>

<para
>Une fois que aurez réussi à lancer &kdm; sans problème, vous pourrez le mettre à la place de &xdm;. Une fois de plus, la façon de faire est spécifique à la distribution employée.</para>

<itemizedlist>
<listitem>
<para
>Sur une &RedHat;, éditez le fichier <filename
>/etc/inittab</filename
> et cherchez cette ligne :</para>
<screen
>x:5:respawn:/usr/X11/bin/xdm -nodaemon </screen>
<para
>et remplacez-la avec :</para>
<screen
>x:5:respawn:/opt/kde/bin/kdm </screen>
<para
>Ceci indique à <command
>init</command
>(8) qu'il faut relancer &kdm; lorsque le système est sur le niveau d'exécution (runlevel) 5. Notez que &kdm; n'a pas besoin de l'option <option
>-nodaemon</option
>.</para>
</listitem>
<listitem>
<para
>Sur une &Mandrake;, le niveau d'exécution de X11 dans <filename
>/etc/inittab</filename
> appelle le script shell de configuration <filename
>/etc/X11/prefdm</filename
>, qui est réglé pour choisir un des différents gestionnaires de connexion graphique du système, dont &kdm;. Assurez-vous que tous les chemins sont corrects pour votre installation.</para
> 
</listitem>
<listitem>
<para
>Sur une &SuSE;, modifiez le fichier <filename
>/sbin/init.d/xdm</filename
> et ajoutez, en premières lignes :</para>

<screen
>. /etc/rc.config
DISPLAYMANAGER=kdm
export DISPLAYMANAGER</screen>
</listitem>
<listitem
><para
>Pour FreeBSD, éditez le fichier <filename
>/etc/ttys</filename
> et trouvez la ligne suivante :</para>
<screen
>ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</screen>
<para
>et modifiez-la de cette façon :</para>
<screen
>ttyv8   "/usr/local/bin/kdm"  xterm   on secure </screen>
</listitem>

<listitem
><para
>Pour la plupart des autres distributions, la méthode s'apparente à l'une de celles-ci.</para
></listitem>
</itemizedlist>

<para
>Arrivé à ce stade, vous pouvez à nouveau tester le fonctionnement de &kdm; en amenant le système au niveau d'exécution correspondant. Pour ceci, saisissez la commande :</para>

<screen
><command
>/sbin/init <option
>5</option
></command
>
</screen>

<para
>Il vous faudra peut-être remplacer le chiffre <option
>5</option
> par le niveau d'exécution correspondant au fonctionnement de X11 sur votre système.</para>

<para
>La dernière étape consiste à éditer l'entrée <parameter
>initdefault</parameter
> du fichier <filename
>/etc/inittab</filename
> pour y préciser le niveau d'exécution approprié au fonctionnement de X11.</para>

<warning
><para
>Avant d'effectuer ce changement et dans l'éventualité d'un problème, assurez-vous que vous disposez d'un moyen alternatif pour démarrer votre système. Ce peut être la disquette de <quote
>secours</quote
> (<foreignphrase
>rescue</foreignphrase
>) fournie par votre distribution (créée pendant l'installation, par exemple) ou encore une disquette spécialement conçue telle que <literal
>tomsrtbt</literal
>. Ignorez ces consignes à vos risques et périls !</para
></warning>

<para
>En général, cela implique le changement de cette ligne :</para>
<screen
>id:3:initdefault:</screen>
<para
>en</para>
<screen
>id:5:initdefault:</screen>

<para
>Lorsque vous redémarrez votre système, vous devriez terminer par l'affichage de l'interface de connexion graphique de &kdm;.</para>

<para
>Si cette étape se solde par un échec, c'est très certainement que l'environnement système de la séquence d'initialisation est différent de celui de vos tests en lignes de commande. Si vous tentez de faire cohabiter deux versions différentes de &kde; soyez particulièrement attentif à la viabilité de vos variables d'environnement <envar
>PATH</envar
> et <envar
>LD_LIBRARY_PATH</envar
> et à ce que les scripts de démarrage ne les écrasent pas.</para>

</sect1>

</chapter>

<chapter id="different-window-managers-with-kdm">
<title
>Prise en charge de plusieurs gestionnaires de fenêtre</title>

<para
>Lorsqu'il est lancé, &kdm; détecte la majorité des gestionnaires de fenêtre et des environnements de bureau disponibles. Si vous en installez un nouveau, il devrait être rendu disponible automatiquement dans la boîte de dialogue <guilabel
>Type de Session :</guilabel
> de &kdm;.</para>

<para
>Si vous avez un gestionnaire de fenêtre très récent, ou que &kdm; ne supporte pas, vous devez d'abord vérifier que l'application à exécuter est dans le <envar
>PATH</envar
> et qu'elle n'a pas été renommée en quelque chose d'inattendu lors de l'installation.</para>

<para
>Dans le cas où l'application serait trop récente et pas encore supportée par &kdm;, vous pouvez assez facilement ajouter une nouvelle session.</para>

<para
>Les sessions sont définies dans les fichiers <firstterm
>.desktop</firstterm
> se trouvant dans <filename class="directory"
>$<envar
>KDEDIR</envar
>/share/apps/kdm/sessions</filename
>. Vous pouvez simplement ajouter un fichier <literal role="extension"
>.desktop</literal
> nommé de manière appropriée dans ce dossier. Les champs sont les suivants :</para>

<programlisting
>[Desktop Entry]
Encoding=UTF-8 <lineannotation
>Ceci est fixé à <option
>UTF-8</option
> et peut être omis</lineannotation>
Type=XSession <lineannotation
>Ceci est fixé à <option
>XSession</option
> et peut être omis</lineannotation>
Exec=<replaceable
>nom de l'exécutable</replaceable
> <lineannotation
>Transmis à <command
>eval exec</command
> dans un Bourne shell</lineannotation>
TryExec=<replaceable
>nom de l'exécutable</replaceable
> <lineannotation
>Supporté mais pas requis</lineannotation>
Name=<replaceable
>Nom à afficher dans la liste des sessions de &kdm;</replaceable
></programlisting>

<para
>Il y a aussi trois entrées particulières :</para>

<variablelist>
<varlistentry>
<term
>default</term>
<listitem>
<para
>La session par défaut de &kdm; est normalement &kde; mais elle peut être confgurée par l'administrateur système. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>custom</term>
<listitem>
<para
>La session personnalisée utilisera le fichier ~/.xsession des utilisateurs s'il existe. </para>
</listitem>
</varlistentry>
<varlistentry>
<term
>failsafe</term>
<listitem>
<para
>Lance une session très simple qui est utile uniquement pour le dépannage. </para>
</listitem>
</varlistentry>
</variablelist>

<para
>Pour modifier un type de session, copiez le fichier .desktop du dossier de données vers le dossier de configuration et modifiez-le à volonté. Pour supprimer les types de session inclus, vous pouvez les <quote
>cacher</quote
> avec un fichier .desktop contenant Hidden=true. Pour les sessions particulières, aucun .desktop n'existe mais &kdm; fait comme si, c'est pourquoi vous pouvez les modifier de la même façon que n'importe quelle session. Dorénavant, je suppose que vous savez comment ajouter un nouveau type de session.</para>

</chapter>

<chapter id="xdmcp-with-kdm">
<title
>Utilisation de &kdm; pour des connexions distantes (&XDMCP;)</title>

<para
>&XDMCP; est un standard de l'Open Group, le <quote
>X Display Manager Control Protocol</quote
>. Ceci sert à établir, via le réseau, des connexions entre des systèmes distants.</para>

<para
>&XDMCP; est utile dans les situations multiutilisateurs, où il y a des utilisateurs avec des stations de travail et un serveur plus puissant qui peut fournir les ressources pour faire fonctionner de multiples sessions X. Par exemple, &XDMCP; est un bon moyen pour réutiliser de vieux ordinateurs - un Pentium ou même un 486 avec 16 Mo de RAM est suffisant pour exécuter X, et, en utilisant XDMCP, un tel ordinateur peut lancer une session &kde; moderne complète à partir d'un serveur. Pour la partie serveur, une fois qu'une seule session &kde; (ou un autre environnement) est exécutée, démarrer une nouvelle session ne réclame que très peu de ressources supplémentaires.</para>

<para
>Cependant, l'autorisation d'une autre méthode de connexion à votre machine a des implication de sécurité évidentes. Vous ne devriez lancer ce service que si vous avez besoin d'autoriser des serveurs X distants à connecter des sessions sur votre système. Les utilisateurs avec un seul ordinateur &UNIX; ne devraient pas avoir besoin de le démarrer.</para>

</chapter>

<chapter id="advanced-topics">
<title
>Points particuliers</title>

<sect1 id="command-sockets">
<title
>Sockets de commande</title>

<para
>C'est option, vous permet le contrôle à distance de &kdm;. Elle est principalement prévue pour être utilisée par &ksmserver; et &kdesktop; depuis une session démarrée, mais d'autres utilisations sont aussi possibles.</para>

<para
>Les connecteurs réseau (sockets) sont de type &UNIX; et résident dans des sous-dossiers du dossier spécifié par <option
>FifoDir</option
>=. Le sous-dossier est la clé de l'adressage et de la sécurité ; tous les connecteurs réseau portent le nom <filename
>socket</filename
> et les permissions de fichiers sont <literal
>rw-rw-rw-</literal
> (0666). Ceci est dû au fait que certains systèmes ne tiennent pas compte des permissions de fichiers des fichiers des connecteurs réseau.</para>

<para
>Il existe deux types de connecteurs réseau : les globaux (dmctl) et ceux liés à un affichage (dmctl-&lt;display&gt;).</para>

<para
>Le sous-dossier des connecteurs réseau globaux appartient à root. Les sous-dossiers des connecteurs réseau liés à un affichage appartiennent à l'utilisateur actuellement propriétaire de la session (root ou l'utilisateur connecté). L'appartenance des sous-dossiers à un groupe peut être réglée via FifoGroup=, et par défaut il s'agit de root. Les permissions sur les sous-dossiers sont rwxr-x--- (0750).</para>

<para
>Les champs d'une commande sont séparés par des tabulations (<token
>\t</token
>), les champs d'une liste sont séparés par des espaces, les espaces littéraux dans un champ de liste sont représentés par un <token
>\s</token
>.</para>

<para
>La commande se termine par la fin d'une ligne (<token
>\n</token
>).</para>

<para
>La même chose s'applique aux réponses. Le retour en cas de succès est <returnvalue
>ok</returnvalue
>, qui peut être suivi de l'information demandée. La réponse en cas d'erreur est du style de celle de errno (par exemple, <returnvalue
>perm</returnvalue
>, <returnvalue
>noent</returnvalue
>, &etc;) suivi par une explication plus longue.</para>

<variablelist>
<title
>Commandes globales :</title>
<varlistentry>
<term
><command
>login</command
> <option
>display</option
> (<parameter
>now</parameter
> | <parameter
>schedule</parameter
>) <parameter
>user</parameter
> <parameter
>password</parameter
> [session_arguments]</term>
<listitem>
<para
>authentifie un utilisateur sur un affichage particulier (<foreignphrase
>display</foreignphrase
>). Si le paramètre <parameter
>now</parameter
> est spécifié, toute session déjà démarrée sera terminée, dans le cas contraire l'authentification se fera à la fin de la session. Les arguments session_arguments sont formatés à la façon d'un printf pour .dmrc. Les clefs non listées gardent les valeurs précédemment enregistrées.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Commandes propres a un affichage :</title>
<varlistentry>
<term
><command
>lock</command
></term>
<listitem>
<para
>L'affichage est marqué comme verrouillé (<foreignphrase
>locked</foreignphrase
>). Si le &X-Server; plante dans cet état, aucune reconnexion automatique ne sera réalisée même si l'option est activée.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>unlock</command
></term>
<listitem>
<para
>Annule l'effet de la commande <command
>lock</command
> et réactive la reconnexion automatique.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><command
>suicide</command
></term>
<listitem>
<para
>L'arrêt de la session en cours est forcé. Aucune reconnexion automatique n'est tentée, mais une commande "login" planifiée sera exécutée.</para>
</listitem>
</varlistentry>
</variablelist>

<variablelist>
<title
>Commande pour tous les connecteurs réseau (sockets)</title>
<varlistentry>
<term
><command
>caps</command
></term>
<listitem>
<para
>Retourne une liste des fonctionnalités supportées par ce connecteur réseau :</para>

<variablelist>
<varlistentry>
<term
><returnvalue
>&kdm;</returnvalue
></term>
<listitem>
<para
>identifie &kdm; dans le cas où un autre gestionnaire de connexion implémenterait aussi ce protocole</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>list</returnvalue
>, <returnvalue
>lock</returnvalue
>, <returnvalue
>suicide</returnvalue
>, <returnvalue
>login</returnvalue
></term>
<listitem>
<para
>Ces commandes respectives sont supportées</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>bootoptions</returnvalue
></term>
<listitem>
<para
>Pour l'arrêt, la commande <command
>listbootoptions</command
> et le <option
>=</option
> de <command
>shutdown</command
> sont gérés</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>shutdown &lt;list&gt;</returnvalue
></term>
<listitem>
<para
><command
>shutdown</command
> est supporté et autorisé pour les utilisateurs listés (liste séparée par virgule). <returnvalue
>*</returnvalue
> signifie tous les utilisateurs authentifiés.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke &lt;list&gt;</returnvalue
></term>
<listitem>
<para
>L'arrêt forcé du système peut être effectué par les utilisateurs listés.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>nuke</returnvalue
></term>
<listitem>
<para
>L'arrêt forcé du système peut être effectué par tout le monde</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><returnvalue
>reserve &lt;nombre&gt;</returnvalue
></term>
<listitem>
<para
>Des affichages réservés sont configurés, et <returnvalue
>nombre</returnvalue
> sont disponibles en ce moment</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>list</command
> [<parameter
>all</parameter
> | <parameter
>alllocal</parameter
>]</term>
<listitem>
<para
>Retourne la liste des sessions en cours. Par défaut toutes les sessions actives sont affichées. Si le paramètre <parameter
>all</parameter
> est spécifié, les sessions passives le sont aussi. Si <parameter
>alllocal</parameter
> est spécifié, les sessions passives sont listées, mais pas les sessions distantes entrantes.</para>
<para
>Chaque entrée de session est un n-uplet (<foreignphrase
>tuple</foreignphrase
>) séparé par des virgules :</para>
<itemizedlist>
<listitem
><para
>Affichage (display) ou nom du TTY</para
></listitem>
<listitem
><para
>Nom du terminal virtuel (VT) pour les sessions locales</para
></listitem>
<listitem
><para
>Nom de l'utilisateur connecté, vide pour les sessions passives et les sessions distantes sortantes (mode de sélection local)</para
></listitem>
<listitem
><para
>Type de session ou <quote
>&lt;remote&gt;</quote
> pour les sessions sortantes, vide pour les sessions passives.</para
></listitem>
<listitem
><para
>Un drapeau : </para>
<itemizedlist
><listitem
><para
><literal
>*</literal
> pour l'affichage (display) appartenant au connecteur réseau (socket) faisant la requête.</para
></listitem>
<listitem
><para
><literal
>!</literal
> pour les sessions qui ne peuvent pas être terminées par le connecteur réseau (socket) faisant la requête.</para
></listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<para
>De nouveaux champs pourraient être ajoutés dans le futur.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>reserve</command
> [<parameter
>délai en secondes</parameter
>]</term>
<listitem>
<para
>Démarre un nouvel écran de connexion. Si personne ne se connecte pendant la période de temps indiquée (une minute par défaut), l'affichage est de nouveau enlevé. Lorsque la session sur cet affichage est terminée, l'affichage est également enlevé.</para>
<para
>Permis seulement sur les connecteurs réseau (sockets) des affichages locaux et le connecteur réseau global.</para
> 
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>activate</command
> (<parameter
>vt</parameter
>|<parameter
>affichage</parameter
>)</term>
<listitem>
<para
>Change pour un VT (terminal virtuel) particulier. Le VT peut être spécifié soit directement (&pex; <parameter
>vt3</parameter
>) soit par l'affichage qui l'utilise (<parameter
>:2</parameter
>).</para>
<para
>Permis seulement sur les connecteurs réseau (sockets) des affichages locaux et le connecteur réseau global.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>listbootoptions</command
></term>
<listitem>
<para
>Liste les options de démarrage disponibles.</para>
<!--FIXME: "ok" list default current
    default and current are indices into the list and are -1 if unset or
    undeterminable. -->
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown</command
> (<parameter
>reboot</parameter
> | <parameter
>halt</parameter
>) [<parameter
>=<replaceable
>bootchoice</replaceable
></parameter
>] (<parameter
>ask</parameter
>|<parameter
>trynow</parameter
>|<parameter
>forcenow</parameter
>|<parameter
>schedule</parameter
>|<parameter
>start (<parameter
>-1</parameter
>|<parameter
>end (<parameter
>force</parameter
>|<parameter
>forcemy</parameter
>|<parameter
>cancel)</parameter
>)</parameter
>)</parameter
>)</term>
<listitem>
<para
>Demande un arrêt électrique ou un redémarrage du système.</para>
<para
>Le choix d'un système d'exploitation pour le prochain démarrage peut être fait à partir de la liste retournée par <command
>listbootoptions</command
></para>
<para
>Les demandes d'arrêt depuis les connecteurs réseau (sockets) associés à un affichage sont exécutées lorsque la session courante sur cet affichage se termine. Une telle requête peut faire surgir une fenêtre demandant une confirmation et/ou une authentification</para>
<para
><parameter
>start</parameter
> est l'heure à laquelle l'arrêt est programmé. Si ce paramètre commence par le signe '+', l'heure courante est ajoutée. Une valeur nulle revient à demander un arrêt immédiat.</para>
<para
><parameter
>end</parameter
> est l'heure la plus tardive à laquelle l'arrêt doit être effectué si des sessions sont encore actives. Si ce paramètre commence par le signe '+', l'heure de démarrage est ajoutée. -1 signifie d'attendre indéfiniment. Si end est atteint et qu'il y a encore des sessions actives, &kdm; peut faire l'une des choses suivantes :</para>
<itemizedlist>
<listitem
><para
><parameter
>cancel</parameter
> - abandonne l'arrêt</para
></listitem>
<listitem
><para
><parameter
>force</parameter
> - arrête quoi qu'il arrive</para
></listitem>
<listitem
><para
><parameter
>forcemy</parameter
> - arrête quoi qu'il arrive, si toutes les sessions actives appartiennent à l'utilisateur faisant la requête. Uniquement pour les connecteurs réseau (sockets) par affichage.</para
></listitem>
</itemizedlist>
<para
><parameter
>start</parameter
> et<parameter
>end</parameter
> sont spécifiés en secondes depuis l'origine des temps (epoch) d'&UNIX;.</para>
<para
><parameter
>trynow</parameter
> est un synonyme pour <parameter
>0 0 cancel</parameter
>, <parameter
>forcenow</parameter
> pour <parameter
>0 0 force</parameter
> et <parameter
>schedule</parameter
> pour <parameter
>0 -1</parameter
>.</para>
<para
><parameter
>ask</parameter
> tente un arrêt immédiat et interagit avec l'utilisateur si des sessions sont toujours actives. Uniquement pour les connecteurs réseau (sockets) par affichage.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown cancel</command
> [<parameter
>local</parameter
>|<parameter
>global</parameter
>}</term>
<listitem>
<para
>Annule un arrêt programmé. Le connecteur réseau (socket) global par affichage annule toujours la procédure d'arrêt en cours, alors que les connecteurs réseau liés à un affichage suspendent par défaut leurs requêtes mises en file d'attente.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><command
>shutdown status</command
></term>
<listitem>
<para
>Retourne une liste d'information à propos des procédures d'arrêt.</para>
<para
>Les entrées sont des n-uplets (<foreignphrase
>tuples</foreignphrase
>) séparés par des virgules :</para>
<itemizedlist>
<listitem>
<para
>(<returnvalue
>global</returnvalue
>|<returnvalue
>local</returnvalue
>) - arrêts en cours v.s. arrêts en file d'attente. Une entrée locale ne peut être retournée que par un connecteur réseau (socket) associé a un affichage.</para>
</listitem>
<listitem
><para
>(<returnvalue
>halt</returnvalue
>|<returnvalue
>reboot</returnvalue
>)</para
></listitem>
<listitem
><para
>start</para
></listitem>
<listitem
><para
>end</para
></listitem>
<listitem
><para
>("ask"|"force"|"forcemy"|"cancel")</para
></listitem>
<listitem
><para
>Identifiant numérique (ID) de l'utilisateur à l'origine de la demande, '-1' pour le connecteur réseau (socket) global.</para
></listitem>
<listitem
><para
>Le choix de système d'exploitation pour le prochain démarrage ou "-" s'il n'y en a pas.</para
></listitem>
</itemizedlist>
<para
>De nouveaux champs peuvent être ajoutés plus tard</para>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</varlistentry>
</variablelist>
<para
>Il y a deux méthodes pour utiliser les connecteurs réseau (sockets) :</para>
<itemizedlist>
<listitem>
<para
>Se connecter à eux directement. Leur dossier ( FifoDir ) est exporté en tant que $<envar
>DM_CONTROL</envar
> ; le nom de connecteurs réseau (sockets) associés à un affichage peut être dérivé de $<envar
>DISPLAY</envar
>.</para>
</listitem>
<listitem>
<para
>En utilisant la commande <command
>kdmctl</command
> (par exemple depuis un script shell). Essayez <command
>kdmctl</command
> <option
>-h</option
> pour en apprendre plus.</para>
</listitem>
</itemizedlist>

<para
>Voici l'exemple d'un script bash <quote
>redémarrer sous FreeBSD</quote
> :</para>

<programlisting
>if kdmctl | grep -q shutdown; then
  IFS=$'\t'
  set -- `kdmctl listbootoptions`
  if [ "$1" = ok ]; then
        fbsd=$(echo "$2" | tr ' ' '\n' | sed -ne 's,\\s, ,g;/freebsd/I{p;q}')
        if [ -n "$fbsd" ]; then
      kdmctl shutdown reboot "=$fbsd" ask &gt; /dev/null
        else
          echo "Démarrage de FreeBSD indisponible."
        fi
  else
    echo "Options de démarrage indisponibles."
  fi
else
  echo "Je ne peux pas redémarrer le système."
fi</programlisting>

</sect1>
<!-- Riddell: so there's no GUI you need to edit kdmrc to say UseTheme=true and Theme=/path/to/theme.xml
[13:31] <Riddell
> jriddell.org/programs has an example theme 

<sect1 id="dm-themes">
<title
>Themes</title>

&kdm; has limited support for desktop manager themes.  You may enable them
by adding <userinput
>UseTheme=true</userinput
> to <filename
>kdmrc</filename>
and <userinput
>Theme=/path/to/theme.xml</userinput
>.  
</sect1>
-->
</chapter>

<chapter id="Other-Information">
<title
>Autres sources d'information</title>

<para
>Étant donné que &kdm; dérive de &xdm;, la <ulink url="man:xdm"
>page de manuel de &xdm;</ulink
> peut fournir des informations générales utiles. Pour les problèmes relatifs à X, essayez les pages de manuel de <ulink url="man:X"
>X</ulink
> et <ulink url="man:startx"
>startx</ulink
>. Si vous avez des questions à propos de &kdm; auxquelles ce manuel ne répond pas, profitez du fait que &kdm; soit distribué selon les termes de la Licence Publique Générale <abbrev
>&GNU;</abbrev
> : jetez un oeil au code source. </para>

</chapter>


<chapter id="credits"
><title
>Remerciements et licence</title>

<para
>&kdm; dérive de &xdm; ((C) Keith Packard, MIT X Consortium) dont il reprend une partie du code.</para>

<para
>&kdm; 0.1 a été écrit par &Matthias.Ettrich;. Les versions suivantes jusqu'à &kde; 2.0.x ont été écrites par &Steffen.Hansen;. Certaines nouvelles fonctionnalités pour &kde; 2.1.x et une réécriture majeure pour &kde; 2.2.x ont été faites par &Oswald.Buddenhagen;.</para>

<para
>Les droits d'auteurs pour le reste du code de &kdm; appartiennent aux différents auteurs et il est soumis aux termes de la licence <ulink url="common/gpl-license.html"
>&GNU; GPL</ulink
>. Chacun est libre d'apporter des modifications à &kdm; et de les redistribuer tant que les noms des auteurs sont mentionnés.</para>

<para
>&kdm; requiert la bibliothèque &Qt;, dont les droits d'auteurs appartiennent à Troll Tech SA.</para>

<para
>Contributeurs à la documentation : <itemizedlist>

<listitem
><para
>La documentation écrite par &Steffen.Hansen; <email
>stefh@dit.ou.dk</email
></para
></listitem>

<listitem
><para
>Documentation complétée par Gregor Zumstein <email
>zumstein@ssd.ethz.ch</email
>. Dernière mise à jour : 9 août 1998</para
></listitem>

<listitem
><para
>Documentation révisée pour &kde; 2 par &Neal.Crook; &Neal.Crook.mail;. Dernière mise à jour : 6 août 2000</para
></listitem>

<listitem
><para
>Documentation étendue et révisée pour &kde; 2.2 par &Oswald.Buddenhagen; &Oswald.Buddenhagen.mail;. Dernière mise à jour : août 2001</para
></listitem>

</itemizedlist
></para>

<para
>Droits d'auteurs sur la documentation appartenant à : &Steffen.Hansen;, Gregor Zumstein, &Neal.Crook; et &Oswald.Buddenhagen;. Ce document inclut aussi de grandes parties de la page de manuel de &xdm; qui est &copy; Keith Packard.</para>
&underFDL; &underGPL; </chapter>

<glossary id="glossary">
<title
>Glossaire</title>

<glossentry id="gloss-greeter">
<glossterm
>message de bienvenue</glossterm>
<glossdef
><para
>Le message de bienvenue est le dialogue de connexion, &cad; la partie de &kdm; que l'utilisateur voit.</para>
</glossdef>
</glossentry>

<glossentry>
<glossterm id="gloss-entropy"
>entropie</glossterm>
<glossdef
><para
>L'entropie d'un système est la mesure de son caractère non prédictible. Ceci est utilisé lors de la génération de nombres aléatoires.</para
></glossdef>
</glossentry>

</glossary>
</book>
<!--
Local Variables:
mode: xml
sgml-omittag: nil
sgml-shorttag: t
End:
-->

