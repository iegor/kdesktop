<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.1.2-Based Variant V1.1//EN"
 "dtd/kdex.dtd" [
  <!ENTITY kappname "&kdvi;">
  <!ENTITY package "kdegraphics">
  <!ENTITY % addindex "IGNORE">
  <!ENTITY % French "INCLUDE"
><!-- change language only here -->
]>

<book lang="&language;">
  <bookinfo>
    <title
>Manuel de &kdvi;</title>
    <authorgroup>
      <author
><firstname
>Stefan</firstname
> <surname
>Kebekus</surname
> <affiliation
> <address
> <email
>kebekus@kde.org</email>
          </address>
	</affiliation>
      </author>
      &traducteurEricBischoff; 
    </authorgroup>
    
    <copyright>
      <year
>2001</year>
      <holder
>Stefan Kebekus</holder>
    </copyright>
    
    <legalnotice
>&FDLNotice;</legalnotice>
    
    <date
>2003-09-07</date>
    <releaseinfo
>1.10.00</releaseinfo>

    <abstract>
      <para
>Ce document décrit &kdvi; version 1.0</para>
    </abstract>

    <keywordset>
      <keyword
>KDE</keyword>
      <keyword
>linux</keyword>
      <keyword
>TeX</keyword>
      <keyword
>DVI</keyword>
    </keywordset>

  </bookinfo>

  <chapter id="introduction">
    <title
>Introduction</title>

    <para
>&kdvi; est un module externe du programme &kviewshell; permettant à ce dernier d'afficher des fichiers &DVI; (<literal role="extension"
>.dvi</literal
>) produits par le système de mise en page TeX. &kdvi; est compatible avec plusieurs extensions du standard &DVI;, par exemple l'inclusion d'images &PostScript; ou de liens hypertexte. Plus de détails, des exemples et toutes les spécifications techniques se trouvent dans le fichier <filename
>KDVI-features.dvi</filename
> (ou reportez-vous à <filename
>KDVI-features.tex</filename
>, le source TeX de ce fichier).</para>

    <para
>Vous pouvez obtenir des informations mises à jour régulièrement sur <ulink url="http://devel-home.kde.org/~kdvi"
>la page de référence de &kdvi;</ulink
>. </para>

    <para
>TeX est un système typographique de haut niveau orienté en direction de la typographie scientifique et en particulier mathématique. Pour plus d'informations sur TeX et &DVI;, se reporter à la <ulink url="http://www.tug.org"
>page personnelle du groupe d'utilisateurs de TeX</ulink
> ou à l'association allemande <ulink url="http://www.dante.de"
>DANTE e.V.</ulink
>. </para>
  </chapter>


  <chapter id="starting">
    <title
>Comment lancer &kdvi;</title>

    <para
>La plupart du temps, &kdvi; sera lancé simplement en cliquant sur un fichier <literal role="extension"
>.dvi</literal
> dans le gestionnaire de fichiers. Par commodité, il existe une commande <command
>kdvi</command
> qui appelle &kviewshell; avec le module externe &kdvi; préchargé. L'afficheur peut ainsi être démarré en utilisant la commande <userinput
><command
>kdvi</command
> <parameter
>chemin/document.dvi</parameter
></userinput
>. Les lignes de commande <userinput
><command
>kdvi</command
> <parameter
>chemin/document</parameter
></userinput
> or <userinput
><command
>kdvi</command
> <parameter
>chemin/document.</parameter
></userinput
> fonctionneront aussi. Si vous êtes connecté à l'Internet, vous pouvez accéder aux fichiers qui résident sur d'autres ordinateurs en donnant une &URL; comme paramètre, comme ceci : <userinput
><command
>kdvi</command
> <parameter
>http://quelquepart/document.dvi</parameter
></userinput
> </para>

    <para
>Si vous donnez une &URL; comme paramètre, vous pouvez demander à &kdvi; de sauter directement à un emplacement donné du fichier &DVI;. Par exemple, <userinput
><command
>kdvi</command
> <parameter
>file:document.dvi#43</parameter
></userinput
> demandera à &kdvi; d'ouvrir la page 43. Si les informations du fichier source sont incluses, une commande comme <userinput
><command
>kdvi</command
> <parameter
>file:document.dvi#src:43document.tex</parameter
></userinput
> fera en sorte que &kdvi; cherche l'endroit du fichier &DVI; correspondant à la ligne 43 du fichier TeX nommé <parameter
>document.tex</parameter
>. Il est peu probable que vous utilisiez cette option vous-même &mdash; reportez-vous à la section expliquant <link linkend="forward-search"
>la liaison au document généré</link
> pour apprendre comment paramétrer votre éditeur de textes pour qu'il démarre &kdvi; automatiquement. </para>

    <warning
><para
>N'oubliez pas le préfixe <userinput
>file:</userinput
>, car sinon vous n'obtiendrez pas les résultats attendus. Par exemple, la commande <userinput
><command
>kdvi</command
> <parameter
>file:document.dvi#43</parameter
></userinput
> ouvrira la page 43 du fichier <filename
>document.dvi</filename
>. La commande <userinput
><command
>kdvi</command
> <parameter
>document.dvi#43</parameter
></userinput
> essayera d'ouvrir le fichier nommé <filename
>document.dvi#43</filename
>.</para>
    </warning>

    <para
>Il y a une autre option que vous n'aurez probablement pas besoin de spécifier vous-même. Si vous tapez <userinput
><command
>kdvi</command
> <parameter
>--unique</parameter
> <parameter
>chemin/document.dvi</parameter
></userinput
>, &kdvi; chargera le fichier si aucune autre instance lancée n'a le fichier déjà ouvert. S'il y en a une, cette instance de &kdvi; sera amenée à l'avant-plan. Une commande comme <userinput
><command
>kdvi</command
> <parameter
>--unique</parameter
> <parameter
>file:document.dvi#43</parameter
></userinput
> peut être utilisée dans des scripts shell pour faire passer une instance déjà lancée de &kdvi; à la page 43.</para>

    <para
>Les paramètres usuels gérés par les applications &Qt; et &kde; fonctionnent également : <userinput
><command
>kdvi</command
> <option
>-style</option
> <parameter
>windows</parameter
> <option
>-display</option
> <parameter
>:0</parameter
> <option
>-geometry</option
> <parameter
>400x400+0+0</parameter
> <option
>-caption</option
> <parameter
>&quot;DVI&quot;</parameter
></userinput
> </para>
  </chapter>
  
  
  <chapter id="print">
    <title
>Comment imprimer des fichiers &DVI;</title>
    
    <para
>&kdvi; peut imprimer vos fichiers &DVI; grâce à l'interface standard d'impression de &kde;. De manière interne, &kdvi; utilise le programme <command
>dvips</command
> pour générer du &PostScript;, lequel est ensuite envoyé vers l'imprimante. Cela signifie en particulier que <command
>dvips</command
> doit être installé si vous souhaitez imprimer avec &kdvi;. Le programme <command
>dvips</command
> utilise ses propres fichiers de configuration et ses propres réglages, qui conviennent dans la plupart des cas. Toutefois, si vous vous préoccupez de résultats d'impression optimaux, il vous faut configurer <command
>dvips</command
> à la main et installer un mode MetaFont par défaut qui correspond au mieux à votre imprimante &mdash; sur la plupart des systèmes vous pourrez vous reporter à la <ulink url="info:/dvips"
>documentation GNU-texinfo sur <command
>dvips</command
></ulink
>, ainsi qu'au fichier portant le nom <filename
>dvips.dvi</filename
> ou quelque chose d'approchant.</para>
  </chapter>

  <chapter id="export">
    <title
>Comment exporter le fichier &DVI; vers d'autres formats</title>

    <para
>Si vous désirez enregistrer votre fichier dans le format &PostScript; ou PDF, il vaut mieux ne pas utiliser la fonction d'impression pour rediriger le résultat de l'impression vers un fichier. Au lieu de cela, vous pouvez utiliser les fonctions d'exportation qui produisent des résultats de meilleure qualité, gardant trace des particularités du format &DVI; et ayant meilleure allure dans bon nombre d'applications d'affichage comme <application
>Acrobat Reader</application
> d'Adobe. Vous trouverez les fonctions d'exportation dans le menu <guimenu
>Fichier</guimenu
>.</para>

    <section id="export-ps">
      <title
>Exportation en format &PostScript;</title
> 

      <para
>Comme lors de l'impression, le programme <command
>dvips</command
> est utilisé pour générer le fichier &PostScript;. Si le fichier &DVI; contient des liens hypertextes, ils se retrouveront aussi dans le fichier &PostScript;. Si vous êtes un expert, et si vous désirez générer un fichier de sortie adapté à une imprimante spécifique, vous devriez probablement démarrer <command
>dvips</command
> à la main et choisir le mode MetaFont convenable vous-même.</para>
    </section>

    <section id="export-pdf">
      <title
>Exportation en format <acronym
>PDF</acronym
></title
> 

      <para
>Dans le but de produire des fichiers <acronym
>PDF</acronym
> de qualité élevée, &kdvi; convertit &DVI; en <acronym
>PDF</acronym
> en utilisant le programme externe <command
>dvipdfm</command
>. Si vous travaillez sur une machine où une ancienne distribution du système typographique TeX est installée, il se peut que le programme <command
>dvipdfm</command
> ne soit pas installé. Dans ce cas, il vous faudra passer par la fonction d'impression pour générer la sortie <acronym
>PDF</acronym
>.</para>

      <warning
> <para
>Si vous affichez le fichier généré dans le programme <application
>Acrobat reader</application
> d'Adobe, vous pourriez bien trouver que les polices ont l'air extrêmement pauvres malgré une bonne qualité lors de l'impression, et bien que le document semble correct dans <application
>ghostview</application
>. C'est un problème connu d'<application
>Acrobat Reader</application
> avec les polices bitmap. Au moment où cette documentation est écrite, la seule façon pratique de contourner ce problème semble être d'éviter le polices bitmap.</para>
      </warning>
    </section>
  </chapter>
  

  <chapter id="embed">
    <title
>Intégrer des fichiers PostScript dans le &DVI;</title>

    <para
>La manière traditionnelle d'utiliser des graphiques avec <application
>TeX</application
> n'inclut pas les données graphiques directement dans le fichier &DVI;. À la place, le fichier &DVI; ne contient qu'un lien vers un fichier graphique qui réside sur le disque dur. L'avantage de cette procédure est que le fichier &DVI; reste petit, et que le fichier graphique peut être modifié indépendamment du source de document <application
>Tex</application
>. La méthode, cependant, devient un inconvénient si vous voulez archiver le fichier &DVI;, ou si vous voulez l'envoyer à quelqu'un d'autre : plutôt que de manipuler un simple fichier, vous devez faire avec une multitude de fichiers, qui nécessitent d'être conservés exactement à l'endroit  spécifié dans le fichier &DVI; pour que tout fonctionne.</para>

    <para
>Pour cette raison, &kdvi; vous permet d'intégrer des fichiers &PostScript; externes dans votre fichier &DVI;. Pour intégrer des fichiers &PostScript; dans un fichier &DVI;, utilisez l'entrée de menu <guimenu
>Édition/Inclure les fichiers externes PostScript</guimenu
> </para>
    
    <warning
> <para
>Les fichiers &DVI; avec du &PostScript; encapsulé fonctionnent bien avec la plupart des autres logiciels gérant le &DVI;, comme <application
>xdvi</application
>, <application
>dvips</application
> ou <application
>dvipdf</application
>. Une exception notable est le programme <application
>dvipdfm</application
>, qui ignore actuellement le &PostScript; encapsulé. Comme <application
>dvipdfm</application
> est utilisé d'une manière interne par la fonction d'exportation « Exporter en <acronym
>PDF</acronym
> »de &kdvi;, attendez-vous à des problèmes quand vous utilisez cette fonction. Le même problème se pose avec d'autres programmes qui utilisent le PostScript encapsulé, comme le paquet de macros de <application
>TeX</application
>, <application
>xy</application
>.</para
> </warning>
  </chapter>
  

  <chapter id="inverse-search">
    <title
>Comment utiliser la liaison au document source</title>
    <anchor id="inv-search"
></anchor>

    <para
>La liaison au document source est une fonctionnalité très utile quand vous écrivez un document TeX vous-même. Si tout est configuré correctement, vous pouvez cliquer dans la fenêtre de &kdvi; avec le &BCS; (sur certains systèmes où la souris n'a que deux boutons, vous pouvez utiliser simultanément le &BGS; et le &BDS;). Cela aura pour effet d'ouvrir votre éditeur favori, de charger le fichier source TeX, et de se placer sur le bon paragraphe. Pour utiliser la liaison au document source, procédez comme suit :</para>


    <procedure>
      <step>
	<para
>Produisez un fichier &DVI; contenant des informations de liaison au document source. C'est expliqué dans la section <link linkend="inverse-search-tex"
>Comment produire des fichiers TeX pour la liaison au document source</link
> plus bas. Si vous ne désirez que tester la fonctionnalité de liaison au document source, vous pouvez également utiliser le fichier d'exemple <filename
>KDVI-features.dvi</filename
>.</para>
      </step>
      <step>
	<para
>Indiquez à &kdvi; quel éditeur vous souhaitez utiliser. Choisissez un éditeur dans la boîte de dialogue de <guilabel
>Configuration</guilabel
> (cette boîte de dialogue s'obtient en choisissant <guimenu
>Options DVI</guimenu
> dans le menu <guimenuitem
>Configuration</guimenuitem
>). Le prochaine section de cette documentation intitulée <link linkend="opt-rendering"
>Les options liées aux spécificités DVI</link
> décrit cette boîte de dialogue avec plus de détails.</para>
      </step>
      <step>
	<para
>Certains éditeurs ont besoin d'être démarrés à la main, ou nécessitent une configuration supplémentaire. Vous trouverez une description de tous les éditeurs supportés dans la section <link linkend="inverse-search-editor"
>Comment configurer votre éditeur</link
> ci-dessous.</para>
      </step>
      <step>
	<para
>Testez votre configuration. Ouvrez votre fichier &DVI; dans &kdvi; et utilisez le &BCS; pour cliquer dans &kdvi;. L'éditeur devrait apparaître et afficher le fichier TeX.</para>
      </step>
    </procedure>


    <section id="inverse-search-tex">
      <title
>Comment produire des fichiers TeX pour la liaison au document source</title>
      <para
>Il y a deux façons principales de produire des fichiers &DVI; qui contiennent des informations de liaison au document source : vous pouvez soit utiliser un exécutable TeX/LaTeX qui génère automatiquement toutes les informations nécessaires, soit inclure un paquetage additionnel écrit en TeX/LaTeX.</para>
      <itemizedlist>
	<listitem>
	  <para
>Utiliser un exécutable TeX qui génère et inclut automatiquement les informations nécessaires constitue certainement la meilleure méthode pour inclure les informations de liaison au document source. Au moment où cette documentation est écrite, il n'y a pas de tel exécutable disponible pour &UNIX;. Toutefois, il paraît que la prochaine version de <ulink url="http://www.tetex.org"
>la distribution TeTeX de TeX</ulink
> gérera de manière native la liaison au document source. </para>
	</listitem>
	<listitem>
	  <para
>Si vous ne disposez pas d'un exécutable TeX qui génère les informations de liaison au document source de manière native, il vous faut copier les fichiers <ulink url="srcltx.sty"
><filename
>srcltx.sty</filename
></ulink
> et <ulink url="srctex.sty"
><filename
>srctex.sty</filename
></ulink
> dans le dossier où se trouve votre fichier TeX (vous pouvez faire ça en appuyant sur &Maj; et en cliquant avec le &BGS; sur les liens hypertexte). Si vous utilisez LaTeX, ajoutez la ligne <programlisting>

    \usepackage[active]{srcltx}

</programlisting
> au début de votre fichier TeX. Si vous utilisez du TeX pur, la ligne <programlisting>

    \include{srctex}

</programlisting
> remplira cette fonction.</para>
	</listitem>
      </itemizedlist>

      <tip>
	<para
>Bien que la liaison au document source soit particulièrement utile quand vous saisissez un document vous-même, il est recommandé de supprimer les informations de recherche inversée avant d'envoyer le fichier &DVI; à quelqu'un d'autre.</para>
      </tip>

    </section>

    <section id="inverse-search-editor">

    <title
>Comment paramétrer votre éditeur</title>
    
    <para
>Bien que la liaison au document source fonctionne généralement correctement avec la plupart des éditeurs, certains d'entre eux réclament des attentions particulières. Cette section explique comment configurer votre éditeur.</para>

    <section id="editor-setup-emacs">
      <title
><application
>Emacs</application
></title>

      <para
><application
>Emacs</application
> fonctionne bien avec &kdvi;. Le comportement effectif d'<application
>Emacs</application
> dépend largement de la configuration. Comme d'habitude, vous pouvez complètement personnaliser <application
>Emacs</application
>, si vous vous sentez d'attaque pour vous mesurer au code Lisp.</para>

      <para
>&kdvi; utilise le programme <command
>emacsclient</command
> pour téléguider <application
>Emacs</application
>.</para>
      <important>
	<para
>Le programme <command
>emacsclient</command
> suppose que <application
>Emacs</application
> est lancé, et que le programme <application
>serveur Emacs</application
> est démarré à l'intérieur de <application
>Emacs</application
>. La liaison au document source ne fonctionnera pas de manière optimale tant que vous n'aurez pas lancé à la fois <application
>Emacs</application
> et le <application
>serveur Emacs</application
>.</para>
      </important>

      <para
>Pour lancer le <application
>Serveur Emacs</application
>, vous pouvez utiliser une des méthodes suivantes :</para>
      <procedure>
	<step>
	  <para
>Dans <application
>Emacs</application
>, démarrez le <application
>serveur emacs</application
> en saisissant <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>server-start</command
></userinput
></para>
	</step>
	<step>
	  <para
>Ajoutez la ligne <programlisting>

    (server-start)

</programlisting
> à votre fichier <filename
>.emacs</filename
>. Redémarrez <application
>Emacs</application
></para>
	</step>
      </procedure>

      
      <tip>
	<itemizedlist>
	  <listitem>
	      <para
>Assurez-vous que <application
>Emacs</application
> est installé. Essayez de lancer <command
>emacs</command
> depuis la ligne de commande.</para>
	  </listitem>
	<listitem>
	      <para
>&kdvi; utilise la commande <command
>emacsclient</command
>pour téléguider <application
>Emacs</application
>. Assurez-vous sur la ligne de commande que <command
>emacsclient</command
> est disponible en essayant la commande <userinput
><command
>emacsclient</command
> <parameter
>Nom d'un fichier texte</parameter
></userinput
>. Cela devrait ouvrir un nouveau texte dans l'éditeur <application
>Emacs</application
> editor.</para>
	</listitem>
	<listitem>
	      <para
>Si <command
>emacsclient</command
> démarre avec un message d'erreur comme <computeroutput
>unable to connect to local</computeroutput
>, assurez-vous que <application
>Emacs</application
> est lancé. De plus, assurez-vous que le <application
>Serveur Emacs</application
> est lancé en saisissant <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>server-start</command
></userinput
>.</para>
	</listitem>
	<listitem>
	      <para
>Si vous désirez que la zone d'édition soit mis automatiquement au premier plan, ajoutez la fonction <function
>raise-frame</function
> à <quote
>server-switch-hook</quote
> (tapez <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>customize-variable</command
> <keycap
>Entrée</keycap
> <command
>server-switch-hook</command
></userinput
> et saisissez le nom de la fonction dans le champ de texte.</para>
	</listitem>
	<listitem>
	      <para
>Si vous avez modifié le contenu du tampon depuis votre dernier enregistrement, <application
>Emacs</application
> vous demandera : <computeroutput
>Revert buffer from file ...? (yes or no)</computeroutput
>. Il vous faudra sans doute toujours répondre <emphasis
>no</emphasis
> à ce point, car revenir en arrière signifie que le fichier est rechargé depuis le disque, <emphasis
>ce qui fera que toutes vos modifications depuis le dernier enregistrement seront perdus !</emphasis
></para>

	      <para
>La façon qu'a <command
>gnuclient</command
> de recharger discrètement le tampon modifié est sans doute meilleure &mdash; ajoutez les lignes suivantes à votre fichier <filename
>.emacs</filename
> pour émuler le comportement de <command
>gnuclient</command
> avec <command
>emacsclient</command
> :</para>

<programlisting
>(defadvice server-visit-files (around save-buffers last activate)
  "Try to emulate gnuclient behavior with emacsclient.
Works only for visiting one buffer at a time."
  (let* ((filen (car (car (ad-get-arg 0))))
         (buf (get-file-buffer filen))
         (this-buf-modified-p nil))
    ;;; the following is copied from server-visit-files, with
    ;;; a modification for the `verify-visited-file-modtime' test
    (if (and buf (set-buffer buf))
        (if (file-exists-p filen)
            ;;; if the file has changed on disk, reload it
            ;;; using `find-file-noselect'
            (if (not (verify-visited-file-modtime buf))
                (progn
                  (find-file-noselect filen)
                  ;;; if user answered `no', reset modtime anyway
                  ;;; so that server-visit-files doesn't realize the
                  ;;; difference:
                  (set-visited-file-modtime)))
          ;;; if file exists no longer, we let server-visit-files
          ;;; deal with that
          t)
      (setq buf (find-file-noselect filen)))
    (setq this-buf-modified-p (buffer-modified-p buf))
    (set-buffer buf)
    (set-buffer-modified-p nil)
    ad-do-it
    (set-buffer-modified-p this-buf-modified-p)))

</programlisting>

        </listitem>
      </itemizedlist>
      </tip>
    </section>


    <section id="editor-setup-kate">
      <title
>&kate;</title
> 

      <para
>Malheureusement, l'éditeur &kate; de &kde; ne gère pas très bien la liaison au document source.  À chaque fois que vous cliquez avec le &BCS; dans le fichier &DVI;, une nouvelle instance de &kate; s'ouvre, même si &kate; est déjà lancé, et même si le fichier TeX est déjà chargé. Encore pire : &kate; ne déplace pas le curseur au début du paragraphe.</para>
    </section>


    <section id="editor-setup-kile">
      <title
><application
>Kile</application
></title
> 

      <para
>L'éditeur LaTeX <application
>Kile</application
> gère très bien KDVI. Aucune configuration cupplémentaire n'est nécessaire. Vous pouvez trouver plus d'informations sur Kile sur la <ulink url="http://perso.club-internet.fr/pascal.brachet/kile"
>page web de Kile</ulink
>. </para>
    </section>


    <section id="editor-setup-nedit">
      <title
><application
>NEdit</application
></title>

      <para
><application
>NEdit</application
> fonctionne généralement très bien. En cliquant dans le fichier &DVI; on ouvre une nouvelle fenêtre. Si le fichier TeX est déjà utilisé dans une autre fenêtre <application
>NEdit</application
>, la nouvelle fenêtre ouverte affiche une nouvelle vue du tampon. Sinon, le fichier TeX est chargé. Après avoir ouvert la fenêtre, <application
>NEdit</application
> met en évidence la première ligne du paragraphe approprié.</para>
      <tip>
      <procedure>
        <step>
          <para
>Assurez-vous que <application
>NEdit</application
> est installé. Essayez de démarrer <command
>nedit</command
> depuis la ligne de commande .</para>
        </step>
        <step>
          <para
>&kdvi; utilise la commande <command
>ncl</command
> pour téléguider <application
>NEdit</application
>. Assurez-vous que <command
>ncl</command
> est disponible sur une ligne de commande en essayant la commande <userinput
><command
>ncl</command
> <parameter
>-noask</parameter
></userinput
>. Cela devrait ouvrir une instance de l'éditeur <application
>NEdit</application
>. Si <command
>ncl</command
> n'est pas disponible, c'est peut-être que vous utilisez une version ancienne de <application
>NEdit</application
>. Si c'est le cas, il vous faut soit la mettre à jour vers une version plus récente, soit utiliser l'option <guilabel
>Éditeur choisi par l'utilisateur</guilabel
> dans la boîte de dialogue de <guilabel
>Configuration</guilabel
>.</para>
        </step>
      </procedure>
      </tip>
    </section>

    <section id="editor-setup-xemacs">
      <title
><application
>XEmacs</application
></title>

      <para
><application
>XEmacs</application
> fonctionne bien avec &kdvi;. Le comportement effectif de <application
>XEmacs</application
> dépend largement de la configuration. Comme d'habitude, vous pouvez complètement personnaliser <application
>XEmacs</application
>, si vous vous sentez d'attaque pour vous mesurer au code Lisp.</para>

      <para
>&kdvi; utilise le programme <command
>gnuclient</command
> pour téléguider <application
>XEmacs</application
>.</para>
      <important>
        <para
>Le programme <command
>gnuclient</command
> suppose que <application
>XEmacs</application
> est lancé, et que le programme <application
>gnuserv</application
> est démarré à l'intérieur de <application
>XEmacs</application
>. La liaison au document source ne fonctionnera pas tant que vous n'aurez pas lancé à la fois <application
>XEmacs</application
> et <application
>gnuserv</application
>.</para>
      </important>

      <para
>Pour lancer le programme <application
>gnuserv</application
>, vous pouvez utiliser une des méthodes suivantes :</para>
      <itemizedlist>
        <listitem>
          <para
>Dans <application
>XEmacs</application
>, démarrez <application
>gnuserv</application
> en saisissant <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>gnuserv-start</command
></userinput
></para>
        </listitem>
        <listitem>
          <para
>Ajoutez la ligne <programlisting>

    (gnuserv-start)

</programlisting
> à votre fichier <filename
>.xemacs</filename
>. Si vous utilisez une version plus récente de <application
>XEmacs</application
>, <filename class="directory"
>.xemacs</filename
> sera un dossier. Dans ce cas, vous devrez ajouter cette ligne au fichier <filename
>.xemacs/init.el</filename
>. Redémarrez ensuite <application
>XEmacs</application
></para>
        </listitem>
      </itemizedlist>

      <para
>Si vous ne voulez pas ouvrir une nouvelle zone de texte à chaque fois que l'éditeur est appelé, et si vous souhaitez que la zone de texte soit mise en premier plan automatiquement, configurez <quote
>Gnuserv Frame</quote
> pour qu'il utilise la zone sélectionnée (<foreignphrase
>Use selected frame</foreignphrase
>), et ajoutez la fonction <function
>raise-frame</function
> à la fonction d'appel en retour suite à une visite (<foreignphrase
>Visit Hook</foreignphrase
>). Pour ce faire, tapez <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>customize-group</command
> <keycap
>RET</keycap
> <command
>gnuserv</command
></userinput
>.</para>

      <tip>
        <itemizedlist>
          <listitem>
              <para
>Assurez-vous que <application
>XEmacs</application
> est installé. Essayez de lancer <command
>xemacs</command
> depuis la ligne de commande.</para>
          </listitem>
        <listitem>
              <para
>&kdvi; utilise la commande <application
>gnuserv</application
> pour téléguider <application
>XEmacs</application
>. Assurez-vous que <command
>gnuclient</command
> est disponible sur une ligne de commande en essayant la commande <userinput
><command
>gnuclient</command
> <parameter
>Nom d'un fichier texte</parameter
></userinput
>. Cela devrait ouvrir une nouvelle zone d'édition dans l'éditeur <application
>XEmacs</application
>.</para>
        </listitem>
        <listitem>
              <para
>Si <application
>gnuserv</application
> échoue avec un message d'erreur du type <computeroutput
>unable to connect to local</computeroutput
>, assurez-vous que <application
>XEmacs</application
> est lancé. De plus, assurez-vous que <application
>gnuserv</application
> est lancé en saisissant <userinput
><keycombo action="seq"
><keycap
>M</keycap
><keycap
>X</keycap
></keycombo
> <command
>gnuserv-start</command
></userinput
>.</para>
        </listitem>
        <listitem>
              <para
>Si vous ne voulez pas ouvrir une nouvelle zone de texte à chaque fois que l'éditeur est appelé, et si vous souhaitez que la zone de texte soit mise en premier plan automatiquement, configurez <quote
>Gnuserv Frame</quote
> pour qu'il utilise la zone sélectionnée (<foreignphrase
>Use selected frame</foreignphrase
>), et ajoutez la fonction <quote
>raise-frame</quote
> à la fonction d'appel en retour suite à une visite (<foreignphrase
>Visit Hook</foreignphrase
>). Pour ce faire, tapez <userinput
><keycombo action="simul"
><keycap
>M</keycap
><keycap
>x</keycap
></keycombo
> <command
>customize-group</command
> <keycap
>RET</keycap
> <command
>gnuserv</command
></userinput
>.</para>
        </listitem>
      </itemizedlist>
      </tip>
    </section>

    <section id="editor-setup-gvim">
      <title
><application
>VI iMproved</application
> / &GUI;</title>

      <para
>&kdvi; supporte <command
>vim</command
>, mais le résultat n'est pas palpitant. À chaque fois que vous cliquez avec le &BCS; dans le fichier &DVI;, une nouvelle instance de <command
>vim</command
> s'ouvre, même si <command
>vim</command
> est déjà lancé, et même si le fichier TeX est déjà chargé.</para>
      <tip>
      <itemizedlist>
        <listitem>
          <para
>Assurez-vous que <application
>VIM/GUI</application
> est installé. Essayez de démarrer <command
>gvim</command
> depuis la ligne de commande.</para>
        </listitem>
      </itemizedlist>
      </tip>
    </section>
    </section>

  </chapter>


  <chapter id="forward-search">
    <title
>La liaison au document généré</title>

    <para
>Les fonctions de liaison au document généré vous permettent de sauter directement depuis votre éditeur à la position associée dans le fichier &DVI;. Comme la liaison au document généré doit être gérée par votre éditeur, seuls <application
>Emacs</application
> et <application
>XEmacs</application
> peuvent être utilisés pour le moment. Avec un peu de chance, d'autres éditeurs rejoindront prochainement cette liste.</para>

    <para
>Pour utiliser la liaison au document généré, procédez comme suit :</para>
    <itemizedlist>
      <listitem>
        <para
>Configurez votre éditeur &mdash; c'est décrit plus loin.</para>
      </listitem>
      <listitem>
        <para
>Ajoutez des informations sur le fichier source à votre fichier &DVI;, &pex; en utilisant le paquetage <command
>srcltx</command
>. Cela a été décrit dans la section <link linkend="inverse-search-tex"
>Comment produire des fichiers TeX pour la liaison au document source</link
>.</para>
      </listitem>
      <listitem>
        <para
>Si vous utilisez <application
>Emacs</application
> et si tout est correctement configuré, il suffit de saisir <userinput
><keycombo action="simul"
>&Ctrl;<keycap
>X</keycap
></keycombo
> <keycombo action="simul"
>&Ctrl;<keycap
>J</keycap
> </keycombo
></userinput
>, et &kdvi; apparaît et se rend à l'endroit correspondant à l'emplacement du fichier TeX en cours d'édition.</para>
      </listitem>
    </itemizedlist>

    <section id="forward-search-editor">
      <title
>Comment configurer votre éditeur pour la liaison au document généré</title>
      
      <section id="forw-editor-setup-emacs">
        <title
><application
>Emacs</application
></title>
        
        <para
>Pour pouvoir utiliser la liaison au document généré dans <application
>Emacs</application
>, procédez comme suit :</para>

        <itemizedlist>
          <listitem>
                <para
>Téléchargez le script <application
>Emacs</application
> nommé <ulink url="kdvi-search.el"
><filename
>kdvi-search.el</filename
></ulink
> (appuyez sur &Maj; et cliquez avec le &BGS; sur le nom de fichier à télécharger) et enregistrez-le à un endroit où <application
>Emacs</application
> peut accéder &mdash; nous recommandons un dossier <filename class="directory"
>emacs-scripts</filename
>.</para>
          </listitem>
          <listitem>
            <para
>Ajoutez les lignes <programlisting>
(add-to-list 'load-path (expand-file-name "~/emacs-scripts/"))
(require 'kdvi-search)
(add-hook 'LaTeX-mode-hook (lambda () (local-set-key "\C-x\C-j" 'kdvi-jump-to-line)))
(add-hook 'tex-mode-hook (lambda () (local-set-key "\C-x\C-j" 'kdvi-jump-to-line)))
</programlisting
> à votre fichier <filename
>.emacs</filename
>. Redémarrez <application
>Emacs</application
>.</para>
          </listitem>

          <listitem>
            <para
>Ouvrez <application
>Emacs</application
>, chargez un fichier TeX, produisez le fichier &DVI; correspondant, et soit saisissez la commande <userinput
><keycombo action="simul"
><keycap
>M</keycap
><keycap
>x</keycap
> </keycombo
><command
>kdvi-jump-to-line</command
></userinput
> ou appuyez <userinput
><keycombo action="seq"
><keycombo action="simul"
>&Ctrl;<keycap
>X</keycap
></keycombo
> <keycombo action="simul"
>&Ctrl;<keycap
>J</keycap
></keycombo
> </keycombo
></userinput
>. Il se peut que <application
>Emacs</application
> vous demande le nom d'un fichier principal (<foreignphrase
>master file</foreignphrase
>). C'est pour le cas où vous utilisez un fichier TeX qui appelle d'autres fichiers : le fichier principal est le fichier de plus haut niveau qui inclut les autres. <application
>Emacs</application
> demandera peut-être aussi à enregistrer le nom du fichier principal <quote
>en tant que variable locale</quote
>, &cad; comme un commentaire tout à la fin du fichier. Répondez soit <userinput
>yes</userinput
> soit <userinput
>no</userinput
>.</para
> 
            </listitem>
        </itemizedlist>

        <tip>
          <itemizedlist>
            <listitem>
              <para
>Assurez-vous que <application
>Emacs</application
> est installé. Essayez de lancer <command
>emacs</command
> depuis la ligne de commande.</para>
            </listitem>
            <listitem>
              <para
>Si <application
>Emacs</application
> n'arrive pas à lancer &kdvi;, vous pouvez trouver ce qu'il a affiché dans le tampon <guilabel
>kdvi-output</guilabel
>.</para>
            </listitem>
          </itemizedlist>
        </tip>
      </section>

      <section id="forw-editor-setup-kile">
        <title
><application
>Kile</application
></title>
                <para
>Si vous utilisez Kile, il n'y a rien d'autre à configurer. </para>
      </section>

      <section id="forw-editor-setup-xemacs">
        <title
><application
>XEmacs</application
></title>
        
        <para
>Pour configurer <application
>XEmacs</application
>, suivez les mêmes étapes que pour <application
>Emacs</application
> décrites <link linkend="forw-editor-setup-emacs"
>auparavant</link
>, mais modifiez votre fichier <filename
>.xemacs</filename
> au lieu de <filename
>.emacs</filename
>. Si vous utilisez une version très récente de <application
>XEmacs</application
>, <filename class="directory"
>.xemacs</filename
> pourrait être un dossier. Si c'était le cas, ajoutez les lignes à <filename
>.xemacs/init.el</filename
>. </para>
      </section>

    </section>

  </chapter>

  <chapter id="preferences">
    <title
>La boîte de dialogue de <guilabel
>Configuration</guilabel
></title>
    <anchor id="opts"
></anchor>

    <para
>La boîte de dialogue de <guilabel
>Configuration</guilabel
> s'obtient en choisissant <guimenuitem
>Options DVI</guimenuitem
> dans le menu <guimenu
>Configuration</guimenu
>.</para>

    <para
>La boîte de dialogue est formée de deux onglets, <guilabel
>Polices</guilabel
> et <guilabel
>Spécificités DVI</guilabel
>.</para>

    <sect1 id="opt-fonts">
      <title
>Les options liées aux <guilabel
>Polices</guilabel
></title>

      <para
>La figure suivante montre la boîte de dialogue d'options de &kdvi;.</para>

      <screenshot>
        <screeninfo
>L'onglet des <guilabel
>Polices</guilabel
></screeninfo>
        <mediaobject>
          <imageobject>
            <imagedata fileref="optionrequester1.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase
>L'onglet des <guilabel
>Polices</guilabel
></phrase>
          </textobject>
        </mediaobject
>        
      </screenshot>

      <variablelist>
        <varlistentry>
          <term
><guilabel
>Mode Metafont :</guilabel
> </term>
          <listitem>
            <para
>Ces options spécifient les polices que &kdvi; utilisera pour effectuer le rendu. Il est possible d'améliorer l'affichage en optimisant soigneusement ici la configuration. Toutefois, il n'est pas recommandé de modifier ces options à moins d'être un expert en <command
>MetaFont</command
> et de savoir ce que vous faites. Il peut être utile à ce sujet de consulter la section de la <link linkend="mfmodes"
>foire aux questions</link
> de ce manuel.</para>

            <para
>Des valeurs a priori correctes sont <guilabel
>1200 dpi / Lexmark</guilabel
> pour une bonne qualité, ou <guilabel
>600 dpi / LaserJet 4</guilabel
> pour une qualité moyenne et un affichage plus rapide.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term
><guilabel
>Générer les polices manquantes</guilabel
></term>
          <listitem>
            <para
>Cochez cette case si vous désirez que &kdvi; appelle le programme <command
>MetaFont</command
> dans le cas probable où &kdvi; doit afficher des documents qui utilisent des polices qui ne sont pas prêtes à l'emploi. Il est très probablement souhaitable d'activer cette option.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect1>

    <sect1 id="opt-rendering">
      <title
>Les options liées aux <guilabel
>Spécificités DVI</guilabel
></title>

      <para
>La figure suivante montre la seconde boîte de dialogue d'options de &kdvi;.</para>

      <screenshot>
        <screeninfo
>L'onglet des <guilabel
>Spécificités DVI</guilabel
></screeninfo>
        <mediaobject>
          <imageobject>
            <imagedata fileref="optionrequester2.png" format="PNG"/></imageobject>
          <textobject>
            <phrase
>L'onglet des <guilabel
>Spécificités DVI</guilabel
></phrase>
          </textobject>
        </mediaobject>
      </screenshot>

      <variablelist>
        <varlistentry>
          <term
><guilabel
>Afficher les particularités PostScript</guilabel
></term>
          <listitem>
            <para
>Si cette option est cochée, &kdvi; affichera les images &PostScript; contenues dans le fichier &DVI;. Il est en général souhaitable d'activer cette option.</para>

            <para
>Si un fichier &PostScript; externe n'a pas pu être trouvé, &kdvi; affichera en rouge une zone d'avertissement à la place. Malheureusement, le rendu des images &PostScript; est très lent dans la version actuelle de &kdvi;. Nous améliorerons la vitesse dans des versions ultérieures. Si cette option n'est pas validée, soit &kdvi; mettre une zone grise en remplacement des images, soit il laissera l'espace en blanc.</para>

            <note>
              <para
>Il n'y a pas de façon standard d'encapsuler des images &PostScript; dans un fichier &DVI;. Il se peut donc que &kdvi; ne puisse pas afficher correctement une image qui apparaît correctement avec d'autres programmes. Des versions plus anciennes de <command
>xdvi</command
> et de <command
>dvips</command
> supportent l'exécution de commandes.externes. Cela constitue une faille de sécurité regrettable et cela n'a délibérément pas été implémenté dans &kdvi;. Pour obtenir des informations techniques sur les façons d'inclure du &PostScript; gérées par &kdvi;, reportez-vous au document <filename
>KDVI-features.dvi</filename
>.</para>
            </note>

          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term
><guilabel
>Afficher les hyperliens</guilabel
></term>
          <listitem>
            <para
>Cochez cette case si vous désirez que &kdvi; affiche les liens hypertexte. Les bouts de texte concernés seront soulignés en bleu. Il est probablement souhaitable que cette option soit activée.</para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term
><guilabel
>Éditeur pour la liaison au document source</guilabel
></term>
          <listitem>
            <para
>Si vous comptez utiliser <link linkend="inverse-search"
>la liaison au document source</link
>, une fonctionnalité très utile si vous écrivez des documents TeX vous-même, il vous faut indiquer quel éditeur vous comptez utiliser, et comment l'éditeur peut être lancé par &kdvi;. Dans l'exemple fourni, l'utilisateur s'est décidé en faveur de l'éditeur <application
>NEdit</application
>. Si vous utilisez un des éditeurs préconfigurés proposés dans la liste déroulante <guilabel
>Éditeur</guilabel
>, alors il n'y a rien d'autre à faire. Si vous souhaitez utiliser un autre éditeur, choisissez <guilabel
>Éditeur choisi par l'utilisateur</guilabel
> dans la liste déroulante <guilabel
>Éditeur :</guilabel
> et saisissez la ligne de commande qui servira à lancer votre éditeur. Vous pouvez utiliser les symboles <token
>%f</token
> et <token
>%l</token
> qui seront respectivement remplacés par le nom du fichier TeX et la ligne dans ce fichier TeX.</para>

            <para
>Si vous utilisez un éditeur non répertorié, veuillez envoyer un courrier électronique à <email
>kebekus@kde.org</email
> pour nous indiquer la ligne de commande que vous utilisez ainsi que la façon dont vous avez configuré votre éditeur.</para>
          </listitem>
        </varlistentry>
      </variablelist>

    </sect1>
  </chapter>

  <chapter id="faq">
    <title
>Foire aux questions</title>

    <qandaset>
      <qandaentry>
        <question id="fontgen">
          <para
>Que se passe-t-il quand &kdvi; affiche le message <computeroutput
>Génération des polices de caractères bitmap en cours...</computeroutput
>, et pourquoi cette procédure prend-elle autant de temps ?</para>
        </question>
        <answer>
          <para
>La plupart des polices généralement utilisées dans un document TeX doivent être générées par le système MetaFont. Metafont est un langage semblable à TeX (fourni avec la plupart des distributions de TeX) qui prend une description des contours de la police et en produit une version point par point (fichier <literal role="extension"
>.pk</literal
>) pouvant être envoyée à l'imprimante ou utilisée dans un programme de préaffichage comme &kdvi;. Metafont tente de produire le meilleur résultat possible pour votre imprimante. Par exemple, il sait qu'un pixel sur une imprimante à jet d'encre est une tache arrondie, et que les pixels voisins tendent à se fondre les uns dans les autres, alors qu'un pixel sur une imprimante laser est rectangulaire, et qu'un pixel isolé n'est souvent pas rendu du tout.</para>

          <para
>Le fait de générer des polices en mode point prend naturellement beaucoup de temps, d'autant plus que la plupart des documents TeX utilise un grand nombre de polices différentes. Nous ne pouvons que faire appel à votre patience. Toutefois, pour limiter le problème, la plupart des distributions de TeX conservent les fichiers <literal role="extension"
>.pk</literal
> pendant une période limitée, &pex; 100 jours. Par conséquent, si vous accédez plusieurs fois au même document, les fichiers <literal role="extension"
>.pk</literal
> seront réutilisés.</para>
        </answer>
      </qandaentry>

      <qandaentry>
        <question id="mfmodes">
          <para
>Que trouve-t-on dans un fichier MetaFont ?</para>
        </question>
        <answer>
          <para
>Pour produire des polices en mode point optimisées pour votre imprimante (cf la réponse à la première question), Metafont est fourni avec une base de données de moteurs d'impression &mdash; essayez de trouver le fichier <filename
>modes.mf</filename
>. Un mode Metafont est juste le nom d'un élément de cette base de données. Par exemple, le nom <quote
>ljfour</quote
> se rapporte à l'élément de la base de données décrivant une imprimante &Hewlett-Packard; LaserJet 4. Un mode MetaFont est d'habitude suivi par un nombre, la résolution. La LaserJet, par exemple, peut imprimer à la fois en 300 et en 600 points par pouce. Ainsi, <quote
>ljfour/600</quote
> est un exemple de description complète.</para>
        </answer>
      </qandaentry>

    </qandaset>
  </chapter>


  <chapter id="credits-and-license">
    <title
>Remerciements et licences</title>

    <para
>&kdvi;</para>

    <para
>&kdvi; est basé sur le programme autonome &kdvi; 0.4.3 de Markku Hihnala. Ce programme est à son tour basé sur <application
>xdvi</application
> version 18f écrit par plusieurs auteurs différents.</para>

    <para
>Documentation copyright 2001 Stefan Kebekus <email
>kebekus@kde.org</email
></para>

    <para
>Traduction française par &EricBischoff;.</para
> 
&underGPL; &underFDL; </chapter>
    
&documentation.index;

</book>
<!--
Local Variables:
mode: sgml
sgml-omittag: nil
sgml-shorttag: t
End:
-->

