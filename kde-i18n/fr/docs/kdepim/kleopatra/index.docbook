<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN" "dtd/kdex.dtd" [
  <!ENTITY kleopatra "<application
>Kleopatra</application
>">
  <!ENTITY kwatchgnupg "<application
>KWatchGnuPG</application
>">
  <!ENTITY gpgsm "<application
>GpgSM</application
>">
  <!ENTITY gpg "<application
>GPG</application
>">
  <!ENTITY gpgconf "<application
>GpgConf</application
>">
  <!ENTITY kappname "&kleopatra;">
  <!ENTITY package "kdepim">
  <!ENTITY % addindex "IGNORE">
  <!ENTITY % French "INCLUDE">

  <!ENTITY dn "<acronym
>DN</acronym
>">
  <!ENTITY ca "<acronym
>CA</acronym
>">

  <!-- FILE menu -->
  <!ENTITY file-new-key-pair "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>New Key Pair...</guimenuitem
></menuchoice
>">
  <!ENTITY file-export-certificates "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Export Certificates...</guimenuitem
></menuchoice
>">
  <!ENTITY file-export-secret-key "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Export Secret key...</guimenuitem
></menuchoice
>">
  <!ENTITY file-import-certificates "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Import Certificates...</guimenuitem
></menuchoice
>">
  <!ENTITY file-import-crls "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Import CRLs...</guimenuitem
></menuchoice
>">
  <!ENTITY file-quit "<menuchoice
><shortcut
><keycombo action='simul'
>&Ctrl;<keycap
>Q</keycap
></keycombo
></shortcut
><guimenu
>File</guimenu
><guimenuitem
>Quit</guimenuitem
></menuchoice
>">

  <!-- VIEW menu -->
  <!ENTITY view-redisplay "<menuchoice
><shortcut
><keycombo action='simul'
><keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Redisplay</guimenuitem
></menuchoice
>">
  <!ENTITY view-stop-operation "<menuchoice
><shortcut
><keycombo action='simul'
><keycap
>Esc</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Stop Operation</guimenuitem
></menuchoice
>">
  <!ENTITY view-certificate-details "<menuchoice
><guimenu
>View</guimenu
><guimenuitem
>Certificate Details...</guimenuitem
></menuchoice
>">
  <!ENTITY view-hierarchical-key-list "<menuchoice
><guimenu
>View</guimenu
><guimenuitem
>Hierarchical Key List</guimenuitem
></menuchoice
>">
  <!ENTITY view-expand-all "<menuchoice
><shortcut
><keycombo action='simul'
>&Ctrl;<keycap
>.</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Expand All</guimenuitem
></menuchoice
>">
  <!ENTITY view-collapse-all "<menuchoice
><shortcut
><keycombo action='simul'
>&Ctrl;<keycap
>,</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Collapse All</guimenuitem
></menuchoice
>">

  <!-- CERTIFICATES menu -->
 <!ENTITY certificates-validate "<menuchoice
><shortcut
><keycombo action='simul'
>&Shift;<keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>Certificates</guimenu
><guimenuitem
>Validate</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-refresh-crls "<menuchoice
><guimenu
>Certificates</guimenu
><guimenuitem
>Refresh CRLs</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-delete "<menuchoice
><shortcut
><keycombo action='simul'
><keycap
>Delete</keycap
></keycombo
></shortcut
><guimenu
>Certificates</guimenu
><guimenuitem
>Delete</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-download "<menuchoice
><guimenu
>Certificates</guimenu
><guimenuitem
>Download</guimenuitem
></menuchoice
>">

  <!-- CRLS menu -->
  <!ENTITY crls-clear-crl-cache "<menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Clear CRL Cache...</guimenuitem
></menuchoice
>">
  <!ENTITY crls-dump-crl-cache "<menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Dump CRL Cache...</guimenuitem
></menuchoice
>">

  <!-- TOOLS menu -->
  <!ENTITY tools-gnupg-log-viewer "<menuchoice
><guimenu
>Tools</guimenu
><guimenuitem
>GnuPG Log Viewer...</guimenuitem
></menuchoice
>">

  <!-- SETTINGS menu -->
  <!ENTITY settings-show-statusbar "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Show Statusbar</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-shortcuts "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure Shortcuts...</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-kleopatra "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure &kleopatra;...</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-gpgme-backend "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure GpgME Backend...</guimenuitem
></menuchoice
>">

  <!-- Command line options -->
  <!ENTITY commandline-option-external "<option
>--external</option
>">
  <!ENTITY commandline-option-query "<option
>--query</option
>">
  <!ENTITY commandline-option-import-certificate "<option
>--import-certificate</option
>">


  <!ENTITY kleopatra "<application>Kleopatra</application>">
  <!ENTITY kwatchgnupg "<application>KWatchGnuPG</application>">
  <!ENTITY gpgsm "<application>GpgSM</application>">
  <!ENTITY gpg "<application>GPG</application>">
  <!ENTITY gpgconf "<application>GpgConf</application>">
  <!ENTITY nd "<acronym>ND</acronym>">
  <!ENTITY ac "<acronym>AC</acronym>">

  <!-- FILE menu -->
  <!ENTITY fichier-nouvelle-paire-cles "<menuchoice><guimenu>Fichier</guimenu><guimenuitem>Nouvelle paire de clés...</guimenuitem></menuchoice>">
  <!ENTITY fichier-exporter-certificats "<menuchoice><guimenu>Fichier</guimenu><guimenuitem>Exporter des certificats...</guimenuitem></menuchoice>">
  <!ENTITY fichier-exporter-cle-secrete "<menuchoice><guimenu>Fichier</guimenu><guimenuitem>Exporter une clé secrète...</guimenuitem></menuchoice>">
  <!ENTITY fichier-importer-certificats "<menuchoice><guimenu>Fichier</guimenu><guimenuitem>Importer des certificats...</guimenuitem></menuchoice>">
  <!ENTITY fichier-importer-lrcs "<menuchoice><guimenu>Fichier</guimenu><guimenuitem>Importer des LRC...</guimenuitem></menuchoice>">
  <!ENTITY fichier-quitter "<menuchoice><shortcut><keycombo action='simul'>&Ctrl;<keycap>Q</keycap></keycombo></shortcut><guimenu>Fichier</guimenu><guimenuitem>Quitter</guimenuitem></menuchoice>">

  <!-- VIEW menu -->
  <!ENTITY affichage-reafficher "<menuchoice><shortcut><keycombo action='simul'><keycap>F5</keycap></keycombo></shortcut><guimenu>Afficher</guimenu><guimenuitem>Réafficher</guimenuitem></menuchoice>">
  <!ENTITY affichage-arret-operation "<menuchoice><shortcut><keycombo action='simul'><keycap>Échap</keycap></keycombo></shortcut><guimenu>Afficher</guimenu><guimenuitem>Arrêter l'opération</guimenuitem></menuchoice>">
  <!ENTITY affichage-certificat-details "<menuchoice><guimenu>Afficher</guimenu><guimenuitem>Détails des certificats...</guimenuitem></menuchoice>">
  <!ENTITY affichage-liste-cles-hierarchique "<menuchoice><guimenu>Afficher</guimenu><guimenuitem>Liste de clés hiérarchique</guimenuitem></menuchoice>">
  <!ENTITY affichage-tout-developper "<menuchoice><shortcut><keycombo action='simul'>&Ctrl;<keycap>.</keycap></keycombo></shortcut><guimenu>Afficher</guimenu><guimenuitem>Tout développer</guimenuitem></menuchoice>">
  <!ENTITY affichage-tout-reduire "<menuchoice><shortcut><keycombo action='simul'>&Ctrl;<keycap>,</keycap></keycombo></shortcut><guimenu>Afficher</guimenu><guimenuitem>Tout réduire</guimenuitem></menuchoice>">

  <!-- CERTIFICATES menu -->
  <!ENTITY certificats-valider "<menuchoice><shortcut><keycombo action='simul'>&Maj;<keycap>F5</keycap></keycombo></shortcut><guimenu>Certificats</guimenu><guimenuitem>Valider</guimenuitem></menuchoice>">
  <!ENTITY certificats-rafraichir-lrcs "<menuchoice><guimenu>Certificats</guimenu><guimenuitem>Rafraîchir les LRC</guimenuitem></menuchoice>">
  <!ENTITY certificats-supprimer "<menuchoice><shortcut><keycombo action='simul'><keycap>Suppr</keycap></keycombo></shortcut><guimenu>Certificats</guimenu><guimenuitem>Supprimer</guimenuitem></menuchoice>">
  <!ENTITY certificats-telecharger "<menuchoice><guimenu>Certificats</guimenu><guimenuitem>Télécharger</guimenuitem></menuchoice>">

  <!-- CRLS menu -->
  <!ENTITY lrcs-effacer-cache-lrc "<menuchoice><guimenu>LRC</guimenu><guimenuitem>Effacer le cache de LRC...</guimenuitem></menuchoice>">
  <!ENTITY lrcs-vider-cache-lrc "<menuchoice><guimenu>LRC</guimenu><guimenuitem>Vider le cache de LRC...</guimenuitem></menuchoice>">

  <!-- TOOLS menu -->
  <!ENTITY outils-afficheur-journaux-gnupg "<menuchoice><guimenu>Tools</guimenu><guimenuitem>Afficheur de journaux GnuPG...</guimenuitem></menuchoice>">

  <!-- SETTINGS menu -->
  <!ENTITY configuration-afficher-barre-etat "<menuchoice><guimenu>Configuration</guimenu><guimenuitem>Afficher la barre d'état</guimenuitem></menuchoice>">
  <!ENTITY configuration-configurer-raccourcis "<menuchoice><guimenu>Configuration</guimenu><guimenuitem>Configurer les raccourcis...</guimenuitem></menuchoice>">
  <!ENTITY configuration-configurer-kleopatra "<menuchoice><guimenu>Configuration</guimenu><guimenuitem>Configurer &kleopatra;...</guimenuitem></menuchoice>">
  <!ENTITY configuration-configurer-gpgme-interface "<menuchoice><guimenu>Configuration</guimenu><guimenuitem>Configurer l'interface GpgME...</guimenuitem></menuchoice>">

  <!-- Command line options -->
  <!ENTITY ligne-commande-option-externe "<option>--external</option>">
  <!ENTITY ligne-commande-option-requete "<option>--query</option>">
  <!ENTITY ligne-commande-option-importer-certificat "<option>--import-certificate</option>">

]>

<book lang="&language;">

<bookinfo>
<title
>Manuel de &kleopatra;</title>

<authorgroup>
<author
><firstname
>Marc</firstname
> <surname
>Mutz</surname
> <affiliation
> <address
><email
>marc@klaralvdalens-datakonsult.se</email
></address>
</affiliation>
</author>

<othercredit role="developer"
><firstname
>David</firstname
> <surname
>Faure</surname
> <contrib
>Développeur</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Steffen</firstname
> <othername
></othername
> <surname
>Hansen</surname
> <affiliation
> <address
><email
>steffen@klaralvdalens-datakonsult.se</email
></address>
</affiliation>
<contrib
>Développeur</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Matthias Kalle</firstname
> <surname
>Dalheimer</surname
> <contrib
>Développeur</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Jesper</firstname
> <surname
>Pedersen</surname
> <affiliation
> <address
><email
>blackie@kde.org</email
></address>
</affiliation>
<contrib
>Développeur</contrib>
</othercredit>
<othercredit role="developer"
><firstname
>Daniel</firstname
> <surname
>Molkentin</surname
> <affiliation
> <address
><email
>molkentin@kde.org</email
></address>
</affiliation>
<contrib
>Développeur</contrib>
</othercredit>

&traducteurJoelleCornavin; 
</authorgroup>

<legalnotice
>&GPLNotice;</legalnotice>

<date
>2004-06-11</date>
<releaseinfo
>0.31</releaseinfo>

<abstract>
<para
>&kleopatra; est un outil permettant de gérer les certificats X.509. </para>
</abstract>


<keywordset>
<keyword
>KDE</keyword>
<keyword
>Kapp</keyword>
<keyword
>X509</keyword>
<keyword
>LDAP</keyword>
<keyword
>gpg</keyword>
<keyword
>gpgsm</keyword>
</keywordset>

</bookinfo>

<chapter id="introduction"
> <title
>Introduction</title
> 

<para
>&kleopatra; est l'outil de &kde; permettant de gérer les certificats X.509 dans le trousseau &gpgsm; et de récupérer des certificats sur des serveurs <acronym
>LDAP</acronym
>.</para>

<para
>Vous pouvez démarrer &kleopatra; dans le menu <guimenu
>Outils</guimenu
> de KMail ainsi que sur la ligne de commande. L'exécutable &kleopatra; est appelé <userinput
><command
>kleopatra</command
></userinput
>.</para>

<note
><para
>Ce programme tire son nom de Cléopâtre, une célèbre pharaonne égyptienne qui vivait du temps de Jules César, avec qui on lui prête une relation intime.</para>

<para
>Le choix du nom de ce programme vient des <ulink url="http://www.gnupg.org/aegypten2/"
>&Auml;gypten Projects</ulink
> (&Auml;gypten signifie Égypte en allemand). Kleopatra est l'orthographe allemande de Cléopâtre.</para
></note>

</chapter>

<chapter id="functions"
><title
>Fonctions principales</title>

<sect1 id="functions-view"
><title
>Afficher le trousseau local</title>

<!-- Viewing and Refreshing, also Validation -->

<para
>La fonction principale de &kleopatra; est d'afficher et de modifier le contenu du trousseau local, similaire au concept des trousseaux de clés de &gpg;, quoiqu'il ne faille pas trop forcer cette analogie.</para>

<para
>La fenêtre principale se compose de la grande zone de listage, la barre de menus et la <link linkend="functions-search"
>barre de recherche</link
> en haut, ainsi qu'une barre d'état en bas.</para>

<para
>Chaque ligne de la liste des clés correspond à un certificat, identifié par ce qu'on appelle le <guilabel
>&nd; du propriétaire</guilabel
>. &nd; est l'acronyme de <foreignphrase
>Distinguished Name</foreignphrase
> (« Nom Distinct »), un identifiant hiérarchique, tout comme le chemin d'un système de fichiers avec une syntaxe inhabituelle, censé identifier globalement et de façon unique un certificat donné.</para>

<para
>Pour être valables, donc utilisables, les clés (publiques) doivent être signées par une &ac; (<foreignphrase
>Certification Authority</foreignphrase
>, autorité de certification). Ces signatures sont appelées certificats, mais d'ordinaire les termes « certificat » et « clé (publique) ») s'utilisent de manière interchangeable : en conséquence, nous ne ferons pas de distinction entre elles dans ce manuel, sauf indication explicite. Le nom de l'&ac; qui a émis le certificat (c'est-à-dire le &nd;) est indiqué dans la colonne <guilabel
>ND de l'émetteur</guilabel
>.</para>

<para
>Pour être valables, les &ac;s doivent à leur tour être signées par d'autres &ac;s. Naturellement, l'opération doit prendre fin quelque part, de façon que l'&ac; de premier niveau (&ac; racine) signe sa clé avec elle-même (on parle alors d'auto-signature). Il faut donc affecter manuellement une validité (communément dénommée « confiance ») aux certificats racines, &pex; après avoir comparé l'empreinte digitale avec celle qui se trouve sur le site web de l'&ac;. Cette tâche est généralement dévolue à l'administrateur système ou au fabricant d'un produit faisant intervenir des certificats, mais peut être effectuée par l'utilisateur au moyen de l'interface en ligne de commande de &gpgsm;.</para>

<para
>Pour voir lesquels parmi les certificats sont des certificats racines, vous pouvez soit comparer <guilabel
>&nd; du propriétaire</guilabel
> et <guilabel
>&nd; de l'émetteur</guilabel
>, soit passer en mode liste de clés hiérarchique avec <xref linkend="view-hierarchical-key-list"/>.</para>

<para
>Vous pouvez voir les détails d'un certificat donné en double-cliquant dessus ou à l'aide de <xref linkend="view-certificate-details"/>. Une boîte de dialogue s'ouvre, qui affiche les propriétés les plus communes du certificat, sa chaîne de certificats (&cad; la chaîne des émetteurs jusqu'à l'&ac; racine) ainsi qu'un cliché de toutes les informations que l'interface est en mesure d'extraire du certificat.</para>

<para
>Si vous changez le trousseau sans faire appel à &kleopatra; (&pex; à l'aide de l'interface en ligne de commande de &gpgsm;), vous pouvez rafraîchir la vue avec <xref linkend="view-redisplay"/>.</para>

<para
>Du fait que la validation d'une clé risque de prendre du temps (&pex;, il se peut que les LRC (<foreignphrase
>Certificate Revocation Lists</foreignphrase
>, listes de révocation de certificats) doivent êtres récupérées), le listage normal des clés ne tente pas de contrôler la validité des clés. Pour ce faire, <xref linkend="certificates-validate"/>, une variante spéciale de <xref linkend="view-redisplay"/> est prévue. Elle contrôle les certificats sélectionnés ou toutes les clés si aucune n'est sélectionnée.</para>

</sect1>

<sect1 id="functions-search"
><title
>Rechercher et importer des certificats</title>

<para
>La plupart du temps, vous acquerrez de nouveaux certificats en en vérifiant les signatures dans les messages électroniques, puisque les certificats sont imbriqués dans les signatures créées en les utilisant le plus souvent. Cependant, si vous devez envoyer un message à quelqu'un avec qui vous n'avez pas encore eu de contact, il vous faut récupérer le certificat dans un répertoire LDAP (bien que &gpgsm; puisse le faire automatiquement) ou depuis un fichier. Vous devez également importer votre propre certificat après avoir reçu la réponse de l'&ac; votre requête de certification.</para>

<para
>Pour rechercher un certificat dans un annuaire LDAP, passez dans le menu déroulant de la barre de recherche, de <guilabel
>dans les certificats locaux</guilabel
> à <guilabel
>dans les certificats externes</guilabel
>, saisissez du texte (&pex; le nom de la personne dont vous souhaitez le certificat) dans la zone de saisie et cliquez sur l'icône <guilabel
>Chercher</guilabel
>. Le résultat sera affiché dans la liste des clés sous la barre de recherche, où vous pouvez sélectionner des certificats afin de les examiner avec <xref linkend="view-certificate-details"/> ou les télécharger avec <xref linkend="certificates-download"/> dans le trousseau local. Notez que vous pouvez aussi télécharger le certificat depuis la boîte de dialogue grâce au bouton <guilabel
>Importer en local</guilabel
>.</para>

<para
>Vous pouvez configurer la liste des serveurs LDAP pour faire une recherche dans la page <link linkend="configuration-directory-services"
><guilabel
>Services d'annuaires</guilabel
></link
> de la <link linkend="configuration"
>boîte de dialogue de configuration</link
> de &kleopatra;.</para>

<para
>Si vous avez reçu le certificat sous la forme d'un fichier, essayez <xref linkend="file-import-certificates"/>. &gpgsm; doit comprendre le format du fichier de certificat : reportez-vous au manuel de &gpgsm; pour obtenir une liste des formats de fichiers pris en charge.</para>

<para
>Si vous n'avez pas <link linkend="functions-newkey"
>créé votre paire de clés avec &gpgsm;</link
>, vous devez également importer manuellement la clé publique (ainsi que la clé secrète) à partir du fichier PKCS#12 que vous avez obtenu de l'&ac;. Utilisez pour ce faire la ligne de commande avec <link linkend="commandline-option-import-certificate"
><userinput
><command
>kleopatra &ligne-commande-option-importer-certificat; <filename
>nom_du_fichier</filename
></command
></userinput
></link
> ou dans &kleopatra; avec <xref linkend="file-import-certificates"/>, tout comme vous le feriez pour les certificats « normaux ».</para>

</sect1>

<sect1 id="functions-newkey"
><title
>Créer de nouvelles paires de clés</title>

<para
>L'élément de menu <xref linkend="file-new-key-pair"/> démarre l'assistant de création de requête de certificat qui vous guidera à travers un certain nombre d'étapes pour créer une requête de certificat ; cette requête peut, sur la dernière page de l'assistant, soit être envoyée à une autorité de certification (AC) pour être signée, soit enregistrée sur un fichier (&pex; sur une disquette, de sorte qu'elle peut être expédiée à l'AC).</para
> <para
>Chaque fois que vous avez terminé une étape dans l'assistant, cliquez sur <guibutton
>Suivant</guibutton
> pour passer à la suivante (ou sur <guibutton
>Précédent</guibutton
> pour revoir les étapes déjà achevées). La création de requête de certificat peut être annulée à tout moment en cliquant sur le bouton<guibutton
>Annuler</guibutton
>. </para>
<para
>Dans la première étape, l'assistant vous demande de saisir vos données personnelles pour le certificat. Les champs à renseigner sont : <itemizedlist>
<listitem>
<para
><guilabel
>Nom :</guilabel
> Votre nom ;</para>
</listitem>
<listitem>
<para
><guilabel
>Localité :</guilabel
> La ville où vous habitez ;</para>
</listitem>
<listitem>
<para
><guilabel
>Organisation :</guilabel
> L'organisation que vous représentez (&pex;, l'entreprise dans laquelle vous travaillez) ;</para>
</listitem>
<listitem>
<para
><guilabel
>Département :</guilabel
> L'unité organisationnelle dans laquelle vous êtes (&pex;, « Logistique ») ;</para
> 
</listitem>
<listitem>
<para
><guilabel
>Code du pays :</guilabel
> Le code à deux lettres du pays dans lequel vous résidez (&pex;, « FR » pour la France) ;</para>
</listitem>
<listitem>
<para
><guilabel
>Adresse électronique :</guilabel
> Votre adresse électronique ; prenez soin de la saisir correctement &mdash; ce sera l'adresse à laquelle vos correspondants envoient du courrier lorsqu'ils utilisent votre certificat.</para>
</listitem>
</itemizedlist>
</para
><para
>Dans l'étape suivante, l'assistant vous demande de choisir s'il doit enregister le certificat dans un fichier ou l'envoyer directement à une AC. Vous devrez spécifier le nom du fichier ou l'adresse électronique à laquelle envoyer la requête de certificat. </para
></sect1>


<sect1 id="functions-keybox-management"
><title
>Gestion du trousseau</title>

<para
>Outre les fonctions consistant à <link linkend="functions-view"
>lister et valider</link
>, <link linkend="functions-search"
>rechercher et importer</link
> des certificats et en <link linkend="functions-newkey"
>créer de nouveaux</link
>, &kleopatra; offre également quelques fonctions d'emploi moins fréquent qui vous aideront à gérer votre trousseau local.</para>

<para
>Ces fonctions comportent la suppression de certificats du trousseau local avec <xref linkend="certificates-delete"/>, sans oublier la gestion manuelle des LRC (<xref linkend="certificates-refresh-crls"/>, <xref linkend="crls-clear-crl-cache"/>, <xref linkend="crls-dump-crl-cache"/>).</para>

</sect1>

</chapter>

<chapter id="menu"
><title
>Référence des menus</title>

<sect1 id="menufile"
><title
>Menu Fichier</title>

<variablelist>

<varlistentry id="file-new-key-pair">
<term
>&fichier-nouvelle-paire-cles;</term>

<listitem>
<para
><action
>Crée une nouvelle paire de clés (publique et privée)</action
> et permet d'envoyer la partie publique à une autorité de certification (<acronym
>AC</acronym
>) pour signature. Le certificat qui en résulte vous est ensuite renvoyé ou enregistré dans un serveur LDAP pour que vous le téléchargiez dans votre trousseau local, où vous pouvez vous en servir pour signer et déchiffrer des messages.</para>

<para
>Ce mode de fonctionnement est appelé « génération décentralisée des clés » du fait que toutes les clés sont créées localement. &kleopatra; (et &gpgsm;) ne gèrent pas la « génération décentralisée des clés » directlement, mais vous pouvez importer le conditionnement clé publique/secrète que vous recevez de l'AC au format PKCS#12 <foreignphrase
>via</foreignphrase
> les certificats &fichier-importer-certificats;.</para>
</listitem>
</varlistentry>


<varlistentry id="file-export-certificates">
<term
>&fichier-exporter-certificats;</term>

<listitem>
<para
><action
>Exporte les certificats sélectionnés</action
> dans un fichier.</para>

<note
><para
>Cet élement n'exporte que les clés publiques, même si la clé secrète est disponible. Utillisez &fichier-exporter-cle-secrete; pour exporter à la fois les clés publique et privée dans un fichier, mais notez que ce comportement est généralement peu judicieux.</para
></note>
</listitem>
</varlistentry>


<varlistentry id="file-export-secret-key">
<term
>&fichier-exporter-cle-secrete;</term>

<listitem>
<para
><action
>Exporte à la fois la clé publique et la clé secrète dans un fichier (PKCS#12).</action
></para>

<warning
><para
>L'utilisation de cette fonction devrait rarement être rarement nécessaire, mais s'il faut l'envisager, la prudence est de mise. Planifier la migration d'une clé secrète implique le choix des supports de transport et une suppression sécurisée des données-clés présentes sur l'ancienne machine, ainsi que le support de transport, entre autres choses.</para
></warning>
</listitem>
</varlistentry>


<varlistentry id="file-import-certificates">
<term
>&fichier-importer-certificats;</term>

<listitem>
<para
><action
>Importe des certificats et/ou des clés secrètes depuis des fichier dans le trousseau local.</action
></para>

<para
>Le format du fichier de certificat doit être géré par &gpgsm;. Reportez-vous au manuel de &gpgsm; pour obteni rune liste des formats pris en charge.</para>
</listitem>
</varlistentry>


<varlistentry id="file-import-crls">
<term
>&fichier-importer-lrcs;</term>

<listitem>
<para
><action
>Permet d'importer manuellement des LRC depuis des fichiers.</action
></para>

<para
>Normalement, les LRC (<foreignphrase
>Certificate Revocation Lists</foreignphrase
>, liste de révocation des certificats) sont gérés de manière transparente par l'interface, mais peut parfois s'avérer utile pour importer une LRC manuellement dans le cache local de LRC.</para>

<note
><para
>Pour que l'importation LRC fonctionne, l'outil <application
>dirmngr</application
> doit être dans le <varname
>PATH</varname
> de recherche. Si l'élément de menu est désactivé, vous devrez contacter l'administrateur système et lui demander d'installer <application
>dirmngr</application
>.</para
></note>

<para
>Le contenu du cache local des LRC depuis l'élément de menu &lrcs-vider-cache-lrc;. Ce dernier affiche une boîte de dialogue contenant des informations sur les LRC présentes dans le cache et les empreintes digitales des certificats dans chaque LRC. </para>
</listitem>
</varlistentry>


<varlistentry id="file-quit">
<term
>&fichier-quitter;</term>

<listitem>
<para
><action
>Met fin à &kleopatra;.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1
> <!-- File Menu -->



<sect1 id="menuview"
><title
>Menu Affichage</title>

<variablelist>

<varlistentry id="view-redisplay">
<term
>&affichage-reafficher;</term>

<listitem>
<para
><action
>Réaffiche les certificats sélectionnés ou rafraîchit la liste des certificats.</action
></para>

<para
>S'il y a des certificats sélectionnés, l'opération de rafraîchissement se restreint à ces éléments sélectionnés.</para>

<para
>Si le résultat d'une requête (soit distante, soit locale) est actuellement affiché, la requête est réémise et les nouveaux résultats sont affichés à la place des anciens.</para>

<para
>Si aucune requête n'a été effectuée, le contenu entier du trousseau est à nouveau récupéré et réaffiché.</para>

<para
>Utilisez ce élément si vous avez changé le contenu du trousseau par d'autres moyens que &kleopatra; (&pex; en utilisant l'interface en ligne de  commande de &gpgsm;).</para>
</listitem>
</varlistentry>


<varlistentry id="view-stop-operation">
<term
>&affichage-arret-operation;</term>

<listitem>
<para
><action
>Arrête (annule) toutes les opérations en attente,</action
> &pex; une recherche ou un téléchargement.</para>

<note
><para
>Selon le serveur utilisé, l'annulation d'une recherche à distance peut bloquer &kleopatra; pendant quelques secondes en attendant que l'interface achève la procédure. C'est un comportement normal et prévisible.</para
></note>
</listitem>
</varlistentry>


<varlistentry id="view-certificate-details">
<term
>&affichage-certificat-details;</term>

<listitem>
<para
><action
>Affiche les détails du certificat actuellement sélectionné.</action
></para>

<para
>Cette fonction est également accessible en double-cliquant l'élément correspondant dans l'affichage en liste directement.</para>

<!--FIXME: link to the dialog's help, but where do we put _that_?-->
</listitem>
</varlistentry>


<varlistentry id="view-hierarchical-key-list">
<term
>&affichage-liste-cles-hierarchique;</term>

<listitem>
<para
><action
>Bascule entre les modes liste de clés hiérarchique et plat. </action
></para>

<para
>En mode hiérarchique, les certificats sont organisés dans une relation émetteur/propriétaire, de sorte qu'il est facile de voir à quelle hiérarchie de certification un certificat donné appartient, mais un certificat donné est plus difficile à trouver initialement (bien que vous disposiez sans réserve de la <link linkend="functions-search"
>barre de recherche</link
>).</para>

<para
>En mode plat, tous les certificats sont affichés dans une liste plate, triée par ordre alphabétique. Dans ce mode, un certificat donné est facile à trouver, mais il n'est pas directement évident de savoir à quel certificat racine il appartient.</para>
</listitem>
</varlistentry>


<varlistentry id="view-expand-all">
<term
>&affichage-tout-developper;</term>

<listitem>
<para
>(Cette fonction n'est accessible que si <xref linkend="view-hierarchical-key-list"/> est activée).</para>

<para
><action
>Développe tous les éléments de la liste dans l'affichage par liste des certificats,</action
> &cad; rend tous les éléments visibles.</para>

<para
>C'est le comportement par défaut lorsqu'on entre en mode liste de clés hiérarchique.</para>

<para
>Vous pouvez encore développer et réduire chaque élément individuellement, naturellement.</para>
</listitem>
</varlistentry>



<varlistentry id="view-collapse-all">
<term
>&affichage-tout-reduire;</term>

<listitem>
<para
>(Cette fonction n'est accessible que si <xref linkend="view-hierarchical-key-list"/> est activée).</para>

<para
><action
>Réduit tous les éléments de la liste dans l'affichage en liste des certificats,</action
> &cad; masque tout sauf les éléments de premier niveau.</para>

<para
>Vous pouvez encore développer et réduire chaque élément individuellement, naturellement.</para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menucertificates"
><title
>Menu Certificats</title>

<variablelist>

<varlistentry id="certificates-validate">
<term
>&certificats-valider;</term>

<listitem>
<para
><action
>Valide les clés sélectionnées (ou toutes).</action
></para>

<para
>Cet élément est similaire à <xref linkend="view-redisplay"/>, mais effectue une validation des clés (sélectionnées). Ici, « validation » signifie que toutes les LRC connexes sont récupérées et que l'exactitude de la chaîne du certificat a été vérifiée. En conséquence, les clés non valables ou expirées seront marquées en fonction de vos préférences de couleurs et de polices définies dans la page <link linkend="configuration-appearance"
><guilabel
>Apparence</guilabel
></link
> de la <link linkend="configuration"
>boîte de dialogue de configuration</link
> de &kleopatra;.</para>

<warning
><para
>Vous ne pouvez vous fier qu'aux informations provenant des clés validées et, comme n'importe quelle clé peut être révoquée à tout moment, la validation n'est jamais qu'un instantané de l'état actuel du trousseau de clés local. C'est pourquoi l'interface effectue normalement ce type de contrôle chaque fois que les clés sont utilisées (&pex; pour la signature, la vérification d'une signature, le chiffrement ou le déchiffrement).</para
></warning>
</listitem>
</varlistentry>



<varlistentry id="certificates-refresh-crls">
<term
>&certificats-rafraichir-lrcs;</term>

<listitem>
<para
><action
>Récupère les LRC actuelles pour toutes les clés sélectionnées,</action
> bien qu'elles ne doivent pas être récupérées lors de l'utilisation de la clé.</para>

<para
>Cette fonction n'a d'effet que sur les certificats qui définissent un point de distribution de la LRC. Selon l'interface employée, les certificats configuréspour effectuer des contrôles à l'aide de l'OCSP (<foreignphrase
>Online Certificate Status Protocol</foreignphrase
>) ne seront pas mis à jour.</para>

<para
>Cette option peut s'avérer utile &pex; si vous avez eu vent qu'une clé a été révoquée et souhaitez que l'interface le répercute <emphasis
>maintenant</emphasis
> au lieu de compter sur cette option pour le faire lors de la prochaine mise à jour programmée de la LRC.</para>

<warning
><para
>L'usage excessif de cette fonction risque de charger sensiblement le réseau de votre fournisseur d'accès ou de votre entreprise, du fait que les LRC des grandes organisations peuvent être étonnamment volumineuses (il n'est pas rare d'avoir plusieurs méga-octets).</para>

<para
>Utilisez cette fonction avec parcimonie.</para
></warning>
</listitem>
</varlistentry>



<varlistentry id="certificates-delete">
<term
>&certificats-supprimer;</term>

<listitem>
<para
><action
>Supprime le(s) certificat(s) sélectionné(s)</action
> du trousseau de clés local.</para>

<para
>Cette fonction sert à supprimer des clés de votre trousseau local inutilisées. Toutefois, comme les certificats sont généralement attachés à des messages électroniques signés, la vérification d'un message peut faire réapparaître dans le trousseau local la clé qui vient d'être supprimée. Donc, il est cetainement préférable d'éviter de faire appel à cette fonction autant que faire se peut. Si vous êtes perdu, utilisez la <link linkend="functions-search"
>barre de recherche</link
> ou la fonction <xref linkend="view-hierarchical-key-list"/> pour retrouver le contrôle sur l'ensemble des certificats.</para>
</listitem>
</varlistentry>



<varlistentry id="certificates-download">
<term
>&certificats-telecharger;</term>

<listitem>
<para
><action
>Télécharge le(s) certificat(s) sélectionné(s) depuis le LDAP vers le trousseau local.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>



<sect1 id="menucrls"
><title
>Menu LRC</title>

<variablelist>

<varlistentry id="crls-clear-crl-cache">
<term
>&lrcs-effacer-cache-lrc;</term>

<listitem>
<para
><action
>Efface le cache des LRC de &gpgsm;.</action
></para>

<para
>Vous n'en aurez probablement jamais besoin. Pour forcer un rafraîchissement du cache des LRC, sélectionnez tous les certificats et utilisez <xref linkend="certificates-refresh-crls"/> à la place.</para>
</listitem>
</varlistentry>

<varlistentry id="crls-dump-crl-cache">
<term
>&lrcs-vider-cache-lrc;</term>

<listitem>
<para
><action
>Affiche le contenu détaillé du cache des LRC de &gpgsm;.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menutools"
><title
>Menu Outils</title>

<variablelist>

<varlistentry id="tools-gnupg-log-viewer">
<term
>&outils-afficheur-journaux-gnupg;</term>

<listitem>
<para
><action
>Démarre <ulink url="help:/kwatchgnupg/index.html"
>&kwatchgnupg;</ulink
></action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menusettings"
><title
>Menu Configuration</title>

<variablelist>

<varlistentry id="settings-show-statusbar">
<term
>&configuration-afficher-barre-etat;</term>

<listitem>
<para
><action
>Change la visibilité de la barre d'état du bas.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-shortcuts">
<term
>&configuration-configurer-raccourcis;</term>

<listitem>
<para
><action
>Ouvre la boîte de dialogue de configuration standard des raccourcis &kde;, dans laquelle vous pouvez affecter et réaffecter des raccourcis clavier pour tous les éléments de menu.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-kleopatra">
<term
>&configuration-configurer-kleopatra;</term>

<listitem>
<para
><action
>Ouvre la boîte de dialogue de configuration de &kleopatra;.</action
></para>

<para
>Reportez-vous à la section <xref linkend="configuration"/> pour plus de détails.</para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-gpgme-backend">
<term
>&configuration-configurer-gpgme-interface;</term>

<listitem>
<para
><action
>Ouvre une boîte de dialogue qui vous permet de configurer chaque aspect de &gpgsm; ainsi que d'autres modules de l'interface.</action
></para>

<para
>Cette boîte de dialogue est construite dynamiquement à partir de la sortie de l'utilitaire &gpgconf; et peut donc changer lorsque les modules de l'interface sont actualisés.</para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menuhelp"
><title
>Menu Aide</title>


<para
>Le menu <guimenu
>Aide</guimenu
> contient le menu d'aide standard de &kde;.</para>
&help.menu.documentation; </sect1>

</chapter>

<chapter id="commandline-options"
><title
>Référence des options en ligne de commande</title>

<para
>Seules les options spécifiques à &kleopatra; sont répertoriées ici. Comme pour toutes les applications de &kde;, vous pouvez obtenir une liste complète des options à l'aide de la commande <userinput
><command
>kleopatra <option
>--help</option
></command
></userinput
>.</para>

<variablelist>

<varlistentry id="commandline-option-external">
<term
>&ligne-commande-option-externe;</term>

<listitem>
<para
><action
>Spécifie que &ligne-commande-option-requete; effectuera la recherche à distance au lieu de le faire dans le trousseau local.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="commandline-option-query">
<term
>&ligne-commande-option-requete;</term>

<listitem>
<para
><action
>Spécifie que &kleopatra; démarrera avec la chaîne de requête indiquée au lieu du listage du trousseau local complet.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="commandline-option-import-certificate">
<term
>&ligne-commande-option-importer-certificat;</term>

<listitem>
<para
><action
>Spécifie un fichier ou une URL d'où importer des  certificats (ou des clés secrètes).</action
></para>

<para
>C'est la ligne de commande équivalente à <xref linkend="file-import-certificates"/>.</para>
</listitem>
</varlistentry>

</variablelist>

</chapter>

<chapter id="configuration"
><title
>Configurer &kleopatra;</title>

<para
>La boîte de dialogue de configuration de &kleopatra; est accessible <foreignphrase
>via</foreignphrase
> <xref linkend="settings-configure-kleopatra"/>.</para>

<para
>Chacune des pages qu'elle contient est décrite dans les sections ci-dessous.</para>

<sect1 id="configuration-directory-services"
><title
>Configurer les services d'annuaires (<foreignphrase
>Directory Services</foreignphrase
>)</title>

<para
>Cette page permet de configurer les serveurs LDAP à utiliser lors des recherches de certificats. Vous pouvez en configurer l'ordre, ainsi que certains paramètres LDAP donnés depuis la boîte de dialogue de configuration dynamique de l'interface, accessible <foreignphrase
>via</foreignphrase
> <xref linkend="settings-configure-gpgme-backend"/>.</para>

<para
>Pour ajouter un nouveau serveur, cliquez sur le bouton <guilabel
>Ajouter un service...</guilabel
>. Dans la boîte de dialogue qui apparaît, vous pouvez définir le <guilabel
>Nom du serveur</guilabel
>, le <guilabel
>port</guilabel
> (préréglé par défaut sur le port LDAP), le <guilabel
>ND de base</guilabel
> (parfois dénommé « racine de recherche » ou « base de recherche ») et les incontournables rubriques <guilabel
>Nom d'utilisateur</guilabel
> et <guilabel
>Mot de passe</guilabel
>, nécessaires l'une et l'autre uniquement si le serveur exige une authentification. Le fait de cliquer sur <guilabel
>OK</guilabel
> ajoute les détails du serveur à la liste des serveurs, tandis qu'<guilabel
>Annuler</guilabel
> supprime la saisie.</para>

<para
>Pour supprimer un serveur de la liste de recherche, sélectionnez-le dans la liste et appuyez sur le bouton <guilabel
>Supprimer un service</guilabel
>.</para>

<para
>Pour changer l'ordre relatif de recherche des serveurs, sélectionnez l'un d'entre eux, déplacez-vous vers le haut ou vers le bas avec les boutons fléchés situés à droite de la liste.</para>

<para
>Pour fixer le temps imparti à LDAP, &cad; la durée maximale pendant laquelle l'interface attendra une réponse d'un serveur, utilisez simplement le champ de saisie intitulé <guilabel
>Temps imparti à LDAP</guilabel
>.</para>

<para
>Si un de vos serveurs comporte une base de données si volumineuse que même des recherches fondées comme <userinput
>Dupont</userinput
> renvoient le <guilabel
>nombre maximal d'éléments retournés par la requête</guilabel
>, vous pourriez être amené à augmenter cette limite. Vous y arriverez aisément si vous indiquez la limite pendant une recherche, car dans ce cas une boîte de dialogue apparaît pour vous prévenir que les résultats ont été tronqués.</para>

<note
><para
>Certains serveurs sont susceptibles d'imposer leurs propres limites sur le nombre d'éléments retournés à partir d'une recherche. Dans ce cas, le fait d'augmenter la limite ici ne donnera pas davantage d'éléments retournés.</para
></note>

</sect1>

<sect1 id="configuration-appearance"
><title
>Configurer l'apparence visuelle</title>

<para
>&kleopatra; vous permet de personnaliser l'apparence des clés (validées) dans l'affichage en liste, y compris les couleurs d'avant-plan (texte) et d'arrière-plan, ainsi que les polices.</para>

<para
>Dans la partie gauche, chaque <guilabel
>catégorie de clés</guilabel
>se voit affecter un ensemble de couleurs et une police dans laquelle sont affichées les clés appartenant à cette catégorie. La liste des catégories agit aussi comme un aperçu des paramètres. Les catégories peuvent être définies librement par l'administrateur ou l'utilisateur doté de privilèges : reportez-vous à la section <xref linkend="admin-key-filters"/> in <xref linkend="admin"/>.</para>

<para
>Pour changer la couleur du texte (avant-plan) d'une catégorie, sélectionnez-la dans la liste et cliquez sur le bouton <guilabel
>Définir la couleur du texte...</guilabel
>. La boîte de dialogue de sélection standard des couleurs de &kde; apparaît, dans laquelle vous pouvez choisir ou créer une nouvelle couleur.</para>

<para
>Le changement de couleur de l'arrière-plan s'effectue de la même manière. Cliquez simplement sur <guilabel
>Définir la couleur d'arrère-plan...</guilabel
> à la place.</para>

<para
>Pour changer la police, deux options vous sont offertes :</para>

<orderedlist>
<listitem
><para
>Modifier la police standard utilisée pour tous les affichages en liste dans &kde;</para
></listitem>
<listitem
><para
>Utiliser une police personnalisée.</para
></listitem>
</orderedlist>

<para
>La première option présente l'avantage que la police suivra le style que vous choisissez pour l'ensemble de &kde;, quel qu'il soit, alors que la seconde vous donne l'entier contrôle sur la police à employer. Ce choix vous appartient.</para>

<para
>Pour utiliser la police standard modifiée, choisissez la catégorie dans la liste, puis cochez ou décochez les modiificateurs de police <guilabel
>Italique</guilabel
>, <guilabel
>Gras</guilabel
> et/ou <guilabel
>Barrée</guilabel
>. Vous pouvez immédiatement voir l'effet sur la police dans la liste des catégories.</para>

<para
>Pour utiliser une police personnalisée, cliquez sur le bouton <guilabel
>Choisir une police...</guilabel
>. La boîte de dialogue standard de sélection des polices de &kde; apparaît, dans laquelle vous pouvez sélectionner la nouvelle police. Notez que vous pouvez encore vous servir des modificateurs de polices pour changer la police personnalisée, exactement comme pour la modification de la police standard.</para>

<para
>Pour revenir à la police standard, cliquez sur le bouton <guilabel
>Par défaut</guilabel
>.</para>

</sect1>

<sect1 id="configuration-dn-order"
><title
>Configurer l'ordre dans lequel les attributs ND sont affichés</title>

<para
>Bien que les &nd;s soient hiérachiques, l'ordre des composants individuels (appelés « &nd;s relatifs » (DNR) ou « attributs &nd; ») n'est pas défini. L'ordre dans lequel les attributs sont affichés est donc une affaire de goût personnel ou de politique d'entreprise, ce qui explique pourquoi il est configurable dans &kleopatra;.</para>

<note
><para
>Ce réglage ne s'applique pas seulement à &kleopatra;, mais à toutes les applications qui utilisent la technologie &kleopatra;. Au moment de la rédaction de ce document, sont concernés KMail, KAddressBook, ainsi que &kleopatra; lui-même naturellement.</para
></note>

<para
>Cette page de configuration se compose en substance de deux listes : une pour les attributs connus (<guilabel
>Attributs disponibles</guilabel
>) et une décrivant l'<guilabel
>Ordre actuel des attributs</guilabel
>.</para>

<para
>Les deux listes contiennent les éléments décrits en abrégé dans l'attribut (&pex; <guilabel
>NC</guilabel
>) ainsi que la forme en toutes lettres (<guilabel
>Nom Commun</guilabel
>).</para>

<para
>La liste <guilabel
>Attributs disponibles</guilabel
> est toujours triée par ordre alphabétique, alors que l'ordre de la liste <guilabel
>Ordre actuel des attributs</guilabel
> reflète l'ordre des attributs &nd; configurés : le premier attribut de la liste est aussi celui qui est affiché le premier.</para>

<para
>Seuls les attributs explicitement répertoriés dans la liste <guilabel
>Ordre actuel des attributs</guilabel
> sont affichés de toute manière. Le reste est masqué par défaut.</para>

<para
>Cependant, si l'élément fictif <guilabel
>_X_</guilabel
> (<guilabel
>Tous les autres</guilabel
>) est dans la liste « actuelle », tous les attributs non répertoriés (qu'ils soient connus ou non), sont insérés au niveau de <guilabel
>_X_</guilabel
> dans leur ordre relatif d'origine.</para>

<para
>Un petit exemple vous éclairera davantage :</para>

<informalexample>
<para
>Étant donné le &nd;</para>
<blockquote
> <para
> O=KDE, C=US, CN=Dave Devel, X-BAR=foo, OU=Kleopatra, X-FOO=bar, </para
> </blockquote
> <para
>l'ordre de l'attribut par défaut de « C N, L, «_X_, OU, O, C » produira le &nd; formaté suivant :</para
> <blockquote
> <para
> CN=Dave Devel, X-BAR=foo, X-FOO=bar, OU=Kleopatra, O=KDE, C=US </para
> </blockquote
> <para
>alors que « N, L, OU, O, C » produira</para
> <blockquote
> <para
> CN=Dave Devel, OU=Kleopatra, O=KDE, C=US </para
> </blockquote
> </informalexample>

<para
>Pour ajouter un attribut à la liste de l'ordre d'affichage, sélectionnez-le dans la liste <guilabel
>Attributs disponibles</guilabel
> et cliquez sur le bouton <guilabel
>Ajouter à l'ordre actuel des attributs</guilabel
>.</para>

<para
>Pour supprimer un attribut de la liste de l'ordre d'affichage, sélectionnez-le dans la liste <guilabel
>Attributs disponibles</guilabel
> et cliquez sur le bouton <guilabel
>Supprimer de l'ordre actuel des attributs</guilabel
>.</para>

<para
>Pour déplacer un attribut au début (à la fin), sélectionnez-le dans la liste <guilabel
>Ordre actuel des attributs</guilabel
> et cliquez sur le bouton <guilabel
>Déplacer vers le haut</guilabel
> (<guilabel
>Déplacer vers le bas</guilabel
>).</para>

<para
>Pour déplacer un attribut vers le haut (le bas) d'un niveau seulement, sélectionnez-le dans la liste <guilabel
>Ordre actuel des attributs</guilabel
> et cliquez sur le bouton <guilabel
>Remonter</guilabel
> (<guilabel
>Redescendre</guilabel
>).</para>

</sect1>

</chapter>

<chapter id="admin"
><title
>Guide de l'Administrateur</title>

<para
>Le Guide l'Administrateur décrit les différents moyens permettant de personnaliser &kleopatra; qui ne sont pas accessibles au moyen de l'interface graphique utilisateur, mais uniquement au travers des fichiers de configuration.</para>

<para
>Il part du principe que le lecteur connaît déjà la technologie utilisée pour la configuration des applications &kde;, y compris la structure, l'emplacement du système de fichiers et l'implantation en cascade des fichiers de configuration de &kde;, sans oublier l'environnement KIOSK.</para>

<sect1 id="admin-certificate-request-wizard"
><title
>Personnalisation de l'assistant de création des certificats</title>

<para
>&kleopatra; vous permet de personnaliser les champs que l'utilisateur pourra renseigner afin de créer des certificats.</para>

<para
>Créez un groupe appelé <literal
>CertificateCreationWizard</literal
> dans le fichier <filename
>kleopatrarc</filename
> dans le système. Si vous souhaitez avoir un ordre personnalisé des attributs ou ne voir apparaître que certains éléments, créez une clé appelée <varname
>DNAttributeOrder</varname
>. L'argument sera l'un ou plusieurs parmi les arguments <varname
>CN,SN,GN,L,T,OU,O,PC,C,SP,DC,BC,EMAIL</varname
>. Pour initialiser des champs avec une valeur donnée, écrivez quelque chose comme « Attribut=valeur ». Pour que l'attribut soit considéré comme exigé, ajoutez-y à la fin un point d'exclamation (&pex;, <varname
>CN!,L,OU,O!,C!,EMAIL!</varname
>, ce qui s'avère justement être la configuration par défaut).</para>

<para
>L'utilisation du modificateur de mode <acronym
>KIOSK</acronym
> <varname
>$e</varname
> vous permet d'extraire les valeurs issues des variables d'environnement ou d'un script, voire d'un exécutable évalués. Pour désactiver l'édition du champ respectif en plus, faites appel au modificateur <varname
>$i</varname
>. Pour interdire l'utilisation du bouton <guibutton
>Insérer mon adresse</guibutton
>, réglez <varname
>AfficherQuiJeSuisI</varname
> à « false ».</para>

<tip
><para
>En raison de la nature de l'environnement <acronym
>KIOSK</acronym
> de &kde;, l'emploi du drapeau immuable (<varname
>$i</varname
>) interdit à l'utilisateur de ne pas tenir compte du drapeau. C'est un comportement intentionnel. <varname
>$i</varname
> et <varname
>$e</varname
> peuvent être utilisés avec toutes les autres clés de configuration dans les applications &kde; également.</para
></tip>

<para
>L'exemple suivant donne un aperçu des personnalisations possibles :</para>

<para>
<programlisting
>[CertificateCreationWizard] 
;Interdire de copier des données personnelles provenant du carnet d'adresses, ne pas autoriser la prise de contrôle locale
AfficherQuiJeSuisI[$i]=false

;définit le nom de l'utilisateur à $USER
CN[$e]=$USER

;définit le nom de l'entreprise à "Mon Entreprise", interdit l'édition
O[$i]=Mon Entreprise

;définit le nom du département à une valeur retournée par un script
OU[$ei]=$(lookup_dept_from_ip)

; définit le pays à FR, mais autorise des changements par l'utilisateur
C=FR
</programlisting>

</para>
</sect1>

    <sect1 id="admin-key-filters">

      <title
>Créer et éditer des catégories de clés </title>

      <para
>&kleopatra; permet à l'utilisateur de configurer l'<link linkend="configuration-appearance"
>apparence visuelle</link
> des clés en se basant sur un concept appelé <guilabel
>Catégories de clés</guilabel
>. Cette section décrit de quelle manière il est possible d'éditer les catégories disponibles et d'en ajouter de nouvelles. </para>

      <para
>Lorsqu'on essaie de trouver la catégorie à laquelle une clé appartient, &kleopatra; tente de faire correspondre une clé à une séquence de filtres de clés, configurée dans le fichier <filename
>libkleopatrarc</filename
>. La première à correspondre définit la catégorie. </para>

      <para
>Chaque filtre de clé est défini dans un groupe de configuration nommé <literal
>Key FIlter #<replaceable
>n</replaceable
></literal
>, où <replaceable
>n</replaceable
> est un nombre à partir de <literal
>0</literal
>. </para>

      <para
>La seule clé obligatoire dans un groupe <literal
>Key Filter #<replaceable
>n</replaceable
></literal
> est <varname
>Name</varname
>, qui contient le nom de la catégorie tel qu'il est affiché dans la <link linkend="configuration-appearance"
>boîte de dialogue de configuration</link
>. </para>

      <para
><xref linkend="table-key-filters-appearance"/> répertorie toutes les clés qui définissent les propriétés d'affichage des clés appartenant à cette catégorie (&cad; les clés qui peuvent être ajustées dans la <link linkend="configuration-appearance"
>boîte de dialogue de configuration</link
>), alors que <xref linkend="table-key-filters-criteria"/> dresse la liste de toutes les clés qui définissent les critères par rapport auxquels le filtre correspond aux clés. </para>

      <table id="table-key-filters-appearance">
	<title
>Clés de configuration des filtres de clés définissant les propriétés d'affichage</title>
	<tgroup cols="3">
	  <colspec colnum="2" align="center"/>
	  <thead>
	    <row>
	      <entry
>Clé de configuration</entry>
	      <entry
>Type</entry>
	      <entry
>Description</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><varname
>couleur d'arrière-plan</varname
></entry>
	      <entry
>couleur</entry>
	      <entry
>La couleur d'arrière-plan à utiliser. Si elle est absente, on aura la couleur par défaut à laquelle la couleur d'arrière-plan est définie globalement pour les affichages en liste. </entry>
	    </row>
	    <row>
	      <entry
><varname
>couleur d'avant-plan</varname
></entry>
	      <entry
>couleur</entry>
	      <entry
>La couleur d'avant-plan à utiliser. Si elle est absente, on aura la couleur par défaut à laquelle la couleur d'avant-plan est définie globalement pour les affichages en liste. </entry>
	    </row>
	    <row>
	      <entry
><varname
>police</varname
></entry>
	      <entry
>police</entry>
	      <entry
>La police par défaut à utiliser. La police sera mise à l'échelle de façon à correspondre à la taille configurée pour les affichages en liste, et tout attribut de police (voir ci-dessous) sera appliqué. </entry>
	    </row>
	    <row>
	      <entry
><varname
>police Gras</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>Si défini à <literal
>true</literal
> et si <varname
>police</varname
> n'est pas défini, utilise la police par défaut de l'affichage en liste avec ajout du style de police Gras (si disponible). Ignoré si <varname
>police</varname
> est également présent. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-italic</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>Analogue à <varname
>font-bold</varname
>, mais pour les polices de type italique au lieu du gras. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-strikeout</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>Si <literal
>true</literal
>, trace une ligne au centre de la police. Appliqué même si <varname
>font</varname
> est défini. </entry>
	    </row>
	    <row>
	      <entry
><varname
>icône</varname
></entry>
	      <entry
>texte</entry>
	      <entry
>Le nom d'une icône à afficher dans la première colonne. N'est pas encore mis en œuvre. </entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <table id="table-key-filters-criteria">
	<title
>Clés de configuration des filtres de clés définissant les critères de filtre</title>
	<tgroup cols="3">
	  <colspec colnum="2" align="center"/>
	  <thead>
	    <row>
	      <entry
>Clé de configuration</entry>
	      <entry
>Type</entry>
	      <entry
>Si spécifié, le filtre correspond quand...</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><varname
>is-revoked</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé a été révoquée.</entry>
	    </row>
	    <row>
	      <entry
><varname
>is-expired</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé a expiré.</entry>
	    </row>
	    <row>
	      <entry
><varname
>is-disabled</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé a été désactivée (marquée afin de ne pas être utilisée) par l'utilisateur. Ignoré pour les clés S/MIME. </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-root-certificate</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé est un certificat racine. Ignoré pour les clés OpenPGP. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-encrypt</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé peut servir pour le chiffrement. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-sign</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé peut servir pour signer. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-certify</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé peut servir pour signer (certifier) d'autres clés. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-authenticate</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé peut servir pour l'authentification (&pex; comme certificat de client <acronym
>TLS</acronym
>). </entry>
	    </row>
	    <row>
	      <entry
><varname
>has-secret-key</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé secrète de cette paire de clés est disponible. </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-openpgp-key</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé est une clé OpenPGP (<literal
>true</literal
>) ou une clé S/MIME (<literal
>false</literal
>). </entry>
	    </row>
	    <row>
	      <entry
><varname
>a été validée</varname
></entry>
	      <entry
>booléen</entry>
	      <entry
>la clé a été validée (voir <xref linkend="certificates-validate"/>). </entry>
	    </row>
	    <row>
	      <entry
><varname
><replaceable
>prefix</replaceable
>-ownertrust</varname
></entry>
	      <entry
>validité<footnote
> <para
>La validité est une énumération (ordonnée) avec les valeurs autorisées suivantes : <literal
>unknown</literal
>, <literal
>undefined</literal
>, <literal
>never</literal
>, <literal
>marginal</literal
>, <literal
>full</literal
>, <literal
>ultimate</literal
>. Reportez-vous aux manuels de &gpg; et &gpgsm; pour une explication détaillée. </para>
		</footnote>
	      </entry>
	      <entry
>la clé a exactement (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is</literal
>), n'a rien sauf (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is-not</literal
>), a au moins (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is-at-least</literal
>) ou a au plus (<replaceable
>prefix</replaceable
>&nbsp;=&nbsp;<literal
>is-at-most</literal
>) la confiance du propriétaire en question comme valeur pour la clé de configuration. Si plusieurs clés <varname
><replaceable
>prefix</replaceable
>-ownertrust</varname
> (avec des valeurs <replaceable
>prefix</replaceable
> différentes) sont présentes dans un seul groupe, le comportement est indéfini. </entry>
	    </row>
	    <row>
	      <entry
><varname
><replaceable
>prefix</replaceable
>-validity</varname
></entry>
	      <entry
>validité</entry>
	      <entry
>Analogue à <varname
><replaceable
>prefix</replaceable
>-ownertrust</varname
>, mais pour la validité des clés au lieu de la confiance du propriétaire. </entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <note>
	<para
>Quelques-uns des critères plus intéressants, comme <varname
>is-revoked</varname
> ou <varname
>is-expired</varname
> ne fonctionneront que sur des clés <emphasis
>validées</emphasis
>, ce qui explique pourquoi par défaut, la révocation et l'expiration n'est vérifiée que pour les clés validées, bien que vous soyez libre de supprimer ces contrôles supplémentaires. </para>
      </note>

      <para
>En général, les critères non spécifiés (&cad; dont l'élément de configuration n'est pas défini) ne sont pas vérifiés. Si un critère est indiqué, il est vérifié et doit correspondre au filtre comme un ensemble auquel il doit correspondre,&cad; que les critères sont « combinés en ET » (<foreignphrase
>AND'ed together</foreignphrase
>). </para>

      <example>
	<title
>Exemples de filtres de clés </title>
	<para
>Pour vérifier tous les certificats racines arrivés à expiration mais non révoqués, vous utiliserez un filtre de clé défini comme suit : </para>
<!-- isn't there a better way to not indent this in the output??? -->
	<screen
><!--
-->[Key Filter #<replaceable
>n</replaceable
>]
Name=expiré, mais non révoqué
was-validated=true
is-expired=true
is-revoked=false
is-root-certificate=true<!--
     --></screen>
	<para
>Pour vérifier toutes les clés OpenPGP désactivées (&kleopatra; ne le gère pas encore) ayant la confiance au moins « minimale » du propriétaire, vous utiliserez : </para>
	<screen
><!--
-->[Key Filter #<replaceable
>n</replaceable
>]
Name=clés OpenPGP désactivées ayant la confiance minimale ou d'un niveau plus élevé du propriétaire
is-openpgp=true
is-disabled=true
is-at-least-ownertrust=marginal<!--
     --></screen>
      </example>

    </sect1>

  </chapter
> <!-- Administrator's Guide -->

<chapter id="credits-and-license">
<title
>Remerciements et licence</title>

<para
>&kleopatra; copyright 2002 Steffen Hansen, Matthias Kalle Dalheimer and Jesper Pedersen., copyright 2004 Daniel Molkentin, copyright 2004 Klar&auml;lvdalens Datakonsult AB</para>

<para
>Documentation copyright 2002 Steffen Hansen, copyright 2004 Daniel Molkentin, copyright 2004 Klar&auml;lvdalens Datakonsult AB</para>

<itemizedlist>
<title
>Contributeurs</title>
<listitem>
<para
>Marc Mutz <email
>mutz@kde.org</email
></para>
</listitem>
<listitem>
<para
>David Faure <email
>faure@kde.org</email
></para>
</listitem>
<listitem>
<para
>Steffen Hansen <email
>hansen@kde.org</email
></para>
</listitem>
<listitem>
<para
>Matthias Kalle Dalheimer <email
>kalle@kde.org</email
></para>
</listitem>
<listitem>
<para
>Jesper Pedersen <email
>blackie@kde.org</email
></para>
</listitem>
<listitem>
<para
>Daniel Molkentin <email
>molkentin@kde.org</email
></para>
</listitem>
</itemizedlist>
&underGPL; &underFDL; </chapter>

&documentation.index; 
</book>

<!--
Local Variables:
mode: sgml
sgml-minimize-attributes:nil
sgml-general-insert-case:lower
sgml-indent-step:0
sgml-indent-data:nil
End:

// vim:ts=2:sw=2:tw=78:noet
-->
