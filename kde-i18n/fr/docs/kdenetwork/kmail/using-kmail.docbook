<chapter id="using-kmail">

<chapterinfo>
<authorgroup>
<author
> <firstname
>Daniel</firstname
> <surname
>Naber</surname
> <affiliation
><address
> <email
>daniel.naber@t-online.de</email
> </address
></affiliation
> </author>
<author
> <firstname
>David</firstname
> <surname
>Rugge</surname
> <affiliation
><address
> <email
>davidrugge@mediaone.net</email
> </address
></affiliation
> </author>
&traducteurJoelleCornavin; &traducteurGerardDelafond; &traducteurLudovicGrossard; &traducteurPierre-EmmanuelMuller; &traducteurLaurentRathle;
</authorgroup>
<date
>2002-10-03</date>
<releaseinfo
>1.5</releaseinfo>
</chapterinfo>

<title
>Utilisation de &kmail;</title>

<sect1 id="the-mail-reader-window">
<title
>La fenêtre principale</title>

<para
>La fenêtre principale est celle qui apparaît au démarrage de &kmail;. Elle est divisée en trois panneaux&nbsp;:</para>

<variablelist
> <varlistentry
> <term
>Panneau des dossiers (panneau gauche)</term
> <listitem
> <para
>Ce panneau contient la liste de vos dossiers de messages (les autres clients de messagerie les appellent généralement <quote
>boîtes aux lettres</quote
>). Pour choisir un dossier, cliquez simplement dessus. Les messages qu'il contient apparaissent à présent dans le panneau des en-têtes. La liste des dossiers peut être affichée à la fois au format abrégé, n'occupant qu'une petite portion du côté gauche de l'écran, et au format long, occupant le côté gauche entier de l'écran, mais capable d'afficher davantage de boîtes aux lettres. Vous pouvez basculer entre ces deux affichages dans <guilabel
>Apparence</guilabel
>/<guilabel
>Disposition</guilabel
> dans la boîte de dialogue <menuchoice
><guimenu
>Configuration</guimenu
><guimenuitem
>Configurer &kmail;...</guimenuitem
></menuchoice
>. Consultez également la <link linkend="folders"
>section des dossiers</link
> pour plus d'informations sur la manière d'utiliser ces dossiers.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>Panneau des en-têtes (panneau de la partie supérieure droite)</term
> <listitem
> <para
>Ce panneau répertorie les informations d'en-tête (indicateurs d'état, expéditeur, sujet, date et taille du message de façon optionnelle) pour les messages contenus dans le dossier actuellement sélectionné. Un clic sur un en-tête choisit choisit ce message et l'affiche dans le panneau des messages. Pour choisir plusieurs messages, maintenez la touche &Ctrl; enfoncée lorsque vous cliquez sur les messages. Vous pouvez trier les messages en cliquant sur la colonne que vous souhaitez trier. Si vous cliquez plusieurs fois sur la même colonne, l'ordre de tri passe en mode croissant/décroissant. </para
> </listitem
> </varlistentry
> <varlistentry
> <term
>Panneau des messages (panneau de la partie inférieure droite)</term
> <listitem
> <para
>Ce panneau affiche le message actuellement sélectionné. Les pièces jointes apparaissent au bas du message, sous forme d'icônes ou intégrées au message, en fonction de <menuchoice
><guimenu
>Affichage</guimenu
> <guimenuitem
>Pièces ointes</guimenuitem
></menuchoice
>. Vous pouvez faire défiler le message page par page à l'aide des touches <keycap
>Page haut</keycap
> et <keycap
>Page bas</keycap
>, ou ligne par ligne à l'aide des touches <keycap
>Flèche haut</keycap
> et <keycap
>Flèche bas</keycap
>. Utilisez également les <link linkend="keyboard-shortcuts"
>raccourcis clavier</link
> pour passer d'un message à l'autre sans l'aide de la souris.</para
> </listitem
> </varlistentry
> </variablelist>

</sect1>

<sect1 id="keyboard-shortcuts">
<title
>Raccourcis clavier</title>

<para
>Les raccourcis clavier suivants sont gérés dans la fenêtre principale&nbsp;:</para>

<informaltable>
<tgroup cols="2">
<thead
> <row
> <entry
>Raccourci clavier</entry
> <entry
>Action</entry
> </row
> </thead>
<tbody
> <row
> <entry
><keycap
>Barre d'espacement</keycap
></entry
> <entry
>Fait défiler le message actuel de haut en bas ou va vers le prochain message non lu si vous êtes déjà arrivé au bas de celui-ci.</entry
> </row
> <row
> <entry
><keycap
>Flèche droite</keycap
> ou <keycap
>N</keycap
></entry
> <entry
>Va vers le prochain message dans le dossier actuel.</entry
> </row
> <row
> <entry
><keycap
>Flèche gauche</keycap
> ou <keycap
>P</keycap
></entry
> <entry
>Va vers le message précédent dans le dossier actuel.</entry
> </row
> <row
> <entry
><keycap
>+</keycap
></entry
> <entry
>Va vers le prochain message non lu dans le dossier actuel.</entry
> </row
> <row
> <entry
><keycap
>-</keycap
></entry
> <entry
>Va vers le précédent message non lu dans le dossier actuel.</entry
> </row
> <row
> <entry
><keycombo action="simul"
>&Ctrl;<keycap
>+</keycap
></keycombo
></entry
> <entry
>Va vers le prochain dossier contenant des messages non lus.</entry
> </row
> <row
> <entry
><keycombo action="simul"
>&Ctrl;<keycap
>-</keycap
></keycombo
></entry
> <entry
>Va vers le précédent dossier contenant des messages non lus.</entry
> </row
> <row
> <entry
><keycombo action="simul"
>&Ctrl;<keycap
>Flèche gauche</keycap
></keycombo
></entry
> <entry
>Parcourt la liste des dossiers en remontant. Utilisez <keycombo action="simul"
>&Ctrl;<keycap
>Espace</keycap
></keycombo
> pour entrer réellement dans le dossier.</entry
> </row
> <row
> <entry
><keycombo action="simul"
>&Ctrl;<keycap
>Flèche droite</keycap
></keycombo
></entry
> <entry
>Parcourt la liste des dossiers en descendant. Utilisez <keycombo action="simul"
>&Ctrl;<keycap
>Espace</keycap
></keycombo
> pour entrer réellement dans le dossier.</entry
> </row
> <row
> <entry
><keycombo action="simul"
>&Ctrl;<keycap
>Espace</keycap
></keycombo
></entry
> <entry
>Entre dans le dossier ayant le focus, &cad; le dossier que vous avez exploré à l'aide de <keycombo action="simul"
>&Ctrl;<keycap
>Flèche gauche</keycap
></keycombo
> ou <keycombo action="simul"
>&Ctrl;<keycap
>Flèche droite</keycap
></keycombo
>.</entry
> </row
> <row
> <entry
><keycombo action="simul"
>&Maj;<keycap
>Flèche gauche</keycap
></keycombo
> et <keycombo action="simul"
>&Maj;<keycap
>Flèche droite</keycap
></keycombo
></entry
> <entry
>Choisit des messages dans le panneau des en-têtes, en commençant par le message actuel.</entry
> </row
> </tbody>
</tgroup>
</informaltable>

</sect1>

<sect1 id="the-composer-window">
<title
>La fenêtre d'édition</title>

<para
>La fenêtre d'édition sert à rédiger de nouveaux messages. Vous pouvez l'appeler via le menu <menuchoice
><guimenu
>Message</guimenu
> <guimenuitem
>Nouveau message...</guimenuitem
></menuchoice
> ou depuis l'icône <guiicon
>Nouveau message</guiicon
> située sur la fenêtre principale.</para>

<sect2 id="composing-a-message">
<title
>Composition d'un message</title>

<para
>Pour rédiger votre message, remplissez les champs appropriés dans la fenêtre d'édition. Utilisez le menu <guimenu
>Affichage</guimenu
> pour choisir les champs d'en-tête qui seront affichés. Le champ <guimenuitem
>Identité</guimenuitem
> offre une option <guibutton
>Permanent</guibutton
>. Si elle est cochée, l'identité actuelle deviendra l'identité par défaut la prochaine fois que vous ouvrirez une fenêtre d'édition.</para>

<para
>Il existe divers raccourcis pour vous aider à rédiger vos messages. Les boutons <guibutton
>...</guibutton
> situés à côté des champs <guilabel
>À&nbsp;:</guilabel
>, <guilabel
>Cc&nbsp;:</guilabel
>, et <guilabel
>Bcc&nbsp;:</guilabel
> appellent le carnet d'adresses pour que vous y choisissiez des adresses.</para>

<para
>Lorsque vous commencez à saisir une adresse dans les champs <guilabel
>À&nbsp;:</guilabel
>/<guilabel
>Cc&nbsp;:</guilabel
>/<guilabel
>Bcc&nbsp;:</guilabel
>, une fenêtre contextuelle apparaît, affichant les adresses correspondantes récemment utilisées et les adresses correspondantes provenant de votre carnet d'adresses. Si vous n'aimez pas la fenêtre contextuelle automatique, désactivez-la en cliquant avec le &BDS; sur le champ approprié et choisissez un autre mode d'auto-complètement.</para>

<para
>Lorsque vous ajoutez plusieurs destinataires dans un des champs, veillez à séparer chaque adresse de la suivante par une virgule. Vous pouvez être amené à spécifier des adresses pleinement qualifiées (&pex;, <userinput
>utilisateur@domaine.com</userinput
>) même pour des utilisateurs locaux, selon la configuration de votre système.</para>

<para
>Lorsque vous avez terminé la rédaction de votre message, cliquez sur l'icône <guiicon
>Envoyer</guiicon
> (symbolisée par une enveloppe) pour l'envoyer maintenant, ou sur <guiicon
>Envoyer ultérieurement</guiicon
> pour placer le message dans la boîte d'envoi. Si vous n'avez pas encore fini de rédiger votre message, choisissez <menuchoice
><guimenu
>Message</guimenu
><guimenuitem
>Enregistrer dans le dossier des brouillons</guimenuitem
></menuchoice
>. Pour envoyer un message <link linkend="pgp-encrypt-your-messages"
>crypté</link
> ou <link linkend="pgp-sign-your-messages"
>signé numériquement</link
>, choisissez l'icône <guiicon
>Crypter le message</guiicon
> ou <guiicon
>Signer le message</guiicon
>, respectivement, dans la barre d'outils.</para>

<para
>Si vous avez installé et activé au moins un des <link linkend="configure-security-plugins"
>modules externes de cryptage</link
>, vous pouvez choisir si vous préférez utiliser le support OpenPGP intégré ou le module externe pour le cryptage et/ou la signature. Utilisez le support OpenPGP intégré si vous souhaitez envoyer des messages signés en clair ou des messages avec cryptage intégré. Si vous préférez envoyer des messages signés ou cryptés avec des pièces jointes, utilisez un des modules externes de cryptage. Notez que l'OpenPGP intégré <emphasis
>ne signe ni ne crypte</emphasis
> les pièces jointes.</para
> 

</sect2>

<sect2 id="attachments">
<title
>Ajout de pièces jointes</title>

<para
>Vous pouvez joindre des fichiers à votre message à l'aide d'une des méthodes suivantes&nbsp;:</para>

<itemizedlist
> <listitem
> <para
>Cliquez sur l'icône <guiicon
>Joindre un fichier</guiicon
> (symbolisée par un trombone) et choisissez le fichier que vous souhaitez joindre.</para
> </listitem
> <listitem
> <para
>Glissez un fichier depuis le bureau ou un autre dossier dans la fenêtre d'édition.</para
> </listitem
> <listitem
> <para
>Choisissez une des options dans le menu <menuchoice
><guimenu
>Joindre</guimenu
></menuchoice
>.</para
> </listitem
> </itemizedlist>

<para
>Une fois joint à votre message, le fichier apparaît dans le panneau des fichiers joints au bas de la fenêtre d'édition. Vous pouvez utiliser le &BDS; sur chaque pièce jointe pour l'<guimenuitem
>Afficher</guimenuitem
>, l'<guimenuitem
>Enregistrer</guimenuitem
>, ou la <guimenuitem
>Supprimer</guimenuitem
>.</para>

<para
>Utilisez l'élément <guimenuitem
>Propriétés...</guimenuitem
> pour ouvrir la boîte de dialogue <guilabel
>Propriétés de la pièce jointe</guilabel
>. Le premier champ contient le type &MIME; de la pièce jointe. Tout comme le champ <guilabel
>Nom</guilabel
>, il doit être rempli automatiquement avec une valeur appropriée. Parfois, la valeur du type &MIME; peut s'avérer incorrecte. Saisissez alors n'importe quel type &MIME; ou choisissez-le dans la liste des types &MIME; courants. Vous pouvez également choisir une méthode d'encodage pour votre fichier dans la liste (normalement, la valeur par défaut convient parfaitement). Cochez l'option <guilabel
>Suggérer un affichage automatique</guilabel
> si vous souhaitez suggérer au destinataire l'affichage automatique (intégré) de cette partie dans l'aperçu du message au lieu de l'affichage par icônes par défaut.</para>
<!-- fixme: depends on the receiver's client -->

<para
>Vous pouvez également joindre les clefs <application
>PGP</application
>/<application
>GnuPG</application
> à votre message à l'aide des options appropriées dans le menu <menuchoice
><guimenu
>Joindre</guimenu
></menuchoice
>. Les pièces jointes en tant que clefs <application
>PGP</application
> sont manipulées comme des attachements de fichier.</para>

<!-- copied from below -->
<warning
><para
>Les pièces jointes ne seront pas cryptées si vous utilisez le support OpenPGP intégré. Pour crypter les pièces jointes, il faut installer et configurer les <link linkend="configure-security-plugins"
>modules externes de cryptage</link
>. </para
></warning>
<!-- / copied from below -->

</sect2>

<sect2 id="checking-the-spelling-of-your-message">
<title
>Vérification de l'orthographe de votre message</title>

<para
>Pour vérifier l'orthographe de votre message, choisissez <menuchoice
><guimenu
>Outils</guimenu
> <guimenuitem
>Orthographe...</guimenuitem
></menuchoice
>. &kmail; fait appel pour ce faire à <ulink url="/kspell/"
>&kspell;</ulink
>, l'interface utilisateur de &kde; du vérificateur orthographique <application
>ispell</application
> ou <application
>aspell</application
>. Notez que vous devrez peut-être d'abord configurer le vérificateur orthographique à l'aide de <menuchoice
><guimenu
>Configuration</guimenu
> <guimenuitem
>Vérificateur orthographique...</guimenuitem
></menuchoice
>.</para>

</sect2>

</sect1>

<sect1 id="folders">
<title
>Dossiers de messages</title>

<para
>Les dossiers de messages servent à organiser vos messages électroniques. Par défaut, tous les dossiers sont enregistrés dans le dossier <filename class="directory"
>Courrier</filename
> créé dans votre répertoire utilisateur. Lorsque vous démarrez &kmail; pour la première fois, les dossiers <guilabel
>Boîte de réception</guilabel
>, <guilabel
>À envoyer</guilabel
>, <guilabel
>Envoyés</guilabel
>, <guilabel
>Corbeille</guilabel
> et <guilabel
>Brouillons</guilabel
> sont créés. Chacun de ces dossiers a des fonctions spéciales&nbsp;:</para>

<variablelist
> <varlistentry
> <term
><guilabel
>Boîte de réception&nbsp;:</guilabel
></term
> <listitem
> <para
>L'emplacement par défaut où &kmail; place vos nouveaux messages lorsque vous lui demandez de relever votre courrier. </para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>À envoyer&nbsp;:</guilabel
></term
> <listitem
> <para
>L'emplacement où les messages sont placés lorsqu'ils sont en attente de remise. Notez qu'il ne faut pas ici glisser-déposer les messages pour les envoyer, mais utiliser l'icône <guiicon
>Envoyer</guiicon
> dans la fenêtre d'édition. </para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Envoyés&nbsp;:</guilabel
></term
> <listitem
> <para
>Contient la copie de tous les messages que vous avez envoyés.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Corbeille&nbsp;:</guilabel
></term
> <listitem
> <para
>Contient tous les messages que vous avez déplacés vers la corbeille.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Brouillons&nbsp;:</guilabel
></term
> <listitem
> <para
>Contient les messages que vous avez commencé à éditer, mais enregistrés ensuite dans ce dossier au lieu de les envoyer.</para
> </listitem
> </varlistentry
> </variablelist>

<para
>Les dossiers standard conviendront certainement à vos besoins. Cependant, vous devrez probablement en créer de nouveaux pour vous aider à organiser vos messages. Pour créer un nouveau dossier, choisissez <menuchoice
><guimenu
>Dossier</guimenu
><guimenuitem
>Nouveau dossier...</guimenuitem
></menuchoice
> La boîte de dialogue des <link linkend="folders-properties-window"
>propriétés du dossier</link
> vous invite à saisir les informations nécessaires. Si jamais vous devez changer les paramètres d'un dossier, choisissez celui que vous souhaitez modifier dans le panneau des dossiers, puis les éléments <menuchoice
><guimenu
>Dossier</guimenu
><guimenuitem
>Propriétés...</guimenuitem
></menuchoice
>.</para>

<para
>Pour déplacer des messages d'un dossier à un autre, choisissez le(s) message(s) que vous souhaitez déplacer et appuyez sur la touche <keycap
>M</keycap
>, ou <menuchoice
><guimenu
>Message</guimenu
><guimenuitem
>Mettre dans</guimenuitem
></menuchoice
>. Une liste de dossiers apparaît. Choisissez le dossier dans la liste dans laquelle vous souhaitez déplacer les messages. Pour déplacer des messages, glissez-les du panneau des en-têtes dans le panneau des dossiers.</para>

<para
>Pour effacer tous les messages d'un dossier, choisissez <menuchoice
><guimenu
>Dossier</guimenu
><guimenuitem
>Déplacer tous les messages dans la corbeille</guimenuitem
></menuchoice
>. Vous pouvez utiliser <menuchoice
><guimenu
>Dossier</guimenu
><guimenuitem
>Supprimer le dossier</guimenuitem
></menuchoice
> pour supprimer un dossier et tous ses messages, ainsi que ses sous-dossiers.</para>

<sect2 id="folders-properties-window">
<title
>Propriétés des dossiers</title>

<para
>La boîte de dialogue <guilabel
>Propriétés</guilabel
> du dossier permet de renommer, de déplacer un dossier et de spécifier toutes ses propriétés. Notez que la plupart des propriétés ne sont disponibles que pour vos propres dossiers et non pour un dossier par défaut comme <guilabel
>inbox</guilabel
>, &etc; De plus, les dossiers par défaut ne peuvent être ni déplacés ni renommés.</para>

<para
>Vous pouvez transformer un dossier en sous-dossier en choisissant un dossier parent à l'aide de la sélection <guilabel
>Appartient à</guilabel
>. </para>

<para
>La section <guilabel
>Icônes des dossiers</guilabel
> permet de choisir des icônes différentes des icônes par défaut dans la liste des dossiers.</para>

<para
>Consultez la section <link linkend="folders-format"
>Format des dossiers</link
> pour plus d'informations sur le <guilabel
>Format des boîtes aux lettres.</guilabel
></para>

<para
>Si vous êtes sur le point d'utiliser ce dossier pour une liste de diffusion, vous pouvez être amené à ajouter l'adresse de la liste de diffusion dans la section <guilabel
>Liste de diffusion associée</guilabel
>. Utilsez alors l'élément de menu <menuchoice
><guimenu
>Message</guimenu
><guimenuitem
>Répondre à la liste...</guimenuitem
></menuchoice
>. Celui-ci ouvre une réponse contenant l'adresse de la liste de diffusion dans le champ <guilabel
>À&nbsp;:</guilabel
> (cela signifie qu'il ignorera le <token
>Répondre à&nbsp;</token
> du message). Vous pouvez également cliquer avec le bouton <mousebutton
>central</mousebutton
> de la souris dans le panneau des dossiers pour poster à une liste de diffusion associée à ce dossier.</para>

<para
>La section <guilabel
>Expiration des anciens messages</guilabel
> permet de supprimer automatiquement les anciens messages lorsque vous quittez &kmail; (selon vos paramètres de la page de configuration <guilabel
>Dossiers</guilabel
>) ou via <menuchoice
><guimenu
>Fichier</guimenu
><guisubmenu
>Purger tous les dossiers</guisubmenu
></menuchoice
>.<warning
><para
>Les messages qui ont expiré sont détruits. Comme ils <emphasis
>ne</emphasis
> sont <emphasis
>pas</emphasis
> déplacés vers la corbeille, soyez prudent avec ce paramètre.</para
></warning
> </para>

<para
>La section <guilabel
>identité</guilabel
> permet de définir votre identité par défaut pour les nouveaux messages. Les réponses aux messages qui vous ont été envoyés directement s'effectueront encore à l'adresse <quote
>À</quote
> du message si une identité correspondante est trouvée.</para>

<para
>Avec <guilabel
>Afficher l'expéditeur / le destinataire</guilabel
>, vous pouvez définir les colonnes visibles dans le panneau des en-têtes. Ceci est utile si vous utilisez un dossier pour enregistrer vos propres messages envoyés.</para>

</sect2>

<sect2 id="folders-format">
<title
>Format des dossiers</title>

<para
>Un dossier de message peut être au format <guilabel
>mbox</guilabel
> ou <guilabel
>maildir</guilabel
>. <guilabel
>mbox</guilabel
> enregistre tous les messages d'un dossier dans un seul fichier, alors que <guilabel
>maildir</guilabel
> enregistre chaque message dans son propre fichier. <guilabel
>maildir</guilabel
>, le format par défaut, peut être considéré comme plus robuste, mais peut s'avérer plus lent sur certains systèmes de fichiers. Si vous n'êtes pas sûr, choisissez <guilabel
>maildir</guilabel
>).</para>

<para
>Notez que &kmail; n'offre actuellement aucune fonctionnalité permettant la conversion automatique entre les deux formats&nbsp;- mais vous pouvez simplement déplacer tous les messages d'un ancien dossier <guilabel
>mbox</guilabel
> vers un nouveau dossier <guilabel
>maildir</guilabel
> ou vice versa.</para>

</sect2>

</sect1>

<sect1 id="filters">
<title
>Filtres de messages</title>
<anchor id="filters-id"/>

<para
>Après avoir utilisé &kmail; pendant un certain temps, vous constaterez peut-être qu'il est un peu difficile de trier les nouveaux messages dans la boîte de réception lorsqu'ils arrivent. Les filtres permettent d'effectuer automatiquement certaines actions sur les messages entrants et d'autres manuellement sur des messages choisis dans un dossier.</para>

<para
>Notez que les filtres décrits dans cette section sont appliqués <emphasis
>après</emphasis
> téléchargement des messages dans votre compte. Si vous désirez filtrer des messages sur le serveur, consultez <link linkend="popfilters"
>Filtres de téléchargement</link
>.</para>

<para
>Les filtres consistent en un modèle de recherche dont les règles servent de critère pour déterminer si le filtre doit s'appliquer ou non à un message donné, et en une liste des actions des filtres décrivant l'action qu'il convient d'envisager avec ou sur le message si le modèle de recherche correspond. Pour en savoir plus sur les profils de recherche et les actions des filtres, reportez-vous aux sections suivantes.</para>

<note
><para
> Les filtres sont étudiés les uns après les autres, en commençant par le premier de la liste. Le premier filtre dont le modèle correspond au message donné est exécuté. Vous pouvez demander à ce que les filtres restants soient également appliqués, mais le traitement s'arrête par défaut au premier filtre qui correspond. </para
></note>

<para
>On utilise habituellement les filtres pour les messages entrants, mais ils peuvent également s'appliquer à un message ou à un groupe de messages. Pour filtrer les messages de manière sélective, choisissez ceux que vous souhaitez filtrer et saisissez <keycombo action="simul"
>&Ctrl;<keycap
>J</keycap
></keycombo
> ou choisissez <menuchoice
><guimenu
>Message</guimenu
><guimenuitem
>Appliquer les filtres</guimenuitem
></menuchoice
>. Cette option appliquera tous les filtres identifiés pour le filtrage manuel dans la <link linkend="filter-dialog"
>boîte de dialogue des filtres</link
> à ces messages.</para>

<sect2 id="filter-quick">
<title
>Création rapide d'un filtre</title>

<para
>Il existe deux méthodes pour créer un filtre&nbsp;: la méthode rapide consistant à utiliser <menuchoice
><guimenu
>Outils</guimenu
><guimenuitem
>Créer un filtre...</guimenuitem
></menuchoice
>. Celle-ci appelle la boîte de dialogue des règles, affiche un nouveau filtre comportant la première règle du profil de recherche et la première action (comme <guilabel
>mettre dans le dossier</guilabel
>) prédéfinie. Dans la plupart des cas, il vous suffira de choisir le dossier dans lequel le message devra être déplacé. Cependant, vous pouvez parfaitement modifier le filtre comme vous le souhaitez.</para>

<para
>À propos de cette méthode, il est intéressant de noter que la création d'un filtre sur des listes de diffusion tente réellement le maximum pour rechercher un critère qui identifie de façon unique les messages à partir de cette liste. Si elle y réussit, le nom supposé de la liste est affichée dans l'élément de menu <menuchoice
><guimenu
>Message</guimenu
><guisubmenu
>Créer un filtre</guisubmenu
><guimenuitem
>Filtrer sur la liste de diffusion...</guimenuitem
></menuchoice
>.</para>

<para
>La seconde méthode consiste à élaborer manuellement le filtre <quote
>ex nihilo</quote
>, en appelant la boîte de dialogue des règles de filtrage avec <menuchoice
><guimenu
>Configuration</guimenu
><guimenuitem
>Configuration des filtres</guimenuitem
></menuchoice
>. La boîte de dialogue des règles de filtrage est décrite en détail dans la sous-section suivante.</para>
</sect2>

<sect2 id="filter-dialog">
<title
>La boîte de dialogue des règles de filtrage</title>
<anchor id="filter-dialog-id"/>

<para
>Cette boîte de dialogue vous permet de gérer et de modifier votre liste de filtres.</para>

<para
>Vous y accédez via<menuchoice
><guimenu
>Outils</guimenu
><guisubmenu
>Créer un filtre...</guisubmenu
></menuchoice
> ou via <menuchoice
><guimenu
>Configuration</guimenu
><guimenuitem
>Configuration des filtres..</guimenuitem
></menuchoice
>.</para>

<para
>Cette boîte de dialogue est divisée en quatre sections principales&nbsp;:</para>
<variablelist
> <varlistentry
> <term
><guilabel
>Filtres disponibles</guilabel
></term
> <listitem
><para
>Ce groupe contient la liste des filtres et de certains boutons d'action visant à modifier les filtres, notamment pour en créer de nouveaux, les déplacer vers le haut ou vers le bas de la liste, les supprimer ou les renommer. Lorsque vous choisissez un filtre dans la liste, ses propriétés s'affichent dans la partie droite de la boîte de dialogue.</para
></listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Critères de filtrage</guilabel
></term
> <listitem
><para
>Ce groupe permet de modifier le modèle auquel les messages doivent correspondre pour que le filtre leur soit appliqué. Vous pouvez déterminer ici si toutes les règles définies doivent correspondre, ou s'il suffit que l'une d'elles concorde. Consultez <link linkend="filter-criteria"
>Modèles de recherche</link
> ci-dessous pour une description détaillée de chaque type de règle de recherche.</para
> <para
> Cliquez sur <guibutton
>En afficher une autre</guibutton
> pour obtenir une règle de filtrage supplémentaire (initialement vide) si vous désirez définir des modèles plus complexes. Cliquez sur <guibutton
>En supprimer une</guibutton
> pour supprimer la dernière règle. <guibutton
>Effacer</guibutton
> efface le modèle. Cela signifie qu'il supprime toutes les règles de l'écran sauf deux, qu'il réinitialise ensuite.</para
> <para
>Les règles non valables ou vides ne sont pas évaluées.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Actions du filtre</guilabel
></term
> <listitem
><para
>Dans ce groupe, vous pouvez modifier la liste des actions à appliquer à tous les messages correspondant au modèle de recherche défini. Consultez <link linkend="filter-action"
>Actions du filtre</link
> ci-dessous pour une description détaillée de chaque type d'action.</para
> <para
> Un clic sur <guibutton
>En afficher une autre</guibutton
> pemet d'obtenir une nouvelle action, vide, si vous désirez définir plusieurs actions et sur <guibutton
>En supprimer une</guibutton
> pour supprimer la dernière action. <guibutton
>Effacer</guibutton
> pour effacer la liste. Cela signifie qu'il supprime toutes les actions sauf une, qu'il réinitialise ensuite.</para
> <para
>Les actions non valables ou vides ne sont pas exécutées.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Options avancées</guilabel
></term
> <listitem
><para
> Ce groupe permet de définir quelques options avancées pour les filtres, de façon à affiner votre filtrage.</para
> <para
>La première ligne de cases à cocher permet d'activer l'applicabilité du filtre correspondant&nbsp;: la case <guilabel
>nouveaux messages</guilabel
> vérifie s'il peut être pris en compte pour les messages entrants (&cad; dans <guiicon
>Relever tout le courrier</guiicon
>). La case <guilabel
>messages envoyés</guilabel
> est identique, mais concerne les messages envoyés (&cad; <emphasis
>après</emphasis
> l'<guiicon
>Envoi</guiicon
>) et la case <guilabel
>filtrage manuel</guilabel
> vérifie s'il faut appliquer ce filtre lors du filtrage manuel (&cad; via <menuchoice
><guimenu
>Message</guimenu
> <guimenuitem
>Appliquer les filtres</guimenuitem
></menuchoice
>).</para
> </listitem
> </varlistentry
> </variablelist>

<note
><para
>Les filtres sont automatiquement nommés à moins que vous ne les renommiez explicitement à l'aide du bouton <guibutton
>Renommer...</guibutton
>. Le dialogue part du principe qu'il doit poursuivre le nommage automatique du filtre tant que le nom de ce dernier commence par <quote
>&lt;</quote
>. </para
></note>

<note
> <para
>Si vous appliquez les changements de filtre via <guibutton
>OK</guibutton
> ou <guibutton
>Appliquer</guibutton
>, seuls les filtres valables seront réellement copiés dans le gestionnaire de filtres interne.</para
> <para
>Un filtre est considéré comme non valable si</para
> <orderedlist
> <listitem
><para
>le modèle de recherche contient uniquement des règles vides ou si</para
></listitem
> <listitem
><para
>la liste des actions est vide.</para
></listitem
> </orderedlist
> <para
>De manière similaire, les règles et les actions vides sont supprimées du modèle et de la liste des actions, respectivement, avant d'enregistrer le filtre.</para
> </note>

</sect2>

<sect2 id="filter-criteria">
<title
>Modèles de recherche</title>

<para
>L'utilisation la plus fréquente des filtres consiste à filtrer sur l'expéditeur de messages. Pour ce faire, choisissez <guilabel
>De</guilabel
>. Un bon choix pour les listes de diffusion serait <guilabel
>&lt;Destinataires&gt;</guilabel
>. Toutefois, il existe d'autres critères qu'un filtre peut rechercher. Notez que tous les modèles sont interprétés sans tenir compte de la casse&nbsp;:</para>

<variablelist
> <varlistentry
> <term
><guilabel
>&lt;message&gt;</guilabel
></term
> <listitem
> <para
>Effectue la recherche dans le message entier (&cad; l'en-tête, le corps et les pièces jointes, le cas échéant).</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>&lt;corps&gt;</guilabel
></term
> <listitem
> <para
>Effectue la recherche dans le corps du message.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>&lt;n'importe quel en-tête&gt;</guilabel
></term
> <listitem
> <para
>Effectue la recherche dans les en-têtes du message.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>&lt;destinataires&gt;</guilabel
></term
> <listitem
> <para
>Effectue la recherche dans les champs d'en-tête <quote
>À</quote
> et <quote
>Cc</quote
> du message.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>&lt;taille&gt;</guilabel
></term
> <listitem
> <para
>Définit les limites supérieure ou inférieure de la taille du message.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>&lt;âge en jours&gt;</guilabel
></term
> <listitem
> <para
>Définit les limites supérieure ou inférieure de l'âge du message.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>N'importe quel autre nom</term
> <listitem
> <para
>Effectue la recherche dans le champ d'en-tête indiqué par ce nom.</para
> </listitem
> </varlistentry
> </variablelist>

</sect2>

<sect2 id="filter-action">
<title
>Action du filtre</title>

<para
>L'utilisation la plus fréquente des filtres consiste à trier les messages entrants vers certains dossiers. Pour ce faire, choisissez <guilabel
>mettre dans le dossier</guilabel
>. Voici une liste de toutes les actions possibles&nbsp;:</para>

<variablelist
> <varlistentry
> <term
><guilabel
>mettre dans le dossier</guilabel
></term
> <listitem
> <para
>Déplace le message dans un autre dossier. Actuellement, vous ne pouvez pas utiliser les dossiers <acronym
>IMAP</acronym
> en tant que cible.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>définir l'identité comme étant</guilabel
></term
> <listitem
> <para
>Définit <emphasis
>votre</emphasis
> identité si vous répondez à ce message.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>marqué comme</guilabel
></term
> <listitem
> <para
>Permet de marquer le message comme lu ou important (doté d'un indicateur), mais également comme transmis, répondu, &etc;</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>définir le transport comme</guilabel
></term
> <listitem
> <para
>Définit la méthode de transport (&pex; <acronym
>SMTP</acronym
>) si vous répondez au message.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>fixer l'adresse de réponse comme</guilabel
></term
> <listitem
><para
>Modifie le champ <guilabel
>Répondre à</guilabel
> de ce message. Ceci peut être utile pour les listes de discussion définissant automatiquement un <quote
>Répondre à</quote
> qui ne vous convient pas.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>transmettre à</guilabel
></term
> <listitem
><para
>Transmet le message à une autre adresse électronique.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>rediriger</guilabel
></term
> <listitem
><para
>Redirige le message vers une autre adresse électronique.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>refuser</guilabel
></term
> <listitem
><para
>Renvoie le message à l'expéditeur comme non distribuable.</para
> <warning
><para
>Fonctionne uniquement si l'adresse électronique de l'expéditeur est valable. Ce <emphasis
>n'</emphasis
>est <emphasis
>pas</emphasis
> le cas pour la  plupart des messages publicitaires indésirables (ou <quote
>spam</quote
>).</para
></warning
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>confirmer la réception</guilabel
></term
> <listitem
><para
>Tente de renvoyer un message à son expéditeur pour lui indiquer que la remise de son message a réussi, s'il l'a demandé.</para
> <para
>Permet de choisir les correspondants qui recevront des accusés de réception de votre part. Bien que vous puissiez généralement activer l'envoi d'accusés de réception dans la boîte de dialogue <guilabel
>Configurer &kmail;...</guilabel
> (<link linkend="configure-security-general"
><guilabel
>Sécurité</guilabel
> page</link
>), nous recommandons de ne pas les envoyer à tous vos correspondants, car cette pratique facilite considérablement le suivi des messages publicitaires indésirables (ou <quote
>spam</quote
>) pour l'expéditeur.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>exécuter la commande</guilabel
></term
> <listitem
> <para
>Exécute un programme mais ne modifie pas le message. Spécifiez le chemin d'accès complet au programme que vous désirez exécuter. &kmail; se bloquera jusqu'à ce que le programme vous rende la main. Vous pouvez alimenter le programme avec les parties du courrier&nbsp; <symbol
>&percnt;0</symbol
>, <symbol
>&percnt;1</symbol
> &etc; représenteront alors des fichiers contenant des portions du message. Pour les messages courants, <symbol
>&percnt;0</symbol
> représente le texte, <symbol
>&percnt;1</symbol
> la première pièce jointe et ainsi de suite. De plus, le message entier est introduit dans la <acronym
>stdin</acronym
> du programme.</para
> <warning
><para
>Ne fonctionne actuellement que si le message comporte <emphasis
>au moins</emphasis
> une pièce jointe. En règle générale, elle ne fonctionnera même pas avec <symbol
>&percnt;0</symbol
>&nbsp;!</para
></warning
> <tip
><para
> Du fait que &kmail; utilise un interpréteur de commande secondaire (<quote
>subshell</quote
>) pour exécuter la ligne de commande, vous pouvez saisir ici des commandes <quote
>shell</quote
> complexes de façon arbitraire. En conséquence, même cette commande fonctionnera (dans la mesure de ses possibilités)&nbsp;:<userinput
><command
>uudecode</command
> <option
>-o</option
> <parameter
>$(mktemp kmail-uudecoded.XXXXXX)</parameter
> &amp;&amp; <command
>echo</command
> <parameter
>$'\a'</parameter
></userinput
></para
></tip
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>utiliser le programme de filtre</guilabel
></term
> <listitem
> <para
>Charge le message dans un programme. Si ce dernier génère une sortie, le message entier (y compris ses en-têtes) sera remplacé par cette sortie. Si le programme ne génère pas de sortie, le message sera inchangé. Spécifiez le chemin d'accès complet au programme.</para
> <warning
><para
>Soyez prudent avec cette action, car elle peut facilement détériorer vos messages si le programme de filtre vous renvoie des incohérences ou des lignes supplémentaires.</para
></warning
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>supprimer l'en-tête</guilabel
></term
> <listitem
> <para
>Supprime du message <emphasis
>tous</emphasis
> les champs d'en-tête comportant le nom indiqué. Son principal intérêt réside dans la suppression des en-têtes <quote
>Répondre à</quote
> boguées.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>ajouter l'en-tête</guilabel
></term
> <listitem
> <para
>Si aucun champ de ce type n'est déjà présent, cette action ajoute un nouveau champ d'en-tête comportant le nom et la valeur indiqués au message. Si un champ d'en-tête du même nom existe déjà, il est écrasé par la nouvelle valeur (celle qui est indiquée). Si plusieurs en-têtes portant ce nom existent déjà (&pex; les en-têtes <quote
>Reçu&nbsp;:</quote
>), l'un d'eux arbitrairement choisi est écrasé et les autres restent inchangés. Ceci est une limitation connue. Vous pouvez être amené à combiner ce filtre avec le filtre <guilabel
>supprimer l'en-tête</guilabel
> mentionné plus haut pour être sûr que plus aucun en-tête de ce nom ne subsiste dans le message.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>réécrire l'en-tête</guilabel
></term
> <listitem
> <para
>Analyse le champ de l'en-tête indiqué, modifie son contenu puis l'enregistre ainsi. La chaîne recherchée est toujours interprétée comme une expression rationnelle sensible à la casse. La chaîne de remplacement est insérée littéralement, sauf pour des occurrences de <userinput
>\n</userinput
>, <userinput
>$n</userinput
> et <userinput
>${nn}</userinput
>, où <userinput
>n</userinput
> est un nombre positif (à un seul chiffre, sauf pour la troisième forme) ou <userinput
>0</userinput
>. Entourées d'accolades dans la chaîne recherchée, ces structures sont interprétées comme des renvois aux sous-chaînes.</para
><para
>Des restrictions analogues à celles appliquées lors de l'action <guilabel
>ajouter un en-tête</guilabel
> s'appliquent ici aussi.</para
> </listitem
> </varlistentry
> </variablelist>

</sect2>

<sect2 id="filter-examples">
<title
>Exemples de filtres</title>

<para
>Si vous êtes abonné à la liste (générale) de &kde;, vous pouvez créer un dossier pour cette liste (et l'appeler <replaceable
>KDE-Général</replaceable
>) et utiliser un filtre pour transférer automatiquement de nouveaux messages de votre boîte de réception à votre dossier <replaceable
>KDE-Général</replaceable
> s'ils proviennent de la liste &kde;. Voici comment créer ce filtre&nbsp;:</para>

<procedure
> <title
>Filtrage d'une liste de diffusion</title
> <step
> <para
>Essayez si <menuchoice
><guimenu
>Outils</guimenu
><guisubmenu
>Créer un filtre</guisubmenu
><guimenuitem
>Filtrer sur la liste de diffusion...</guimenuitem
></menuchoice
> peut identifier la liste de diffusion (le nom de la liste devrait alors apparaître dans l'élément de menu). Si tel est le cas, cela fonctionne et un filtre vous est proposé, avec <quote
>X-Mailing-List <guilabel
>égal à</guilabel
> &lt;kde@lists.netcentral.net&gt;</quote
> présélectionné. Choisissez le dossier de destination désiré dans le menu déroulant dans le groupe<guilabel
>Actions du filtre</guilabel
> et le tour est joué&nbsp;!</para
> <para
>Si cela ne fonctionne pas, essayez de trouver un moyen unique pour identifier les messages que vous souhaitez filtrer. La propriété (presque) unique des messages de la liste &kde; tient à ce qu'ils contiennent toujours <quote
>kde@lists.netcentral.net</quote
> dans le champ <guilabel
>À&nbsp;:</guilabel
> ou <guilabel
>Cc&nbsp;:</guilabel
>. Cette solution n'est que <quote
>presque</quote
> unique, car elle échoue pour des messages postés à plusieurs listes à la fois.</para
> </step
> <step
> <para
>Choisissez <menuchoice
><guimenu
>Configuration</guimenu
><guimenuitem
>Configuration des filtres</guimenuitem
></menuchoice
>.</para
> </step
> <step
> <para
>Cliquez sur le bouton <guibutton
>Nouveau</guibutton
> pour créer un filtre vide. Il apparaît comme <guilabel
>&lt;inconnu&gt;</guilabel
>.</para
> </step
> <step
> <para
>Dans la zone <guilabel
>Critères de filtrage</guilabel
>, choisissez <guilabel
>To</guilabel
> dans le premier menu déroulant, puis <guilabel
>contient</guilabel
>dans le second menu déroulant et saisissez <userinput
>kde@lists.netcentral.net</userinput
> dans le champ texte.</para
> </step
> <step
> <para
>Passez à la section <guilabel
>Actions du filtre</guilabel
>. Choisissez <guilabel
>mettre dans le dossier</guilabel
> dans le premier menu déroulant. Un nouveau menu déroulant contenant une liste de dossiers apparaît. Choisissez le dossier dans lequel vous désirez que les messages soient transférés. Pour cet exemple, choisissez <guilabel
>KDE-Général</guilabel
> dans le menu déroulant.</para
> </step
> </procedure>

<para
>Vous pouvez estimer avoir besoin de critères de filtrage plus puissants pour filtrer correctement vos messages. Par exemple, sur la liste &kde;, vous ne filtrerez que les messages écrits par votre ami <replaceable
>Frédéric Durand &lt;fd@partout.com&gt;</replaceable
>. C'est ici que le reste de la section des critères correspondants entre en jeu&nbsp;:</para>

<procedure
> <title
>Extension du filtre</title
> <step
> <para
>Ouvrez la fenêtre <guilabel
>Configuration des filtres</guilabel
> et choisissez le filtre que vous venez de créer.</para
> </step
> <step
> <para
>Puisque vous voulez filtrer tous les messages contenant <replaceable
>kde@lists.netcentral.net</replaceable
> dans le champ <guilabel
>À&nbsp;:</guilabel
> ou <guilabel
>Cc&nbsp;:</guilabel
> <emphasis
>et</emphasis
> envoyés par Frédéric, cliquez sur le bouton radio <guibutton
>Doit correspondre à tous les critères suivants</guibutton
>.</para
> </step
> <step
> <para
>Passez maintenant à la seconde règle de filtrage et choisissez les options suivantes dans les menus déroulants&nbsp; <guilabel
>From</guilabel
>, <guilabel
>contient</guilabel
>. Saisissez à présent <userinput
>fd@partout.com</userinput
> dans le champ texte.</para
> </step
> </procedure>

<para
>Vous disposez désormais d'un filtre transférant tous les messages de la liste &kde; provenant de <userinput
>fd@partout.com</userinput
>.</para>
<!-- fixme: trigger with ctrl-j or whenever new mail arrives (unless
<guilabel
>Advanced Options</guilabel
> are changed. -->
</sect2>
</sect1>

<sect1 id="popfilters">
<title
>Filtres de téléchargement</title>

<para
>Les filtres de téléchargement peuvent servir à filtrer les messages d'un serveur POP <emphasis
>avant</emphasis
> qu'ils soient complètement téléchargés. Vous pouvez les utiliser pour empêcher &kmail; de télécharger d'énormes messages et ainsi économiser du temps.</para>

<para
>Dans la boîte de dialogue de configuration du compte POP, vous pouvez activer le filtrage des téléchargements en cochant la case <guilabel
>Filtrer les messages sur le serveur</guilabel
>. Ceci terminé, spécifiez une taille qui servira de seuil. Les messages dépassant cette taille seront vérifiés par rapport aux règles de filtrage que vous avez définies. Si aucune règle de filtrage ne correspond, les messages seront affichés dans une boîte de dialogue de confirmation et vous pourrez décider de leur sort. La taille par défaut pour le filtrage est fixée à 50&nbsp;000&nbsp;octets. C'est une valeur correcte puisque l'excédent est limité à un minimum. Tout message que le filtre examine entraîne du trafic supplémentaire car l'en-tête est téléchargé deux fois. L'action par défaut est <guilabel
>Télécharger le message</guilabel
> pour éviter de perdre des messages.</para>

<warning
><para
>Faites attention à l'option <guilabel
>Supprimer les messages sur le serveur</guilabel
>&nbsp; une fois qu'un message est supprimé du serveur, il n'existe plus aucun moyen de le récupérer.</para
></warning>

<para
>Un très bon jeu de règles de filtrage permet de marquer automatiquement tous les messages dépassant le seuil de taille (&cad; téléchargés, conservés sur le serveur ou supprimés) et vous ne devriez jamais être ennuyé par le dialogue de confirmation. Méfiez-vous cependant, lorsqu'un message correspond à une règle de filtrage, vous n'avez aucune garantie de pouvoir modifier l'action avant qu'elle ne soit exécutée. La boîte de dialogue de confirmation ne s'affichera que si un message ne correspond à aucune règle de filtrage.</para>

<sect2 id="popfilters-dialog">
<title
>La boîte de dialogue <guilabel
>Configuration des filtres POP</guilabel
></title>

<para
>L'ajout de règles de filtrage fonctionne de la même manière que pour les <link linkend="filters"
>filtres de messages</link
>. Sur la partie gauche, vous pouvez gérer les filtres existants. Utilisez le bouton <guiicon
>Nouveau</guiicon
> pour ajouter un filtre. Sur la partie droite, vous pouvez configurer les conditions de correspondance du filtre actuel. Spécifiez à l'aide de <guilabel
>Actions du filtre</guilabel
> quel sera le sort d'un message correspondant à cette règle. Les options disponibles sont&nbsp;:</para>

<variablelist
> <varlistentry
> <term
><guilabel
>Télécharger le message</guilabel
></term
> <listitem
> <para
>Télécharge les messages correspondant au filtre, exactement comme n'importe quel autre message ne dépassant pas le seuil de taille.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Télécharger le message plus tard</guilabel
></term
> <listitem
> <para
>Marque les messages en vue d'un téléchargement ultérieur. Ceci signifie que les messages correspondants resteront sur le serveur POP jusqu'à ce que vous choisissiez de les télécharger, en modifiant l'action manuellement.</para
></listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Supprimer le message du serveur</guilabel
></term
> <listitem
> <para
>Supprime le message du serveur et ne le télécharge pas. Une fois que vous avez supprimé un message du serveur, il n'existe <emphasis
>aucun</emphasis
> moyen de le récupérer. Soyez prudent, car les règles pourraient correspondre à des messages qu'en réalité vous voulez télécharger.</para
></listitem
> </varlistentry
> </variablelist>

<para
>L'option <guilabel
>Toujours afficher les messages "à télécharger plus tard" dans la fenêtre de confirmation</guilabel
> provoque l'affichage de la boîte de dialogue de confirmation pendant le relevé du courrier si au moins un message a été marqué pour être <guilabel
>Téléchargé plus tard</guilabel
>&nbsp;- même si tous les messages dépassant le seuil de taille correspondaient à une règle. Cette option est utile lorsque vous avez des messages correspondant à une règle et marqués pour être <guilabel
>Téléchargés plus tard</guilabel
>, mais que vous n'avez aucun message dépassant la taille limite pendant une longue période. Sans cette option, la boîte de dialogue de confirmation n'apparaîtrait jamais et vous n'auriez jamais l'occasion d'obtenir le message placé dans la file d'attente en modifiant l'action manuellement.</para>

</sect2>

<sect2 id="popfilters-confirmation">
<title
>La boîte de dialogue de confirmation</title>

<para
>Cette boîte de dialogue s'affiche chaque fois que vous avez activé le filtrage POP et que des messages dépassant le seuil défini pour le compte POP ont été trouvés sur le serveur. À présent, vous avez l'occasion de décider du sort que vous réservez à ce message. Les options sont <guilabel
>télécharger</guilabel
> (vert), <guilabel
>télécharger plus tard</guilabel
> (jaune avec une montre) et <guilabel
>Supprimer du serveur</guilabel
> (<quote
>x</quote
> rouge). Méfiez-vous de l'option de suppression, une fois que vous avez supprimé un message du serveur, il n'existe aucun moyen de le récupérer.</para>

<para
>Dans la section <guilabel
>Messages filtrés</guilabel
>, vous pouvez cocher la case si vous avez des messages qui ont été automatiquement marqués en vue d'une certaine action (télécharger, télécharger plus tard, supprimer) par une règle de filtrage. La case à cocher est activée uniquement si vous avez des messages qui correspondaient à une règle de filtrage. Lorsque vous l'avez cochée, une liste semblable à celle destinée aux messages non marqués automatiquement s'affiche et vous pouvez modifier l'action pour chaque message séparé.</para>

<para
>Notez que s'il existe un message dépassant la taille limite mais que tous les messages correspondent à une règle de filtrage, la boîte de dialogue ne s'affiche pas. Une exception a lieu si vous avez coché <guilabel
>Toujours afficher les messages "à télécharger plus tard" dans la fenêtre de confirmation</guilabel
>, dans la section <guilabel
>Options globales</guilabel
> de la boîte de dialogue de configuration des filtres POP. La boîte de dialogue s'affichera ensuite également lorsque vous n'avez que des messages correspondants, mais au moins un marqué pour être <guilabel
>téléchargé plus tard</guilabel
>.</para>

</sect2>

</sect1>

<sect1 id="multiple-accounts">
<title
>Utilisation de comptes multiples</title>

<para
>Les comptes multiples servent à relever les messages de plusieurs adresses électroniques et/ou de plusieurs serveurs de messagerie. Choisissez <menuchoice
><guimenu
>Configuration</guimenu
> <guimenuitem
>Configurer &kmail;</guimenuitem
></menuchoice
> et cliquez sur la page <guilabel
>Réseau</guilabel
> pour ajouter ou modifier la configuration de votre compte. Consultez la section <link linkend="getting-started"
>Démarrage</link
> pour plus d'informations sur la configuration dans la page <guilabel
>Réseau</guilabel
>.</para>

<para
>Pour relever les messages d'un compte en particulier, utilisez le sous-menu <menuchoice
><guimenu
>Fichier</guimenu
><guimenuitem
>Relever le courrier dans</guimenuitem
></menuchoice
> pour choisir le compte dans lequel relever le courrier. Vous pouvez également cliquer avec votre souris sur l'icône <guiicon
>Relever le courrier dans</guiicon
> pour obtenir une liste des comptes.</para>

</sect1>

<sect1 id="pgp">
<!-- This section is from Andreas Gungl, 2000-05-21, updated 2002-10-06 by Ingo Kloecker -->
<title
>Signature et cryptage des messages avec <application
>PGP</application
> ou <application
>GnuPG</application
></title>

<para
>Voici une brève introduction sur le mode de configuration du support <application
>PGP</application
> (<application
>Pretty Good Privacy</application
>) de &kmail;. Nous y indiquerons également quelques conseils sur l'utilisation de <application
>PGP</application
>. Elle est destinée aux utilisateurs novices dans ce domaine. Si vous savez déjà vous servir de <application
>PGP</application
>, vous pouvez ignorer la plupart des étapes. Cette documentation (et l'interface utilisateur de &kmail;) ne traite généralement que de <quote
>PGP</quote
>, mais elle s'applique à la fois à <application
>PGP</application
> et à <application
>GnuPG</application
> (<application
>GNU Privacy Guard</application
>), même si certains paramètres de ligne de commande de <application
>GnuPG</application
> peuvent être différents.</para>

<para
>Consultez également la <link linkend="pgp-faq"
>&FAQ; à propos de <application
>PGP</application
></link
>.</para>

<!-- note: this is partly copied above: -->
<warning
><para
>Les pièces jointes ne seront pas cryptées si vous utilisez le support OpenPGP intégré. Pour crypter des pièces jointes, il faut installer et configurer des <link linkend="configure-security-plugins"
>modules de cryptage externes</link
>. Vous pouvez ensuite décider quelle pièce jointe doit être cryptée ou non. </para
></warning>

<warning
><para
>&kmail; doit s'appuyer sur la sortie de <application
>PGP</application
>. Cette sortie étant souvent différente selon les diverses versions de <application
>PGP</application
>, il est important de tester si le cryptage fonctionne réellement avec votre configuration avant de commencer à l'utiliser sérieusement. &kmail; est susceptible de <emphasis
>ne</emphasis
> <emphasis
>pas</emphasis
> vous avertir en cas de dysfonctionnement. Vous avez donc tout intérêt à activer l'option <guilabel
>Afficher le texte signé/crypté après l'édition</guilabel
>. </para
></warning>

<para
>Pour configurer et utiliser la gestion de <application
>PGP</application
> dans &kmail;, vous devez avoir installé et configuré <application
>PGP</application
> correctement. Nous ne pouvons naturellement pas fournir ici une présentation complète de <application
>PGP</application
>. Nous n'en mentionnerons que les étapes incontournables pour que <application
>PGP</application
> fonctionne. Pour plus de détails, consultez l'excellente documentation de <application
>PGP</application
> ou au <ulink url="http://www.gnupg.org/docs.html#guides"
>The GNU Privacy Handbook</ulink
>.</para
> 

<para
>Il est certainement judicieux d'étudier cette documentation ainsi qu'une introduction à la cryptographie par clef publique (&pex; dans le paquetage <application
>PGP</application
>&nbsp;6.5.x). Vous y apprendrez beaucoup de choses sur les concepts de base, qui vous aideront à en comprendre le fonctionnement. De nombreux aspects liés à la sécurité que vous devriez connaître y sont également abordés.</para>

<para
>À présent, commençons.</para>

<sect2 id="pgp-preconditions">
<title
>Prérequis</title>

<para
>&kmail; s'attend à ce que votre binaire <application
>PGP</application
> soit appelé <command
>pgp</command
>. Dans le cas de <application
>GnuPG</application
>, il s'attend à ce que le binaire soit appelé <command
>gpg</command
>. Si tel n'est pas votre cas, créez simplement un lien symbolique.</para>

<para
>Si vous ne l'avez pas encore fait, vous devez générer une paire de clefs (secrète et publique) pour votre identité. Cette opération doit s'effectuer sur la ligne de commande&nbsp;: utilisez <userinput
><command
>pgp</command
> <option
>-kg</option
></userinput
> ou <userinput
><command
>gpg</command
> <option
>--gen-key</option
></userinput
>. &kmail; ne dispose pas d'un support interne pour la génération de clefs <application
>pgp</application
> pour le moment. L'identité (normalement, votre nom suivi de votre adresse électronique entouré d'un caractère <quote
>&lt;</quote
> et <quote
>&gt;</quote
>, telle que <userinput
>Jean Dupont &lt;jean@example.com&gt;</userinput
>) et votre clef confidentielle (<quote
>passphrase</quote
>) sont importantes pour que  &kmail; et <application
>pgp</application
> coopèrent.</para>

</sect2>

<sect2 id="pgp-settings">
<title
>Paramètres liés à <application
>PGP</application
> dans &kmail;</title>

<para
>Choisissez l'onglet <guilabel
>OpenPGP</guilabel
> dans la page de configuration <guilabel
>Sécurité</guilabel
>. Vous y trouvez les options suivantes&nbsp;:</para>

<variablelist
> <varlistentry
> <term
><guilabel
>Outil de cryptage</guilabel
></term
> <listitem
> <para
>Ici, vous pouvez opter pour l'utilisation de <application
>PGP</application
>, de <application
>GnuPG</application
> ou d'aucun logiciel de cryptage. Le programme choisi doit naturellement être installé sur votre système. Il est également important de préférer la version correcte.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Conserver la clef confidentielle en mémoire</guilabel
></term
> <listitem
> <para
>Lorsque cette option est désactivée, &kmail; vous demandera votre clef confidentielle chaque fois que vous signerez un message (avant envoi) ou que vous choisirez un message crypté. Si vous activez cette option, &kmail; mémorisera votre clef confidentielle après votre première saisie réussie, jusqu'à ce que vous ayez mis fin à votre session de &kmail;. La clef confidentielle est stockée en mémoire, et non enregistrée sur le disque dur. Si vous utilisez un des modules externes de cryptage ou, si vous utilisez <application
>GnuPG</application
> avec l'agent gpg, un programme externe vous demandera votre clef confidentielle et la mémorisera de façon optionnelle pour une certaine durée.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Toujours crypter les messages envoyés à soi-même</guilabel
></term
> <listitem
> <para
>Lorsque cette option est désactivée et que vous désirez envoyer un message crypté à un correspondant, vous ne pouvez plus le lire après l'avoir composé et crypté. Activez cette option pour que les messages cryptés envoyés soient lisibles par vous-même.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Afficher le texte crypté/signé après composition</guilabel
></term
> <listitem
> <para
>Cette option vous montre le résultat du cryptage et de la signature avant l'envoi du message. Ainsi, vous pouvez encore annuler l'envoi si le cryptage a échoué. Il est vivement recommandé d'utiliser cette option.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Toujours montrer la clef de cryptage pour approbation</guilabel
></term
> <listitem
> <para
>Cette option ouvre toujours une boîte de dialogue permettant de choisir les clefs utilisées pour chaque destinataire lorsque vous envoyez un message crypté. Si cette option est désactivée, &kmail; affiche cette boîte de dialogue uniquement lorsqu'il ne peut pas trouver de clef pour un destinataire ou qu'il existe des préférences conflictuelles ou un cryptage non défini.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Signer automatiquement les messages à l'aide d'OpenPGP</guilabel
></term
> <listitem
><para
>Cette option permet d'activer la signature automatique de vos messages par défaut. Bien sûr, il est encore possible d'envoyer des messages non signés en désélectionnant l'icône dans la fenêtre d'édition. </para
> </listitem
> </varlistentry
> <varlistentry
> <term
><guilabel
>Crypter automatiquement les messages si possible</guilabel
></term
> <listitem
><para
>Lorsque cette option est activée, &kmail; crypte automatiquement les messages avec le support OpenPGP intégré ou le module externe PGP/MIME à condition qu'une clef PGP approuvée se trouve dans votre <quote
>trousseau</quote
> pour tous les destinataires et que vous n'ayez pas ordonné à &kmail; de ne pas crypter les messages envoyés à certains destinataires. Dans le doute, &kmail; demandera si le message doit être crypté ou non.</para
></listitem
> </varlistentry
> </variablelist>

<para
>Maintenant que vous avez configuré l'outil de cryptage, vous devez indiquer à &kmail; quelle clef OpenPGP vous désirez utiliser pour signer et crypter les messages. Pour ce faire, allez dans <link linkend="configure-identity"
>Configuration des identités</link
> et définissez la clef qui devra être utilisée dans l'onglet <guilabel
>Options avancées</guilabel
> de la configuration des identités.</para>

<para
>Désormais, vous êtes en mesure de signer les messages sortants. Pour que vos correspondants puissent vous envoyer des messages cryptés et vérifier votre signature, vous devez leur envoyer votre clef publique ou la publier sur un serveur de clefs publiques <application
>PGP</application
> sur lequel ils pourront la récupérer. Pour envoyer des messages cryptés à d'autres personnes ou vérifier leurs messages signés, vous aurez besoin de leurs clefs publiques. Vous pouvez stocker votre(vos) clef(s) publique(s) sur un serveur de clefs publiques <application
>PGP</application
> tel que <ulink url="http://www.cam.ac.uk.pgp.net/pgpnet/"
>http://www.cam.ac.uk.pgp.net/pgpnet/</ulink
>.</para>

</sect2>

<sect2 id="pgp-sign-your-messages">
<title
>Signer vos messages</title>

<para
>Composez votre message comme d'habitude dans la fenêtre d'édition de &kmail;. Avant de l'envoyer, cochez l'icône de barre d'outils <guiicon
>Signer le message</guiicon
> dans la fenêtre d'édition. Vous pouvez alors envoyer le message. L'identité que vous utilisez pour écrire le message en question doit être connectée à une <guilabel
>Clef OpenPGP</guilabel
>, dans la section <guilabel
>Identité</guilabel
> de la boîte de dialogue <guilabel
>Configuration</guilabel
>. Pour signer le message, &kmail; doit connaitre votre clef confidentielle (<quote
>passphrase</quote
>) <application
>PGP</application
>. Si vous n'avez pas choisi l'option <guilabel
>Conserver la clef confidentielle en mémoire</guilabel
> dans la section <guilabel
>Sécurité</guilabel
>, &kmail;, &kmail; vous la demandera. Par ailleurs, si vous avez déjà fourni votre clef confidentielle à &kmail;, ce dernier signera le message sans autre invite.</para>

</sect2>

<sect2 id="pgp-encrypt-your-messages">
<title
>Crypter vos messages</title>

<para
>Pour envoyer un message crypté à une personne dont vous possédez une clef publique, créez simplement un message dans la fenêtre d'édition. Avant d'envoyer le message, cochez le bouton <guibutton
>Crypter le message</guibutton
> dans la barre d'outils de la fenêtre d'édition. Notez qu'il n'est pas nécessaire de cocher le bouton si <guilabel
>Crypter automatiquement les messages si possible</guilabel
> est choisi dans la configuration de &kmail; (consultez <link linkend="pgp-sign-your-messages"
>ci-dessus</link
>). Puis envoyez le message.</para>

<para
> Lorsque vous avez cliqué sur le bouton <guilabel
>Crypter le message</guilabel
> et que &kmail; ne peut pas trouver de clef correspondante pour un destinataire, il affiche une liste contenant toutes les clefs disponibles dans la boîte de dialogue <guilabel
>Choisir la clef de cryptage</guilabel
>. Si &kmail; trouve plusieurs clefs approuvées pour un destinataire, il affiche une liste contenant toutes les clefs correspondantes pour ce destinataire. Dans les deux cas, vous pouvez choisir la(les) clef(s) qui devraient servir à crypter ce message pour le destinataire en question. La case à cocher <guilabel
>Mémoriser cette décision</guilabel
>, permet d'enregistrer votre choix pour vos messages ultérieurs.</para>

<para
>Si vous utilisez une clef pour la première fois, s'il existe des préférences de cryptage conflictuelles ou si <guilabel
>Toujours afficher les clefs de cryptage pour approbation</guilabel
> est sélectionné dans la section <guilabel
>Sécurité</guilabel
> du dialogue de configuration de &kmail;, la boîte de dialogue <guilabel
>Confirmation de la clef de cryptage</guilabel
> apparaît. Vous pouvez choisir ici d'autres clefs pour les destinataires et également définir les <guilabel
>Préférences de cryptage</guilabel
> pour chaque destinataire. L'option par défaut, <guilabel
>Crypter si le cryptage est possible</guilabel
> cryptera automatiquement votre message s'il existe une clef approuvée pour chaque destinataire.</para>

<para
>Comme mentionné ci-dessus, vous ne serez pas en mesure de lire vos propres messages envoyés cryptés si vous ne cochez pas <guilabel
>Toujours chiffrer vers soi-même</guilabel
> dans la page de configuration <guilabel
>Sécurité</guilabel
>.</para>

</sect2>

<sect2 id="pgp-send-your-public-key">
<title
>Envoyer votre clef publique</title>

<para
>Préparez un message destiné à la personne à qui vous désirez envoyer votre clef confidentielle. Puis, dans le menu de la fenêtre d'édition, choisissez <menuchoice
><guimenu
>Joindre</guimenu
><guimenuitem
>Joindre ma clef publique</guimenuitem
> </menuchoice
>. La clef publique que vous avez définie pour l'identité actuelle sera jointe au message. Vous pouvez à présent l'envoyer.</para>

<para
>N'oubliez pas qu'il est très risqué de signer le message pour s'assurer que le destinataire obtiendra la clef correcte. Il peut se produire une attaque par individu interposé, puisque n'importe qui peut changer la clef et signer le message avec cette autre clef. C'est pourquoi le destinataire a tout intérêt à vérifier la clef jointe en vérifiant son empreinte avec celle qu'il a obtenue de votre part de manière sécurisée. Jetez un coup d'œil à la documentation de <application
>PGP</application
> pour plus de détails.</para>

</sect2>

<sect2 id="pgp-you-got-an-encrypted-message">
<title
>Vous avez reçu un message crypté</title>

<para
>Il vous suffit de choisir le message dans &kmail;. Vous êtes invité à saisir votre clef confidentielle. Puis, &kmail; tente de décrypter le message et d'en afficher le texte en clair si le message a été crypté avec votre clef publique (sinon, vous ne serez pas en mesure de le lire). &kmail; stocke les messages cryptés, de façon que personne ne puisse les lire sans connaître votre clef confidentielle.</para>

</sect2>

<sect2 id="pgp-receiving-a-public-key">
<title
>Réception d'une clef publique</title>

<para
>Vous pouvez recevoir une clef publique en pièce jointe via http, ftp ou une disquette. Avant de pouvoir utiliser cette clef pour crypter un message destiné au propriétaire de la clef, vérifiez-la (vérifiez son empreinte ou examinez les signatures de confiance). Vous pouvez alors ajouter cette clef à votre trousseau de clefs publiques en saisissant <userinput
><command
>pgp</command
><option
>-ka</option
> <replaceable
>nom_fichier</replaceable
></userinput
> sur la ligne de commande si vous utilisez <application
>PGP</application
>, ou en saisissant <userinput
><command
>gpg</command
> <option
>--import</option
> <replaceable
>nom_fichier</replaceable
></userinput
> sur la ligne de commande si vous utilisez <application
>GnuPG</application
>. Si la clef n'est pas certifiée par une signature de confiance, vous ne pouvez pas l'utiliser pour crypter les messages, à moins que vous n'ayez signé la clef avec la vôtre. </para>

</sect2>

</sect1>
<sect1 id="using-kmail-authors">
<title
>Auteurs de la section</title>

<para
>Cette section a été écrite par&nbsp;: Daniel Naber <email
>daniel.naber@t-online.de</email
> et David Rugge <email
>davidrugge@mediaone.net</email
>.</para>

<para
>Traduction française par &JoelleCornavin;, &GerardDelafond;, &LudovicGrossard;, &Pierre-EmmanuelMuller; et &LaurentRathle;.</para>

</sect1>
</chapter>

