<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN" "dtd/kdex.dtd" [
 <!ENTITY kappname "&kmid;">
 <!ENTITY package "kdemultimedia">
 <!ENTITY % Russian "INCLUDE"
> <!-- change language only here -->
 <!ENTITY % addindex "IGNORE">
]>

<book lang="&language;">

<bookinfo>
<title
>Руководство &kmid;</title>
<authorgroup>
<author
><firstname
>Antonio</firstname
> <surname
>Larrosa Jim&eacute;nez</surname
> <affiliation
> <address
><email
>larrosa@kde.org</email
></address>
</affiliation>
</author>
<othercredit role="translator"
><firstname
>Иван</firstname
><surname
>Кашуков</surname
><affiliation
><address
><email
>dolphin210@yandex.ru</email
></address
></affiliation
><contrib
>Перевод на русский</contrib
></othercredit
> 
</authorgroup>

<copyright>
<year
>1999</year
><year
>2001</year>
<holder
>Antonio Larrosa Jim&eacute;nez</holder>
</copyright>

<date
>2002-02-05</date>
<releaseinfo
>2.00.00</releaseinfo>

<abstract>
<para
>&kmid; - мультимедийный проигрыватель файлов midi/karaoke </para>
</abstract>

<keywordset>
<keyword
>KMid</keyword>
<keyword
>midi</keyword>
<keyword
>karaoke</keyword>
<keyword
>multimedia</keyword>
<keyword
>mid</keyword>
<keyword
>kar</keyword>
<keyword
>player</keyword>
<keyword
>music</keyword>
<keyword
>sound</keyword>
<keyword
>fm</keyword>
<keyword
>awe</keyword>
<keyword
>gus</keyword>
</keywordset>
</bookinfo>

<chapter id="introduction">
<title
>Введение</title>

<para
>&kmid; - мультимедийный проигрыватель файлов midi/karaoke под &kde;. Некоторые его качества, такие как графика реального времени и подсветка текста караоке, не встречаются у других midi-проигрывателей &UNIX;. </para>

<para
>&kmid; работает на платформах &Linux; и FreeBSD. Программа использует звуковой драйвер <acronym
>OSS</acronym
>, так что сможет работать на любой системе, где скомпилированы &kde; и <acronym
>OSS</acronym
>. &kmid; также поддерживает &Linux; Ultrasound Project Driver, который работает со звуковыми картами <acronym
>GUS</acronym
>. Я планирую ввести поддержку драйвера <acronym
>ALSA</acronym
> одновременно с поддержкой секвенсера. </para>

<para
>Одновременно с воспроизведением музыки в окне &kmid; выводится текст песни. Цвет текста меняется по ходу воспроизведения, так что следовать за музыкой очень легко. </para>

<para
>Надеюсь, что вам будет так же интересно использовать &kmid;, как мне было интересно её разрабатывать. </para>

<para
>Antonio Larrosa Jim&eacute;nez <email
>larrosa@kde.org</email
> </para>

<sect1 id="kmids-features">
<title
>Возможности &kmid;</title>

<para
>Основные характеристики &kmid;: </para>
      
<itemizedlist>
<listitem>
<para
>Очень <emphasis
>дружелюбный интерфейс пользователя</emphasis
> - отображение текста караоке с подсвечиванием. </para>
</listitem>
<listitem>
<para
>Графическое отображение состояния каждого из каналов midi - подсвечивание нажатых клавиш на виртуальных клавиатурах. </para>
</listitem>
<listitem>
<para
><emphasis
>Midi-мэппер</emphasis
>, имеющий больше возможностей, чем любой другой на всех операционных системах. </para>
</listitem>
<listitem>
<para
>Поддержка механизма <emphasis
>drag &amp; drop</emphasis
> - при использовании &kde; вы сможете перетаскивать файлы midi из окна &konqueror;. </para>
</listitem>
<listitem>
<para
>Вы можете <emphasis
>изменять скорость</emphasis
> воспроизведения песен. </para>
</listitem>
<listitem>
<para
>Программа отображает индикаторы ритма песни. </para>
</listitem>
<listitem>
<para
>Вы можете <emphasis
>настраивать шрифты</emphasis
> отображаемого текста караоке. </para>
</listitem>
<listitem>
<para
>Поддержка двух стандартов представления текста песен в файлах midi - текст песни или сообщения (программа автоматически определяет метод, используемый данным файлом). </para>
</listitem>
<listitem>
<para
>Управление сеансами. Если вы вышли из &kde; во время воспроизведения песни, при следующем входе программа начнёт проигрывать этот же файл. </para>
</listitem>
<listitem>
<para
><emphasis
>Регулировка звука</emphasis
> в режиме реального времени. </para>
</listitem>
<listitem>
<para
>Программа может воспроизводить искажённые файлы midi, попытка воспроизведения которых на других проигрывателях вызовет сбой ядра. </para>
</listitem>
<listitem>
<para
>Вы можете открывать <emphasis
>файлы midi/караоке, сжатые gzip</emphasis
>, так же, как обычные файлы. </para>
</listitem>
<listitem>
<para
>В моей системе программа занимает приблизительно <emphasis
>0.1&percnt;</emphasis
> ресурсов <acronym
>CPU</acronym
> (зависит от состава файла). </para>
</listitem>
<listitem>
<para
>Поддерживает внешние midi-синтезаторы, звуковые карты <acronym
>AWE</acronym
>, <acronym
>FM</acronym
> и <acronym
>GUS</acronym
> (для последней вам понадобится установить драйвер <acronym
>LUP</acronym
> и gusd). </para>
</listitem>
<listitem>
<para
>Работает на &Linux; и FreeBSD (возможно, и на других Unix-подобных системах). </para>
</listitem>
</itemizedlist>

</sect1>
</chapter>

<chapter id="general-usage">
<title
>Использование</title>

<sect1 id="opening-songs">
<title
>Как открыть файл</title>

<para
>Есть несколько способов открыть файл. </para>

<para
>Вы можете выбрать опцию <guimenuitem
>Открыть...</guimenuitem
> в меню <guimenu
>Файл</guimenu
> - будет выведено стандартное диалоговое окно выбора файла, в котором вы сможете выбрать нужную песню. </para>

<para
>Вы можете перетащить один или несколько файлов из окна &konqueror; в окно &kmid;.  </para>

<para
>Также вы можете задать файл при вызове &kmid; из командной строки. </para>

<para
>Наконец, вы можете выбрать файл из списка файлов активной коллекции. </para>

</sect1>

<sect1 id="playing-songs">
<title
>Воспроизведение файлов</title>

<para
>Чтобы воспроизвести файл, откройте его и нажмите на кнопку <guiicon
>Воспроизвести</guiicon
> на панели инструментов, выберите пункт <guimenuitem
>Воспроизвести</guimenuitem
> в меню <guimenu
>Песня</guimenu
> или нажмите <keycap
>пробел</keycap
>. </para>

<para
>Обратите внимание, что когда вы открываете файл, перетаскивая его в окно &kmid;, программа автоматически начинает его воспроизведение (если вы перетащили более одного файла, они будут добавлены в коллекцию и будут воспроизведены по очереди). </para>

<para
>Во время проигрывании песни вы можете передвинуть ползунок времени или щёлкнуть средней кнопкой мыши по нужному месту на шкале. </para>

<para
>Если музыка играет слишком быстро или слишком медленно, вы можете изменить скорость с помощью стрелок с двух сторон <acronym
>индикатора</acronym
> скорости. Чтобы восстановить скорость по умолчанию, дважды щёлкните по <acronym
>индикатору</acronym
> скорости. </para>

<para
>Клавиша <keycap
>пробел</keycap
> используется для двух вещей: если вы нажмёте пробел во время воспроизведения музыки, оно будет приостановлено (также вы можете нажать кнопку <guiicon
>Пауза</guiicon
> или выбрать пункт <guimenuitem
>Пауза</guimenuitem
> в меню <guimenuitem
>Песня</guimenuitem
>). Если музыка не воспроизводилась, после нажатия клавиши <keycap
>пробел</keycap
> &kmid; начнёт воспроизведение. </para>

</sect1>

<sect1 id="displaying-lyrics">
<title
>Отображение текста песни</title>

<para
>Есть два способа хранения текста песни в файле - используя <guimenuitem
>Сообщения</guimenuitem
> или <guimenuitem
>Текст песни</guimenuitem
>. Некоторые файлы используют первый способ, некоторые - второй, а некоторые не включают текст песни :-) </para>

<para
>&kmid; позволяет вам выбрать способ отображения текста, также вы можете включить опцию, позволяющую программе автоматически определять метод, используемый данным файлом, так что вам не придётся изменять его вручную. Если вы выберите пункт <guimenuitem
>Автовыбор текста</guimenuitem
> в меню <guimenu
>Настройка</guimenu
>, тип текста караоке будет устанавливаться автоматически, но вы сможете изменить выбор вручную. </para>

<para
>Чтобы выбрать нужный тип, вы можете использовать пункты меню <guimenu
>Настройка</guimenu
> или просто нажать клавишу <keycap
>1</keycap
> или <keycap
>2</keycap
>, чтобы выбрать тип <guimenuitem
>Сообщения</guimenuitem
> или <guimenuitem
>Текст песни</guimenuitem
> соответственно. </para>

</sect1>

</chapter>

<chapter id="collections">
<title
>Коллекции</title>

<para
>Коллекция - созданный пользователем список файлов midi, которые воспроизводятся по очереди. В этой секции руководства даётся информация и приводятся полезные советы по использованию коллекций. </para>

<sect1 id="creating-a-collection">
<title
>Создание коллекции</title>

<para
>Чтобы создать коллекцию, откройте диалог <guilabel
>Менеджер коллекций...</guilabel
>, выбрав пункт <guimenuitem
>Менеджер коллекций ...</guimenuitem
> меню <guimenu
>Коллекции</guimenu
>. Затем щёлкните по кнопке <guibutton
>Новая</guibutton
> и введите название, которое вы хотите присвоить коллекции. </para>

<para
>Чтобы скопировать коллекцию, выберите её и нажмите на кнопку <guibutton
>Копировать</guibutton
>. Программа выведет окно, в котором вы сможете ввести имя новой коллекции. Она будет содержать те же песни, что и выбранная коллекция. </para>

<para
>Если у вас более одной коллекции, вы сможете выбирать активную в окне <guilabel
>Менеджера коллекций</guilabel
>. </para>

</sect1>
<sect1 id="the-temporary-collection">
<title
>Временная коллекция</title>

<para
>Временная коллекция содержит файлы, которые вы назначили на воспроизведение, но не хотите добавлять к какой-либо коллекции. </para>

<para
>Если вы добавляете много песен в эту коллекцию, имейте в виду, что она <emphasis
>не сохраняется</emphasis
> при выходе из приложения. </para>

<para
>Продолжайте читать эту секцию, чтобы узнать больше о Временной коллекции. </para>

</sect1>

<sect1 id="adding-songs-to-a-collection">
<title
>Добавление песен в коллекцию</title>
<subtitle
>Как использовать опцию <guimenuitem
>Автоматически добавлять в коллекцию</guimenuitem
></subtitle>

<para
>Есть несколько способов добавления песни в коллекцию. </para>

<para
>При использовании любого метода в первую очередь вы должны выбрать коллекцию, к которой хотите добавить файлы, в <guilabel
>Менеджере коллекций</guilabel
>. Затем, чтобы добавить файл, нажмите на кнопку <guibutton
>Добавить</guibutton
> - будет выведено диалоговое окно, в котором вы сможете выбрать файлы. </para>

<para
>Возможность использования других методов зависит от того, включена опция <guimenuitem
>Автоматически добавлять в коллекцию</guimenuitem
> или нет. </para>

<para
>Если опция <guimenuitem
>Автоматически добавлять в коллекцию</guimenuitem
> включена, то когда вы открываете файл (используя опцию<menuchoice
><guimenu
>Файл</guimenu
> <guimenuitem
>Открыть...</guimenuitem
></menuchoice
> или перетащив файл в окно программы), он (они) автоматически добавляется (добавляются) в активную коллекцию без вмешательства пользователя. </para>

<para
>Если опция <guimenuitem
>Автоматически добавлять в коллекцию</guimenuitem
> не включена, файлы будут добавляться во временную коллекцию, которая перед этим будет очищаться. </para>

</sect1>

<sect1 id="removing-songs-from-collections">
<title
>Удаление файлов из коллекций</title>

<para
>Чтобы удалить файл из коллекции, откройте <guilabel
>Менеджер коллекций</guilabel
>, выберите коллекцию, в ней - файл, который вы хотите удалить, и нажмите кнопку <guibutton
>Удалить</guibutton
>. </para>

</sect1>

<sect1 id="playing-order">
<title
>Воспроизведение по порядку или случайно</title>

<para
>Вы можете выбирать порядок, в котором будут воспроизводиться песни. Если вы выберете режим <guimenuitem
>По порядку</guimenuitem
> из меню <guisubmenu
>Коллекции</guisubmenu
>, подменю <guimenu
>Коллекции</guimenu
>, песни будут воспроизводиться в том порядке, в каком они были добавлены в коллекцию. </para>

<para
>Если вы выберите режим <guimenuitem
>В случайном порядке</guimenuitem
>, &kmid; будет создавать переменную со случайным значением, чтобы песни воспроизводились в действительно случайном порядке. В соответствии со значениями, присваемыми переменной, будет создаваться список, по которому будут воспроизводиться файлы (вы хотите, чтобы они воспроизводились в случайном порядке, но не хотите слушать одну песню два раза подряд, и хотите, чтобы при нажатии кнопки <guibutton
>Предыдущая песня</guibutton
>, воспроизводилась песня, игравшая до этого, не так ли? :-) ). </para>

<para
>Этот список создаётся заново каждый раз, когда вы добавляете или удаляете файл из активной коллекции и когда вы выбираете пункт меню <guimenuitem
>В случайном порядке</guimenuitem
>. </para>

</sect1>

<sect1 id="selecting-from-a-collection">
<title
>Выбор песни из коллекции</title>

<para
>Вы можете выбрать песню, которую хотите прослушать, с помощью <literal
>Менеджера коллекций</literal
> или с помощью выпадающего списка над текстом караоке. </para>

<para
>Также вы можете выбрать следующую песню с помощью пункта <literal
>Следующая песня</literal
> меню <literal
>Песня</literal
>, с помощью кнопки <literal
>Следующая песня</literal
> или нажав на клавишу <literal
>стрелка вправо</literal
>. </para>

<para
>Чтобы перейти к предыдущей песне, используйте пункт <guimenuitem
>Предыдущая песня</guimenuitem
> меню <guimenu
>Песня</guimenu
>, нажмите на кнопку <guimenuitem
>Предыдущая песня</guimenuitem
> на панели инструментов или нажмите на клавишу <keycap
>стрелка влево</keycap
>. </para>

</sect1>

<sect1 id="deleting-a-collection">
<title
>Удаление коллекции</title>

<para
>Чтобы удалить коллекцию, откройте <guilabel
>Менеджер коллекций</guilabel
>, выберите коллекцию, которую вы хотите удалить и щёлкните по кнопке <guibutton
>Удалить</guibutton
>. Легко, не правда ли? </para>

<para
>Помните, что вы не можете удалить временную коллекцию, но это неважно, так как когда вы выйдете из &kmid;, она всё равно будет удалена. </para>

</sect1>

</chapter>

<chapter id="midi-maps">
<title
>Таблицы событий midi</title>

<sect1 id="what-is-a-midimap">
<title
>Что такое таблица событий midi?</title>

<para
>Таблица событий midi определяет события midi в других событиях midi. </para>

<para
>Это необходимо для синтезаторов, которые не поддерживают стандартные события (т. е. не являются совместимыми с General Midi), в этом случае таблица событий midi переводит события General Midi в события, которые понимает синтезатор. </para>

<para
>Например, вы можете создать таблицу событий midi, которая переводит все события <literal
>Change patch to Bright Piano</literal
> (сменить патч на концертный рояль) в события <literal
>Change patch to Trumpet</literal
> (сменить патч на трубу) - когда песня пытается воспроизвести рояль, будет воспроизводиться звук трубы. </para>

<para
>Это может звучать необычно (зачем воспроизводить трубу, если музыка предназначена для воспроизведения на рояле?), но это может быть очень полезным. Стандарт <acronym
>GM</acronym
> говорит, что когда midi-клавиатура получает команду сменить патч на <literal
>0</literal
>, она заменяет текущий патч на <literal
>Рояль</literal
>. Старые синтезаторы при команде сменить патч на <literal
>0</literal
>, могут сменить его, например, на патч <literal
>Электрогитара</literal
>. Чтобы сменить патч на <literal
>Рояль</literal
>, им, например, необходимо получить команду сменить патч на <literal
>3</literal
>. Здесь может помочь таблица событий midi, которая заменяет все команды <literal
>change patch to 0</literal
> (сменить патч на 0) на команды <literal
>change patch to 3</literal
> (сменить патч на 3), и при этом воспроизводится необходимый инструмент. </para>

</sect1>

<sect1 id="do-i-need-a-midi-map">
<title
>Нужна ли мне таблица событий midi?</title>

<para
>Коротко говоря, если у вас нет внешнего синтезатора, то <emphasis
>нет</emphasis
>! </para>

<para
>Если у вас есть только звуковая карта, таблицы событий midi не нужны, так как все звуковые карты совместимы с <acronym
>GM</acronym
> (включая карты <acronym
>GUS</acronym
>, устройства <acronym
>FM</acronym
> и так далее). </para>

<para
>Если вы воспроизводите музыку через внешний синтезатор, и он не является GM-совместимым, вам придётся создать таблицу событий midi для вашей midi-клавиатуры. Хотя создание таблицы событий midi и проверка всех возможных значений для всех опций может занять около шести часов, после завершения вы будете полностью вознаграждены, так как вы будете знать все скрытые возможности вашей клавиатуры. Например, я использую недорогую клавиатуру Yamaha PSS-790, которая не является <acronym
>GM</acronym
>-совместимой и включает меньше инструментов, чем синтезатор <acronym
>GM</acronym
>, но с использованием таблицы событий midi &kmid; она звучит даже лучше, чем многие звуковые карты (включая AWE :-)), в соответствии с качеством звучания внешних синтезаторов (даже тех, которые не являются <acronym
>GM</acronym
>-совместимыми). </para>

</sect1>

<sect1 id="creating-a-midi-map">
<title
>Создание таблицы событий midi</title>

<para
>Программы, созданной для создания таблиц событий midi, не существует, поэтому вам придётся редактировать файл вручную (используя ваш любимый текстовый редактор). </para>

<para
>Таблица событий midi - это текстовый файл, содержащий все необходимые переводы, которые будут сделаны во время воспроизведения музыки. </para>

<para
>Он состоит из четырёх секций: <literal
>PATCHMAP</literal
>, <literal
>KEYMAP</literal
>, <literal
>CHANNELMAP</literal
> и <literal
>OPTIONS</literal
>. </para>

<para
>Каждая секция должна встречаться только однажды, исключая секцию <literal
>KEYMAP</literal
>, которая может вставляться столько раз, сколько необходимо - каждая из них использует разные текстовые идентификаторы - имена (детали см. далее). </para>

<para
>Общая структура таблицы событий midi: </para>

<screen
>DEFINE PATCHMAP
...
END

DEFINE KEYMAP "Название таблицы клавиш"
...
END

DEFINE KEYMAP "Название другой таблицы клавиш"
...
END

DEFINE CHANNELMAP
...
END

OPTIONS
...
END
</screen>

<para
>Вы можете видеть, что слово <literal
>DEFINE</literal
> используется, чтобы установить начало секции (исключая <literal
>OPTIONS</literal
>). В конце каждой секции ставится слово <literal
>END</literal
>. </para>

<para
>Чтобы ввести комментарий, начните строку с символа <literal
>&num;</literal
>. </para>

<para
>Пожалуйста, не забудьте выслать мне вашу таблицу событий midi по электронной почте, чтобы следующие версии &kmid; включали поддержку большего количества клавиатур, не являющихся General Midi - совместимыми. </para>

<sect2 id="the-patchmap-section">
<title
>Секция <literal
>PATCHMAP</literal
></title>

<para
>Эта секция используется, чтобы установить соответствие между патчами GM и вашей клавиатуры. Использование: </para>

<screen
>(Название патча GM)=(<replaceable
>N</replaceable
>) [AllKeysTo M]
</screen>

<para
>Здесь <replaceable
>N</replaceable
> - номер, который ваша клавиатура должна получить, чтобы сменить патч на соответствующий стандарту GM. </para>

<para
>Обратите внимание, что название патча (слева от знака равенства) игнорируется, так как предполагается, что патчи идут в порядке от 0 до 127. Поэтому вам не следует менять порядок строк, чтобы не пропустить какой-либо из 128 инструментов. </para>

<para
>Секция <literal
>AllKeysTo M</literal
> используется, чтобы отнести все ноты, воспроизводимые этим инструментом, к клавише <literal
>M</literal
>. Пример: предположим, что ваша клавиатура не включает звук Выстрел (по стандарту GM - патч 127), и вы хотите отнести его к барабану (клавиша 60), звучание которого похоже на выстрел. Тогда в 127-й строке секции <literal
>PATCHMAP</literal
> вам следует ввести следующее: </para>

<screen
>Gunshot       =100 AllKeysTo 60</screen>


<para
>Когда файл midi пытается воспроизвести звук с помощью патча 127 (выстрел), сигнал будет переназначен на патч 100 (патч ударных вашей клавиатуры), на котором будет воспроизведена нота 60 (вне зависимости от ноты, которая должна была быть воспроизведена). </para>

<para
>Обратите внимание, что когда я использую выражение <quote
>Ударные</quote
>, я имею в виду патч, в котором каждая клавиша соответствует отдельному инструменту - барабану, цимбалам и т. д., а не отдельному звуку барабана, отличающегося от других только тоном, как на некоторых клавиатурах. </para>

</sect2>

<sect2 id="The-keymap-section">
<title
>Секция <literal
>KEYMAP</literal
></title>

<para
>Секция <literal
>KEYMAP</literal
> используется, чтобы обозначить соответствие клавиш какого-либо канала или инструмента. Использование: </para>

<screen
>DEFINE KEYMAP "Название таблицы клавиш"
C 0 =0
C#0 =1
D 0 =2
...
END
</screen>

<para
>Как и в секции <literal
>PATCHMAP</literal
>, здесь очень важен порядок строк, и необходимо, чтобы все они (128 клавиш) были указаны. </para>

<para
>Так как вы можете задать несколько таблиц клавиш для разных каналов и инструментов, вы должны присвоить всем различные имена (задаётся в первой строке). </para>

<para
>В таблицы клавиш обычно вносятся клавиши канала ударных. Примеры - в таблицах событий midi, включённых в дистрибутив. </para>

</sect2>

<sect2 id="the-channelmap-section">
<title
>Секция <literal
>CHANNELMAP</literal
></title>

<para
>Эта секция используется, чтобы изменить некоторые каналы на другие. Например, если вы хотите поменять местами первый и второй канал, вы легко можете это сделать в секции <literal
>CHANNELMAP</literal
>. </para>

<para
>Однако эта секция наиболее полезна для клавиатур, для которых необходимо указать номер канала ударных (по стандарту GM это канал 10, но некоторые клавиатуры используют канал 16, а некоторые - канал 9). </para>

<para
>Обратите внимание, что устройства midi используют 16 каналов, поэтому секция <literal
>CHANNELMAP</literal
> должна включать 16 строк, от 0 до 15. Использование: </para>

<screen
>(N) = (M) [Keymap "Name"] [ForcePatch x]
</screen>

<para
>Здесь <literal
>N</literal
> - канал, который будет заменяться на канал <literal
>M</literal
>. Если используется опция <literal
>Keymap</literal
>, то на этом канале будет использоваться таблица клавиш с именем <literal
>Name</literal
> (эту таблицу необходимо внести перед этой секцией в файл map!). Если используется опция <literal
>ForcePatch</literal
>, все события, которые пытаются сменить патч на этом канале, будут игнорироваться, патч <literal
>x</literal
> будет использоваться постоянно. </para>

<para
>Опция <literal
>ForcePatch</literal
> может быть полезной, если вы, например, хотите всегда использовать патч ударных на канале ударных. </para>

</sect2>

<sect2 id="the-options-section">
<title
>Секция <literal
>OPTIONS</literal
></title>

<para
>Секция <literal
>OPTIONS</literal
> включает некоторые основные опции, которые могут быть очень полезными: </para>

<screen
>OPTIONS
PitchBenderRatio = r
MapExpressionToVolumeEvents
END
</screen>

<para
>Вы можете указывать обе опции, только одну, либо ни одной. </para>

<para
>Значение, указанное в <literal
>PitchBenderRatio r</literal
> определяет, во сколько раз будет увеличена высота звука. Когда файл midi пытается установить высоту звука <literal
>n</literal
>, будет установлено значение <literal
>n*(r/4096)</literal
> (значение <literal
>4096</literal
> введено, чтобы вам не приходилось ставить десятичные значения в файле map). </para>

<para
>Это используется, так как стандарт <acronym
>GM</acronym
> говорит, что когда клавиатура midi получает сигнал увеличения высоты со значением 4096, следует увеличить ноту на более высокую, но некоторые клавиатуры при получении 4096 повышают исходную ноту на 2 или больше (иногда даже на октаву!). Это можно легко исправить, перепробовав различные значения, чтобы вместо 4096 KMid посылала соответствующее значение. </para>

<para
>Если в файле map установлена опция <literal
>MapExpressionToVolumeEvents</literal
> и файл midi пытается послать событие выражения, KMid посылает событие громкости - его понимает большее количество клавиатур, не соответствующих стандарту GM, и он производит похожий эффект. Многие файлы midi используют событие выражения в конце песни, что производит эффект затухания, так что если вы чувствуете, что музыка должна воспроизводиться всё мягче и мягче, вы можете включить эту опцию и поглядеть, это ли вам было нужно - ваш синтезатор midi может игнорировать события выражения, потому что не понимает их. </para>

</sect2>

</sect1>

<sect1 id="using-midimaps">
<title
>Использование таблиц событий midi</title>

<para
>Чтобы использовать таблицу событий midi, просто откройте диалоговое окно <guilabel
>Настройки midi устройства</guilabel
>, выбрав пункт <guimenuitem
>Настройки midi</guimenuitem
> меню <guimenu
>Настройка</guimenu
>. </para>

<para
>Затем нажмите на кнопку <guilabel
>Просмотр ...</guilabel
>, выберите файл в диалоговом окне выбора файла и наслаждайтесь музыкой! :-) </para>
</sect1>
</chapter>

<chapter id="advanced-features">
<title
>Дополнительные характеристики</title>

<sect1 id="the-channel-view">
<title
>Вид каналов</title>

<para
>В окне Вид каналов показаны несколько клавиатур (каждая соответствует каналу midi). На этих клавиатурах подсвечиваются клавиши, которые соответствуют нотам, воспроизводимым в данный момент, так что вы можете видеть, что играет каждый инструмент. </para>

<sect2 id="changing-instruments">
<title
>Изменение инструментов</title>

<para
>Вы можете использовать окно Вид каналов, чтобы сменить инструмент, который воспроизводится на каждом канале. Каналу соответствует выпадающий список, где вы можете выбрать инструмент. Если вы измените инструмент, цвет индикатора канала сменится с зелёного на красный - это означает, что воспроизводится не инструмент по умолчанию. </para>

<para
>Если вы хотите вернуться к инструменту по умолчанию, щёлкните по красной кнопке, и он будет автоматически установлен. </para>

</sect2>

<sect2 id="changing-the-look">
<title
>Изменение режима просмотра</title>

<para
>На данный момент окно Вид каналов может отображать воспроизводимые ноты двумя способами. Вы можете выбрать способ с помощью пункта <guimenuitem
>Настройки вида каналов</guimenuitem
> меню <guimenu
>Настройка</guimenu
>. </para>

<para
>Вы можете выбирать между режимом, в котором нажатые клавиши (соответствующие воспроизводимым нотам) показаны как на обычном рояле (режим <guilabel
>Объёмное</guilabel
>) и режимом, в котором клавиши к тому же выделяются красным цветом - легче для восприятия (режим <guilabel
>Объёмное с заполнением</guilabel
>). Если вы играете на рояле или каком-либо другом музыкальном инструменте, вы можете использовать этот режим, чтобы научиться играть эту музыку самому. Я использовал эту технику и считаю её (если использовать с замедлением темпа) удобной для разучивания новых композиций. </para>

</sect2>

</sect1>

<sect1 id="the-tempo-lcd">
<title
><acronym
>Индикатор</acronym
> темпа</title>

<para
>Он показывает темп, в котором воспроизводится песня, т. е. скорость воспроизведеиня. Чем выше показанное число, тем быстрее воспроизводится песня. </para>

<para
>Вы можете менять темп воспроизведения песни, так что если песня играет слишком быстро и вы не можете следить за текстом, вы можете замедлить скорость. Чтобы сменить темп, используйте стрелки, расположенные с двух сторон <acronym
>индикатора</acronym
>. </para>

<para
>Вы можете восстановить скорость воспроизведения, установленную по умолчанию, дважды щёлкнув по <acronym
>индикатору</acronym
>. </para>

</sect1>

</chapter>

<chapter id="key-bindings">
<title
>Привязки клавиш</title>

<informaltable>
<tgroup cols="2">
<thead>
<row>
<entry
>Клавиша</entry>
<entry
>Действие</entry>
</row>
</thead>
<tbody>
<row>
<entry
><keycap
>Пробел</keycap
></entry>
<entry
>Воспроизводить загруженную песню, если она не воспроизводится, если воспроизводится - приостановить.</entry>
</row>
<row>
<entry
><keycap
>Backspace</keycap
></entry>
<entry
>Остановить воспроизведение</entry>
</row>
<row>
<entry
><keycap
>Стрелка вправо</keycap
></entry>
<entry
>Следующая песня текущей коллекции</entry>
</row>
<row>
<entry
><keycap
>Стрелка влево</keycap
></entry>
<entry
>Предыдущая песня текущей коллекции</entry>
</row>
<row>
<entry
><keycap
>Стрелка вверх</keycap
></entry>
<entry
>Пролистнуть текст песни на одну строку вверх</entry>
</row>
<row>
<entry
><keycap
>Стрелка вниз</keycap
></entry>
<entry
>Пролистнуть текст песни на одну строку вниз</entry>
</row>
<row>
<entry
><keycap
>Page Up</keycap
></entry>
<entry
>Пролистнуть текст песни на одну страницу вверх</entry>
</row>
<row>
<entry
><keycap
>Page Down</keycap
></entry>
<entry
>Пролистнуть текст песни на одну страницу вниз</entry>
</row>
<row>
<entry
><keycap
>1</keycap
></entry>
<entry
>Отображать сообщения</entry>
</row>
<row>
<entry
><keycap
>2</keycap
></entry>
<entry
>Отображать текст песни</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;<keycap
>O</keycap
></keycombo
></entry>
<entry
>Открыть песню</entry>
</row>
<row>
<entry
><keycombo action="simul"
>&Ctrl;<keycap
>Q</keycap
></keycombo
></entry>
<entry
>Выйти из &kmid;</entry>
</row>
<row>
<entry
><keycap
>F1</keycap
></entry>
<entry
>Открыть этот документ</entry>
</row>
</tbody>
</tgroup>
</informaltable>

</chapter>

<chapter id="frequently-asked-questions">
<title
>Вопросы и ответы</title>

<qandaset>
<qandaentry>
<question>
<para
>Что такое файл midi? </para>
</question>

<answer>
<para
>Файл midi - это файл, который содержит информацию о том, как воспроизводить песню, то есть содержит ноты, информацию о ритме, скорости воспроизведения и т. д. Это значит, что один и тот же файл midi, проигрываемый на двух различных устройствах, может звучать по-разному, так же как два музыканта по-разному играют музыку по одним и тем же нотам. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Я получаю лучший звук, используя проигрыватель mp3/wav, зачем мне &kmid;? </para>
</question>
<answer>
<para
>Что ж, я не могу принудить вас использовать &kmid;, но типичный файл midi занимает 50 Кб, а файл mp3 - 4 Мб (т. е. соотношение объёмов - 1:80 :-) . С хорошим синтезатором вы получаете качество, сравнимое с mp3. Более того, используя файл midi, вы можете изменять отдельные инструменты, скорость воспроизведения и т. д., то есть вы лучше контролируете воспроизведение. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Моя карта AWE не работает с KMid, что мне делать? </para>
</question>
<answer>
<para
>Это может произойти, если вы устанавливали &kmid; с двоичного дистрибутива (rpm,deb). Дело в том, что &kmid; компилируется без поддержки awe. Если карта не работает, вам нужно скачать исходные коды (например, с <ulink url="http://www.arrakis.es/~rlarrosa/kmid.html"
>домашней страницы &kmid;</ulink
>) </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Я хочу добавить в коллекцию весь каталог, но добавлять файлы по одному мне не очень весело. </para>
</question>

<answer>
<para
>Согласен с этим, поэтому &kmid; поддерживает механизм Drag &amp; Drop. В окне &konqueror; откройте каталог, который вы хотите добавить, выберите все файлы и перетащите их в окно &kmid;. </para>
<para
>Перед этим убедитесь, что опция <guimenuitem
>Автоматически добавлять в коллекцию</guimenuitem
> включена - это необходимо, чтобы файлы были добавлены в текущую коллекцию. Если вы этого не сделаете, файлы будут добавлены во Временную коллекцию. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Я не могу следить за текстом песни, она воспроизводится слишком быстро! </para>
</question>
<answer>
<para
>Нажмите на стрелку слева <acronym
>индикатора</acronym
> темпа, чтобы замедлить воспроизведение. Чтобы вернуться к темпу по умолчанию, дважды щёлкните по <acronym
>индикатору</acronym
>. </para
> 
</answer>
</qandaentry>
</qandaset>

</chapter>

<chapter id="final-notes">
<title
>Дополнительные заметки</title>

<sect1 id="some-tips-and-tricks">
<title
>Полезные советы</title>

<para
>Я включил некоторые советы, чтобы вы могли полностью использовать возможности &kmid;: </para>

<variablelist>
<varlistentry>
<term
>Как открывать файлы</term>
<listitem>
<para
>На рабочем столе &kde; я всегда открываю окно &konqueror; в моей корневой папке файлов midi вместе с &kmid;. Когда активная коллекция заканчивается, или я хочу прослушать какой-либо файл, я просто переключаюсь на окно &konqueror;, выбираю желаемые файлы и перетаскиваю их в окно &kmid;. </para>

<para
>Предположим, что вы хотите воспроизвести некоторые файлы midi, но не хотите добавлять их в какую-либо коллекцию - просто выключите опцию <guimenuitem
>Автоматически добавлять в коллекцию</guimenuitem
> в меню <guimenu
>Коллекции</guimenu
> и открывайте файлы, они будут добавлены во Временную коллекцию. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
>Другой метод создания новой коллекции</term>
<listitem>
<para
>Предположим, что у вас есть midi файлы <filename
>A.mid</filename
>, <filename
>B.mid</filename
> и <filename
>C.mid</filename
>. Сначала вы хотели воспроизвести только первый файл, так что вы выключили опцию <guimenuitem
>Автоматически добавлять в коллекцию</guimenuitem
> и открыли <filename
>A.mid</filename
>. После этого во Временной коллекции находится только один файл midi. </para>
<para
>Затем вы решаете воспроизвести также B и C, и создать коллекцию, включающую все эти файлы - что нужно сделать? </para>
<para
>Просто выберите опцию <guimenuitem
>Автоматически добавлять в коллекцию</guimenuitem
> и откройте <filename
>B.mid</filename
> и <filename
>C.mid</filename
> (любым из нескольких методов) - они будут автоматически добавлены во Временную коллекцию, в которой после этого будут находиться <filename
>A.mid</filename
>, <filename
>B.mid</filename
> и <filename
>C.mid</filename
>. После этого откройте диалог <guilabel
>Менеджер коллекций</guilabel
>, выберите Временную коллекцию, щёлкните по кнопке <literal
>Копировать</literal
>, введите название новой коллекции, и всё готово. У вас есть новая коллекция, включающая midi файлы A, B и C, и она не будет удалена после того, как вы выйдете из &kmid;. </para>
</listitem>
</varlistentry>
</variablelist>

</sect1>

<sect1 id="hall-of-kmids-friends">
<title
>Зал друзей &kmid;</title>

<para
>Некоторые люди отправляли мне файл midi или открытку, спасибо всем! Прослушивание этих песен и просмотр этих открыток помогут мне в дальнейшем программировании &kmid;. </para>

<itemizedlist>
<listitem>
<para
>Ola Sigurdson - <literal
>Taking Care of Business</literal
> (Bachman Turner Overdrive)</para>
</listitem>
<listitem>
<para
>EG Lim - Очень красивая открытка из Пенанга.</para>
</listitem>
<listitem>
<para
>Guenther Starnberger - <literal
>Amadeus</literal
> (Falco) и <literal
>Schrei Nach Liebe</literal
> (Die Aerzte)</para>
</listitem>
<listitem>
<para
>Leandro Terr&eacute;s - <literal
>All That She Wants</literal
> и <literal
>The Sign</literal
> (Ace of Base)</para>
</listitem>
<listitem>
<para
>Nick Stoic - Два midi файла</para>
</listitem>
</itemizedlist>

</sect1>

<sect1 id="about-the-author">
<title
>Об авторе</title>

<para
>Автор &kmid; - Antonio Larrosa Jim&eacute;nez, из M&aacute;laga (Испания). Я изучаю математику в Университете M&aacute;laga, в данный момент я на третьем курсе, так что на мои увлечения у меня остаётся не очень много времени, но я всегда стараюсь выкроить немного :-) . Мои увлечения: программирование, коллекционирование файлов midi, слушание музыки и доказывание теорем ;-). </para>

<para
>Если вы хотите узнать, где можно скачать файлы midi/karaoke, имеете вопрос, данные об ошибке в программе, идею, хотите сказать, что ещё вы бы хотели видеть в &kmid; или хотите просто сделать мне приятное, пишите мне по адресу <email
>larrosa@kde.org</email
> или <email
>antlarr@arrakis.es</email
> </para>

<para
>или пишите обычной почтой: </para>

<literallayout
>Antonio Larrosa Jimenez
Rio Arnoya 10 5B
Malaga (Spain)
</literallayout>

<para
>Вы доставите мне большое удовольствие, если отправите мне открытку из того места, где вы живёте, или файл midi/karaoke музыкальной группы вашей страны. Каждый, кто вышлет мне открытку или файл midi, будет добавлен в Зал друзей &kmid; (если будет не против). Пожалуйста, свяжитесь со мной перед тем, как высылать файлы midi, потому что такие могут у меня уже быть.  </para>

<para
>Я хочу обратить ваше внимание на то, что программа &kmid; была полностью создана в свободное время без какой-либо денежной поддержки - ни от организаций, ни от частных лиц. Так что, пожалуйста, помните, когда используете программу, о том, что единственное, что заставляло меня работать над ней - обратная связь от её пользователей (открытка или просто письмо). </para>

<para
>Я хочу поблагодарить следующих людей за помощь в разработке &kmid;: </para>

<itemizedlist>
<listitem>
<para
>Paul J. Leonard <email
>P.J.Leonard@bath.ac.uk</email
> - Поддержка карт AWE </para>
</listitem>
<listitem>
<para
>Sebestyen Zoltan <email
>szoli@digo.inf.elte.hu</email
>- перенос на FreeBSD и тестирование AWE </para>
</listitem>
<listitem>
<para
>Christian Esken <email
>esken@kde.org</email
> - за организацию усилий KDE multimedia </para>
</listitem>
<listitem>
<para
>Stephan Kulow <email
>coolo@kde.org</email
>- Настройка скриптов и помощь с <command
>automake</command
> и <command
>CVS</command
> </para>
</listitem>
<listitem>
<para
>Jaroslav Kysela - Помощь в поддержке драйвера &Linux; Ultrasound Project </para>
</listitem>
<listitem>
<para
>Takashi Iwai and Joseph H. Buehler - исправление слишком большой высоты звука карт AWE </para>
</listitem>
<listitem>
<para
>Adrian Knoth - За хорошие новости и большое количество предложений </para>
</listitem>
<listitem>
<para
>Kevin Street - Патч для поддержки FreeBSD 3.0 </para>
</listitem>
<listitem>
<para
>Также спасибо Jose Luis Sanchez за поддержку карт GUS, Ignacio Garcia за тестирование поддержки AWE, Hans Petter Bieker, Ola Sigurdson, Marc Diefenbruch, Peter Gritsch, Magnus Pfeffer, Urko Lusa, Peter-Paul Witta, Thorsten Westheider, Ulrich Cordes и всем, кто послал мне патч, сообщение об ошибке, или просто электронное письмо, что поддерживало меня. </para>
</listitem>
<listitem>
<para
>И конечно, всем потрясающим музыкантам в сети, которые дают нам чудесные файлы midi и karaoke. </para>
</listitem>
</itemizedlist>

<para
>Перевод на русский: Иван Кашуков <email
>dolphin210@yandex.ru</email
></para
> 

</sect1>

<sect1 id="copyright-and-license">
<title
>Авторские права и лицензирование</title>

<para
>Авторские права на &kmid; принадлежат Antonio Larrosa Jim&eacute;nez, 1999-2001</para>

<para
>Авторские права на документацию Antonio Larrosa Jim&eacute;nez 1999, 2001</para>
&underFDL; &underGPL; </sect1>

</chapter>

<appendix id="installation">
<title
>Установка</title>

<sect1 id="how-to-obtain-kmid">
<title
>Где взять &kmid;</title>
&install.intro.documentation; <para
>&kmid; можно взять с её домашней страницы - <ulink url="http://www.arrakis.es/~rlarrosa/kmid.html"
> http://www.arrakis.es/~rlarrosa/kmid.html</ulink
>. Здесь вы сможете включиться в разработку программы, получить некоторую информацию о ней, снимки, список страниц, откуда вы сможете скачать песни karaoke и т. д. </para>

</sect1>

<sect1 id="requirements">
<title
>Системные требования</title>

<para
>Для работы &kmid; необходимо:</para>

<itemizedlist>
<listitem>
<para
>&kde;. Что ж, возможно, это у вас уже есть :-) </para>
</listitem>
<listitem>
<para
>Звуковая карта. Рекомендуется хорошая звуковая карта и/или внешний синтезатор, так как качество звука в большой степени зависит от звуковой карты: воспроизводить музыку, используя устройство FM - это не то же, что использование карты AWE. </para>

<para
>Если у вас нет звуковой карты, вы можете скомпилировать &kmid; с опцией <literal
>MODE_DEMO_ONLYVISUAL</literal
>, и программа будет работать так, как если бы она была (но музыка, конечно, воспроизводиться не будет :-( ). </para>
</listitem>
</itemizedlist>

</sect1>

<sect1 id="compilation-and-installation">
<title
>Компиляция и установка</title>
&install.compile.documentation; <para
>Я включил некоторые примеры, которые устанавливаются в каталог <filename class="directory"
>$dollar;<envar
>KDEDIR</envar
>/share/apps/kmid</filename
> </para>

<para
>Если возникнет какая-либо проблема, не сомневайтесь связаться с любым из списков рассылки &kde; или выслать отчёт напрямую мне. </para>

</sect1>

</appendix>

</book>
<!--
Local Variables:
mode: sgml
sgml-omittag: nil
sgml-shorttag: t
End:
-->
