<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN" "dtd/kdex.dtd" [
  <!ENTITY kleopatra "<application
>Kleopatra</application
>">
  <!ENTITY kwatchgnupg "<application
>KWatchGnuPG</application
>">
  <!ENTITY gpgsm "<application
>GpgSM</application
>">
  <!ENTITY gpg "<application
>GPG</application
>">
  <!ENTITY gpgconf "<application
>GpgConf</application
>">
  <!ENTITY kappname "&kleopatra;">
  <!ENTITY package "kdepim">
  <!ENTITY smime "<acronym
>S/MIME</acronym
>">
  <!ENTITY % addindex "IGNORE">
  <!ENTITY % Portuguese "INCLUDE">

  <!ENTITY dn "<acronym
>DN</acronym
>">
  <!ENTITY ca "<acronym
>CA</acronym
>">

  <!-- Expanded all entities to make them translatable - lueck
    FILE menu 
  <!ENTITY file-new-key-pair "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>New Key Pair...</guimenuitem
></menuchoice
>">
  <!ENTITY file-export-certificates "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Export Certificates...</guimenuitem
></menuchoice
>">
  <!ENTITY file-export-secret-key "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Export Secret key...</guimenuitem
></menuchoice
>">
  <!ENTITY file-import-certificates "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Import Certificates...</guimenuitem
></menuchoice
>">
  <!ENTITY file-import-crls "<menuchoice
><guimenu
>File</guimenu
><guimenuitem
>Import CRLs...</guimenuitem
></menuchoice
>">
  <!ENTITY file-quit "<menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>Q</keycap
></keycombo
></shortcut
><guimenu
>File</guimenu
><guimenuitem
>Quit</guimenuitem
></menuchoice
>">

   VIEW menu
  <!ENTITY view-redisplay "<menuchoice
><shortcut
><keycombo action="simul"
><keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Redisplay</guimenuitem
></menuchoice
>">
  <!ENTITY view-stop-operation "<menuchoice
><shortcut
><keycombo action="simul"
><keycap
>Esc</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Stop Operation</guimenuitem
></menuchoice
>">
  <!ENTITY view-certificate-details "<menuchoice
><guimenu
>View</guimenu
><guimenuitem
>Certificate Details...</guimenuitem
></menuchoice
>">
  <!ENTITY view-hierarchical-key-list "<menuchoice
><guimenu
>View</guimenu
><guimenuitem
>Hierarchical Key List</guimenuitem
></menuchoice
>">
  <!ENTITY view-expand-all "<menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>.</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Expand All</guimenuitem
></menuchoice
>">
  <!ENTITY view-collapse-all "<menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>,</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu
><guimenuitem
>Collapse All</guimenuitem
></menuchoice
>">

   CERTIFICATES menu 
 <!ENTITY certificates-validate "<menuchoice
><shortcut
><keycombo action="simul"
>&Shift;<keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>Certificates</guimenu
><guimenuitem
>Validate</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-refresh-crls "<menuchoice
><guimenu
>Certificates</guimenu
><guimenuitem
>Refresh CRLs</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-delete "<menuchoice
><shortcut
><keycombo action="simul"
><keycap
>Delete</keycap
></keycombo
></shortcut
><guimenu
>Certificates</guimenu
><guimenuitem
>Delete</guimenuitem
></menuchoice
>">
  <!ENTITY certificates-download "<menuchoice
><guimenu
>Certificates</guimenu
><guimenuitem
>Download</guimenuitem
></menuchoice
>">

   CRLS menu
  <!ENTITY crls-clear-crl-cache "<menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Clear CRL Cache...</guimenuitem
></menuchoice
>">
  <!ENTITY crls-dump-crl-cache "<menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Dump CRL Cache...</guimenuitem
></menuchoice
>">

   TOOLS menu 
  <!ENTITY tools-gnupg-log-viewer "<menuchoice
><guimenu
>Tools</guimenu
><guimenuitem
>GnuPG Log Viewer...</guimenuitem
></menuchoice
>">

   SETTINGS menu 
  <!ENTITY settings-show-statusbar "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Show Statusbar</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-shortcuts "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure Shortcuts...</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-kleopatra "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure &kleopatra;...</guimenuitem
></menuchoice
>">
  <!ENTITY settings-configure-gpgme-backend "<menuchoice
><guimenu
>Settings</guimenu
><guimenuitem
>Configure GpgME Backend...</guimenuitem
></menuchoice
>">
   -->

  <!-- Command line options -->
  <!ENTITY commandline-option-external "<option
>--external</option
>">
  <!ENTITY commandline-option-query "<option
>--query</option
>">
  <!ENTITY commandline-option-import-certificate "<option
>--import-certificate</option
>">
]>

<book lang="&language;">

<bookinfo>
<title
>O Manual do &kleopatra;</title>

<authorgroup>
<author
><firstname
>Marc</firstname
> <surname
>Mutz</surname
> <affiliation
> <address
><email
>marc@klaralvdalens-datakonsult.se</email
></address>
</affiliation>
</author>

<othercredit role="developer"
><firstname
>David</firstname
> <surname
>Faure</surname
> <contrib
>Desenvolvimento</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Steffen</firstname
> <surname
>Hansen</surname
> <affiliation
> <address
>&Steffen.Hansen.mail;</address>
</affiliation>
<contrib
>Desenvolvimento</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Matthias Kalle</firstname
> <surname
>Dalheimer</surname
> <contrib
>Desenvolvimento</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Jesper</firstname
> <surname
>Pedersen</surname
> <affiliation
> <address
>&Jesper.Pedersen.mail;</address>
</affiliation>
<contrib
>Desenvolvimento</contrib>
</othercredit>
<othercredit role="developer"
><firstname
>Daniel</firstname
> <surname
>Molkentin</surname
> <affiliation
> <address
>&Daniel.Molkentin.mail;</address>
</affiliation>
<contrib
>Desenvolvimento</contrib>
</othercredit>

<othercredit role="translator"
><firstname
>José</firstname
><surname
>Pires</surname
><affiliation
><address
><email
>jncp@netcabo.pt</email
></address
></affiliation
><contrib
>Tradução</contrib
></othercredit
> 
</authorgroup>

<legalnotice
>&GPLNotice;</legalnotice>

<date
>2004-06-11</date>
<releaseinfo
>0.31</releaseinfo>

<abstract>
<para
>&kleopatra; é uma ferramenta para gerir certificados X.509. </para>
</abstract>


<keywordset>
<keyword
>KDE</keyword>
<keyword
>Kapp</keyword>
<keyword
>X509</keyword>
<keyword
>LDAP</keyword>
<keyword
>gpg</keyword>
<keyword
>gpgsm</keyword>
</keywordset>

</bookinfo>

<chapter id="introduction"
> <title
>Introdução</title
> 

<para
>O &kleopatra; é a ferramenta do &kde; para gerir os certificados X.509 no chaveiro do &gpgsm; e para obter os certificados de servidores <acronym
>LDAP</acronym
>.</para>

<para
>O &kleopatra; poderá ser iniciado a partir do menu <guimenu
>Ferramentas</guimenu
> do &kmail;, assim como a partir da linha de comandos. O executável do &kleopatra; chama-se <userinput
><command
>kleopatra</command
></userinput
>.</para>

<note
><para
>Este programa obteve o nome da Cleópatra, uma famosa faraó egípcia que viveu na altura de Júlio César, com o qual diz-se que ela teve uma relação íntima.</para>

<para
>O nome foi escolhido, dado que este programa tem origem dos <ulink url="http://www.gnupg.org/aegypten2/"
>Projectos &Auml;gypten</ulink
> (&Auml;gypten significa Egipto em alemão). Kleopatra é a tradução em alemão de Cleópatra.</para
></note>

</chapter>

<chapter id="functions"
><title
>Funções Principais</title>

<sect1 id="functions-view"
><title
>Ver a Caixa de Chaves Local</title>

<!-- Viewing and Refreshing, also Validation -->

<para
>A função principal do &kleopatra; é mostrar e editar o conteúdo do chaveiro local, o qual é semelhante ao conceito de chaveiros do &gpg;, ainda que uma pessoa não se possa limitar a esta analogia em demasia.</para>

<para
>A janela principal está dividida na grande área de listagem de chaves, na barra de menu e na <link linkend="functions-search"
>barra de procura</link
> no cimo e ainda por uma barra de estado em baixo.</para>

<para
>Cada linha da lista de chaves corresponde a um certificado, identificado pelo <guilabel
>&dn; do Sujeito</guilabel
>. O &dn; é um acrónimo para <quote
>Distinguished Name</quote
> ou <quote
>Nome Distinto</quote
>, um identificador hierárquico, de certa forma semelhante a uma localização num sistema de ficheiros com uma sintaxe ligeiramente diferente, permitindo identificar de forma unívoca e global um dado certificado.</para>

<para
>Para serem válidas e para poderem ser usadas, as chaves (públicas) devem ser assinadas por uma &ca; (Autoridade de Certificação). Estas assinaturas são chamadas de certificados, mas normalmente os termos <quote
>certificado</quote
> e <quote
>chave (pública)</quote
> são usados nas mesmas circunstâncias, razão pela qual não será também feita nenhuma distinção entre elas neste manual, a não ser no caso de ser indicado explicitamente. O nome da &ca; que emitiu o certificado (o seu &dn;) é apresentado na coluna <guilabel
>DN do Emissor</guilabel
>.</para>

<para
>As &ca; deverão estar, por sua vez, assinadas por outras &ca;s para serem válidas. Obviamente isto terá de parar em algum ponto, como tal a &ca; do nível de topo (a &ca; de raiz) assina a sua chave consigo própria (isto é chamado de auto-assinatura). Os certificados de raiz precisam, por isso, de ter validade (normalmente chamada de confiança) manualmente, &eg; depois de comparar a impressão digital com a da página Web da &ca;. Isto é feito tipicamente pelo administrador do sistema ou pelo distribuidor de um produto que use os certificados, mas poderá ser feito pelo utilizador com a interface da linha de comandos do &gpgsm;.</para>

<para
>Para ver quais os certificados que são da raiz, você poderá comparar o <guilabel
>&dn; do Sujeito</guilabel
> e o <guilabel
>&dn; do Emissor</guilabel
>, ou poderá mudar para o modo de listagem hierárquica de chaves com o <link linkend="view-hierarchical-key-list"
><menuchoice
><guimenu
>Ver</guimenu
> <guimenuitem
>Lista de Chaves Hierárquica</guimenuitem
></menuchoice
></link
>.</para>

<para
>O utilizador poderá ver os detalhes de qualquer certificado se fizer duplo-click nele ou usar os <link linkend="view-certificate-details"
><menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Detalhes do Certificado...</guimenuitem
></menuchoice
></link
>. Isto abre uma janela que apresenta as propriedades mais comuns do certificado, a sua cadeia de certificação (&ie; a cadeia de emissores até à &ca; de raiz), e o conteúdo de toda a informação que a infra-estrutura é capaz de extrair do certificado.</para>

<para
>Se você alterar o chaveiro local sem usar o &kleopatra; (&eg; usando a interface da linha de comandos do &gpgsm;), poderá actualizar a janela com o <link linkend="view-redisplay"
><menuchoice
><shortcut
><keycombo action="simul"
> <keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>Ver</guimenu
> <guimenuitem
>Actualizar</guimenuitem
></menuchoice
></link
>.</para>

<para
>Dado que a validação de uma chave poderá levar algum tempo (&eg; as CRLs poderão ter de ser obtidas), a listagem de chaves normal não as tenta validar. Para isso, o <link linkend="certificates-validate"
><menuchoice
><shortcut
><keycombo action="simul"
>&Shift;<keycap
>F5</keycap
></keycombo
> </shortcut
><guimenu
>Certificados</guimenu
><guimenuitem
>Validar</guimenuitem
></menuchoice
></link
>, uma variante especial do <link linkend="view-redisplay"
><menuchoice
><shortcut
><keycombo action="simul"
> <keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>Ver</guimenu
> <guimenuitem
>Mostrar de Novo</guimenuitem
></menuchoice
></link
>, está disponível. Tanto verifica os certificados seleccionados, como todas as chaves, se nenhuma delas estiver seleccionada.</para>

</sect1>

<sect1 id="functions-search"
><title
>Procurar e Importar Certificados</title>

<para
>Na maior parte do tempo, você irá adquirir os certificados novos ao verificar as assinaturas nas mensagens de e-mail, dado que os certificados estão incorporados nas assinaturas criadas que as usam. Contudo, se você precisar de enviar uma mensagem para alguém com quem ainda nunca tenha tido contacto, você precisa de obter o certificado de um directório de LDAP (ainda que o &gpgsm; possa fazer isto automaticamente), ou através de um ficheiro. Também necessita de importar o seu próprio certificado depois de receber a resposta da &ca; ao seu pedido do certificado.</para>

<para
>Para procurar por um certificado num directório de LDAP, mude a lista da barra de procura de <guilabel
>Nos Certificados Locais</guilabel
> para <guilabel
>Nos Certificados Externos</guilabel
>, escreva algum texto (&eg; o nome da pessoa para quem deseja o certificado) no campo de texto e carregue no botão <guilabel
>Procurar</guilabel
>. Os resultados serão apresentados na lista de chaves por baixo da barra de procura, onde poderá seleccionar os certificados para os ver com o <link linkend="view-certificate-details"
> <menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Detalhes do Certificado...</guimenuitem
></menuchoice
></link
> ou obtê-los com o <link linkend="certificates-download"
> <menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Obter</guimenuitem
></menuchoice
></link
> para o chaveiro local. Repare que poderá também transferir o certificado a partir da janela de detalhes, usando o botão <guilabel
>Importar para um Local</guilabel
>.</para>

<para
>Você poderá configurar a lista de servidores LDAP onde procurar na página <link linkend="configuration-directory-services"
><guilabel
>Serviços de Directório</guilabel
></link
> da <link linkend="configuration"
>janela de configuração</link
> do &kleopatra;.</para>

<para
>Se você recebeu o certificado como um ficheiro, tente o <link linkend="file-import-certificates"
><menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Importar os Certificados...</guimenuitem
></menuchoice
></link
>. O &gpgsm; necessita de compreender o formato do ficheiro de certificado; por favor veja o manual do &gpgsm; para obter uma lista com os formatos de ficheiros suportados.</para>

<para
>Se você não <link linkend="functions-newkey"
>criou o seu par de chaves com o &gpgsm;</link
>, também irá necessitar de importar manualmente as chaves pública e privada do ficheiro PKCS#12 que obteve da &ca;. Poderá fazê-lo na linha de comandos com a instrução <link linkend="commandline-option-import-certificate"
><userinput
><command
>kleopatra &commandline-option-import-certificate; <filename
>ficheiro</filename
></command
></userinput
></link
> ou dentro do &kleopatra; com o <link linkend="file-import-certificates"
><menuchoice
><guimenu
>Ficheiro</guimenu
> <guimenuitem
>Importar os Certificados...</guimenuitem
></menuchoice
></link
>, tal como faria para os certificados <quote
>normais</quote
>.</para>

</sect1>

<sect1 id="functions-newkey"
><title
>Criar Novos Pares de Chaves</title>

<para
>O item do menu <link linkend="file-new-key-pair"
><menuchoice
> <guimenu
>Ficheiro</guimenu
><guimenuitem
>Novo Par de Chaves...</guimenuitem
></menuchoice
></link
> inicia o assistente de criação do pedido de certificado que o guiará por um conjunto de passos para criar um pedido de certificado; este pedido poderá, na última página do assistente, ser enviado para uma autoridade de certificação (&ca;) para ser assinado ou ser gravado num ficheiro (por exemplo numa disquete, para que possa ser enviado para a &ca;).</para
> <para
>Sempre que terminar um passo no assistente, carregue em <guibutton
>Próximo</guibutton
> para passar ao passo seguinte (ou <guibutton
>Anterior</guibutton
> para rever os passos já completos). A criação do pedido do certificado poderá ser cancelada em qualquer altura se carregar no botão <guibutton
>Cancelar</guibutton
>. </para>
<para
>O primeiro passo do assistente é escrever os seus dados pessoais para o certificado. Os campos a preencher são: <itemizedlist>
<listitem>
<para
><guilabel
>Nome:</guilabel
> O seu nome;</para>
</listitem>
<listitem>
<para
><guilabel
>Localização:</guilabel
>A cidade onde vive;</para>
</listitem>
<listitem>
<para
><guilabel
>Organização:</guilabel
>A organização que você representa (por exemplo, a companhia para quem trabalha);</para>
</listitem>
<listitem>
<para
><guilabel
>Departamento:</guilabel
>A unidade organizacional onde se encontra (por exemplo, "Logística");</para
> 
</listitem>
<listitem>
<para
><guilabel
>Código do país:</guilabel
>O código de duas letras para o país em que vive (por exemplo, "EUA");</para>
</listitem>
<listitem>
<para
><guilabel
>Endereço de e-mail:</guilabel
>O seu endereço de e-mail; confirme que o introduz correctamente&mdash;será este o endereço para onde as pessoas irão enviar as mensagens sempre que usarem o seu certificado.</para>
</listitem>
</itemizedlist>
</para
><para
>O próximo passo no assistente é seleccionar se é suposto gravar o certificado num ficheiro ou enviá-lo directamente para uma &ca;. Você terá de indicar o ficheiro ou o endereço de e-mail para onde enviar o pedido do certificado. </para
></sect1>


<sect1 id="functions-keybox-management"
><title
>Gestão da Caixa de Chaves</title>

<para
>Para além de <link linkend="functions-view"
>listar e validar</link
>, <link linkend="functions-search"
>procurar e importar</link
> os certificados, bem como <link linkend="functions-newkey"
>criar novos</link
>, o &kleopatra; também tem alguns funções menos usadas que o ajudam a gerir o seu chaveiro local.</para>

<para
>Estas funções incluem a remoção de certificados do chaveiro local com o <link linkend="certificates-delete"
><menuchoice
><shortcut
> <keycombo action="simul"
><keycap
>Delete</keycap
></keycombo
></shortcut
> <guimenu
>Certificados</guimenu
><guimenuitem
>Apagar</guimenuitem
></menuchoice
></link
>, assim como o tratamento manual das CRLs (<link linkend="certificates-refresh-crls"
> <menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Actualizar as CRLs</guimenuitem
> </menuchoice
></link
>, <link linkend="crls-clear-crl-cache"
><menuchoice
><guimenu
>CRLs</guimenu
> <guimenuitem
>Limpar a 'Cache' de CRLs...</guimenuitem
></menuchoice
></link
>, <link linkend="crls-dump-crl-cache"
><menuchoice
><guimenu
>CRLs</guimenu
> <guimenuitem
>Gravar a 'Cache' de CRLs...</guimenuitem
></menuchoice
></link
>).</para>

</sect1>

</chapter>

<chapter id="menu"
><title
>Referência do Menu</title>

<sect1 id="menufile"
><title
>Menu Ficheiro</title>

<variablelist>

<varlistentry id="file-new-key-pair">
<term
><menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Novo Par de Chaves...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Cria um novo par de chaves (pública e privada)</action
> e permite-lhe enviar a parte pública para uma autoridade de certificação (&ca;) para ser assinada. O certificado resultante é então enviado de volta para si ou guardado num servidor LDAP para você obter para o seu chaveiro local, onde o poderá usar para assinar e descodificar as mensagens de e-mail.</para>

<para
>Este modo de funcionamento é chamado de <quote
>geração de chaves descentralizada</quote
>, dado que todas as chaves são criadas localmente. O &kleopatra; (e o &gpgsm;) não suportam a <quote
>geração de chaves centralizada</quote
> directamente, mas o utilizador poderá importar o pacote de chaves pública/privada que recebe da &ca; no formato PKCS#12 através do <menuchoice
><guimenu
>Ficheiro</guimenu
> <guimenuitem
>Importar os Certificados...</guimenuitem
></menuchoice
>.</para>
</listitem>
</varlistentry>


<varlistentry id="file-export-certificates">
<term
><menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Exportar os Certificados...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Exporta os certificados seleccionados</action
> para um ficheiro.</para>

<note
><para
>Isto exporta apenas as chaves públicas, mesmo que a chave privada esteja disponível. Use a opção <menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Exportar a Chave Privada...</guimenuitem
></menuchoice
> para exportar tanto as chaves públicas como as privadas para um ficheiro, mas lembre-se que esta é quase sempre uma má ideia.</para
></note>
</listitem>
</varlistentry>


<varlistentry id="file-export-secret-key">
<term
><menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Exportar a Chave Privada...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Exporta as chaves pública e privada para um ficheiro (PKCS#12).</action
></para>

<warning
><para
>Só raramente é deverá ser necessário usar esta função e, se for, deverá ser planeada com cuidado. A migração de uma chave privada envolve a escolha do meio de transporte e a remoção segura dos dados da chave da máquina antiga, entre outras coisas.</para
></warning>
</listitem>
</varlistentry>


<varlistentry id="file-import-certificates">
<term
><menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Importar os Certificados...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Importa certificados e/ou chaves secretas de ficheiros na caixa de chaves local.</action
></para>

<para
>O formato do ficheiro de certificado deve ser suportado pelo &gpgsm;. Por favor consulte no manual do &gpgsm; a lista de formatos suportados.</para>
</listitem>
</varlistentry>


<varlistentry id="file-import-crls">
<term
><menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Importar as CRLs...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Permite-lhe importar manualmente CRLs de ficheiros.</action
></para>

<para
>Normalmente, as Listas de Revogação de Certificados (CRLs) são lidadas de forma transparente pela infra-estrutura, mas poderá ser útil às vezes importar uma CRL manualmente para a 'cache' local de CRLs.</para>

<note
><para
>Para a importação de CRLs funcionar, a ferramenta <application
>dirmngr</application
> deverá estar acessível nas pastas da variável <varname
>PATH</varname
>. Se este item de menu estiver desactivado, o utilizador deverá contactar o administrador de sistemas e pedir-lhe para instalar o <application
>dirmngr</application
>.</para
></note>

<para
>Você poderá ver o conteúdo da 'cache' de CRLs local com o item de menu <menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Gravar a 'Cache' de CRLs...</guimenuitem
> </menuchoice
>. Este irá mostrar uma janela com informações sobre as CRLs na 'cache' e as impressões digitais dos certificados em cada CRL. </para>
</listitem>
</varlistentry>


<varlistentry id="file-quit">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>Q</keycap
></keycombo
></shortcut
> <guimenu
>Ficheiro</guimenu
><guimenuitem
>Sair</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Termina o &kleopatra;.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1
> <!-- File Menu -->



<sect1 id="menuview"
><title
>Menu Ver</title>

<variablelist>

<varlistentry id="view-redisplay">
<term
><menuchoice
><shortcut
><keycombo action="simul"
><keycap
>F5</keycap
></keycombo
> </shortcut
><guimenu
>Ver</guimenu
><guimenuitem
>Actualizar</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Volta a mostrar os certificados seleccionados ou actualiza a lista de certificados.</action
></para>

<para
>Se houver certificados seleccionados, a operação de actualização restringe-se à selecção.</para>

<para
>Se o resultado de uma pesquisa (seja ela local ou remota) estiver visível de momento, a pesquisa é executada de novo e os resultados actuais são mostrados em lugar dos antigos.</para>

<para
>Se não foi executada nenhuma pesquisa, é obtido e apresentado de novo o conteúdo do chaveiro por completo.</para>

<para
>Você poderá usar isto se tiver alterado o conteúdo do chaveiro por outros meios que não o &kleopatra; (&eg; usando a interface da linha de comandos do &gpgsm;).</para>
</listitem>
</varlistentry>


<varlistentry id="view-stop-operation">
<term
><menuchoice
><shortcut
><keycombo action="simul"
><keycap
>Esc</keycap
></keycombo
></shortcut
> <guimenu
>Ver</guimenu
><guimenuitem
>Parar a Operação</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Pára (cancela) todas as operações pendentes,</action
> &eg; uma procura ou uma transferência.</para>

<note
><para
>Dependendo do servidor usado, o cancelamento de uma pesquisa remota poderá bloquear o &kleopatra; durante alguns segundos, enquanto espera que a infra-estrutura termine o procedimento. Este comportamento é normal e expectável.</para
></note>
</listitem>
</varlistentry>


<varlistentry id="view-certificate-details">
<term
><menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Detalhes do Certificado...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Mostra os detalhes do certificado actualmente seleccionado.</action
></para>

<para
>Esta função também está disponível carregando duas vezes no item correspondente na lista.</para>

<!--FIXME: link to the dialog's help, but where do we put _that_?-->
</listitem>
</varlistentry>


<varlistentry id="view-hierarchical-key-list">
<term
><menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Lista de Chaves Hierárquica</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Comuta a lista de chaves entre modo hierárquico e simples. </action
></para>

<para
>No modo hierárquico, os certificados estão organizados numa relação de emissor/sujeito, por isso é fácil ver a que hierarquia de certificação pertence um dado certificado, mas é mais difícil encontrar um dado certificado inicialmente (ainda que possa, obviamente, usar à mesma a <link linkend="functions-search"
>barra de procura</link
>).</para>

<para
>No modo simples, todos os certificados são mostrados numa lista normal, ordenados de forma alfabética. Neste modo, um dado certificado é fácil de encontrar, mas não é directamente óbvio a que certificado de raiz ele pertence.</para>
</listitem>
</varlistentry>


<varlistentry id="view-expand-all">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>.</keycap
> </keycombo
></shortcut
><guimenu
>Ver</guimenu
><guimenuitem
>Expandir Tudo</guimenuitem
></menuchoice
></term>

<listitem>
<para
>(Esta função só está disponível quando o <link linkend="view-hierarchical-key-list"
><menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Lista de Chaves Hierárquica</guimenuitem
></menuchoice
></link
> está ligado.)</para>

<para
><action
>Expande todos os itens da lista na janela da lista de certificados,</action
> &ie; torna todos os itens visíveis.</para>

<para
>Este é o valor por omissão ao entrar no modo de lista de chaves hierárquico.</para>

<para
>Você poderá à mesma expandir e fechar cada item individualmente por si só, como é óbvio.</para>
</listitem>
</varlistentry>



<varlistentry id="view-collapse-all">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>,</keycap
> </keycombo
></shortcut
><guimenu
>Ver</guimenu
><guimenuitem
>Fechar Tudo</guimenuitem
></menuchoice
></term>

<listitem>
<para
>(Esta função só está disponível quando o <link linkend="view-hierarchical-key-list"
><menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Lista de Chaves Hierárquica</guimenuitem
></menuchoice
></link
> está ligado.)</para>

<para
><action
>Fecha todos os itens da lista na janela da lista do certificado,</action
> &ie; esconde todos os itens menos os de topo.</para>

<para
>Você poderá à mesma expandir e fechar cada item individualmente por si só, como é óbvio.</para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menucertificates"
><title
>Menu de Certificados</title>

<variablelist>

<varlistentry id="certificates-validate">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Shift;<keycap
>F5</keycap
></keycombo
> </shortcut
><guimenu
>Certificados</guimenu
><guimenuitem
>Validar</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Valida as chaves seleccionadas (ou todos).</action
></para>

<para
>Isto é semelhante ao <link linkend="view-redisplay"
><menuchoice
><shortcut
><keycombo action="simul"
> <keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>Ver</guimenu
> <guimenuitem
>Mostrar de Novo</guimenuitem
></menuchoice
></link
>, mas efectua uma validação das chaves (seleccionadas). A validação aqui significa que todas as CRLs relevantes são obtidas e que a cadeia de certificação é verificada a nível de correcção. Em resultado disto, as chaves inválidas ou expiradas serão marcadas de acordo com as suas preferências de cores e tipos de letra definidas na <link linkend="configuration-appearance"
>página de <guilabel
>Aparência</guilabel
></link
> <link linkend="configuration"
>janela de configuração</link
> do &kleopatra;.</para>

<warning
><para
>Você só se poderá basear na informação das chaves validadas e, dado que algumas delas poderão ser revogadas a qualquer altura, até mesmo a validação é só uma imagem do estado actual do chaveiro local. É por isso que a infra-estrutura normalmente só efectua essas verificações quando as chaves forem usadas (&eg; para a assinatura, a verificação da mesma, a cifra ou a descodificação).</para
></warning>
</listitem>
</varlistentry>



<varlistentry id="certificates-refresh-crls">
<term
><menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Actualizar as CRLs</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Obtém as CRLs actuais para todas as chaves seleccionadas,</action
>, mesmo que elas não fossem obtidas normalmente ao usar a chave.</para>

<para
>Esta função só fará efeito nos certificados que definam um ponto de distribuição de uma CRL. Dependendo da infra-estrutura usada, os certificados configurados para efectuar as verificações com o OCSP não serão actualizados.</para>

<para
>Você poderá usar isto &eg; se tiver algum conhecimento colateral de que uma chave foi revogada e deseja que a infra-estrutura reflicta isso <emphasis
>agora</emphasis
>, em vez de se basear no facto de tal facto acontecer automaticamente na próxima actualização do CRL agendada.</para>

<warning
><para
>O uso excessivo desta função poderá colocar uma carga elevada na rede do seu fornecedor ou da empresa, dado que as CRLs das grandes empresas poderão ser demasiado grandes (não é anormal terem vários megabytes).</para>

<para
>Utilize esta função de forma comedida.</para
></warning>
</listitem>
</varlistentry>



<varlistentry id="certificates-delete">
<term
><menuchoice
><shortcut
><keycombo action="simul"
><keycap
>Delete</keycap
></keycombo
></shortcut
> <guimenu
>Certificados</guimenu
><guimenuitem
>Apagar</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Remove os certificados seleccionados</action
> do chaveiro local.</para>

<para
>Use estas funções para remover as chaves não usadas do seu chaveiro local. Todavia, dado que os certificados estão tipicamente anexados às mensagens de e-mail assinadas, a verificação de uma destas mensagens poderá resultar na hipótese de a chave ser removida para depois voltar para o chaveiro local. Como tal, é provavelmente melhor evitar usar esta função o máximo possível. Quando se sentir perdido, use a <link linkend="functions-search"
>barra de procura</link
> ou a função <link linkend="view-hierarchical-key-list"
><menuchoice
><guimenu
>Ver</guimenu
> <guimenuitem
>Lista de Chaves Hierárquica</guimenuitem
></menuchoice
></link
> para voltar a ter o controlo sobre o lote de certificados.</para>
</listitem>
</varlistentry>



<varlistentry id="certificates-download">
<term
><menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Obter</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Transfere os certificados seleccionados do LDAP para o chaveiro local.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>



<sect1 id="menucrls"
><title
>Menu CRLs</title>

<variablelist>

<varlistentry id="crls-clear-crl-cache">
<term
><menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Limpar a 'Cache' de CRLs...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Esvazia o 'cache' de CRLs do &gpgsm;.</action
></para>

<para
>Você provavelmente não necessitará disto nunca. Poderá obrigar a uma actualização da 'cache' de CRLs se seleccionar todos os certificados e usar o <link linkend="certificates-refresh-crls"
><menuchoice
> <guimenu
>Certificados</guimenu
><guimenuitem
>Actualizar as CRLs</guimenuitem
></menuchoice
></link
> em alternativa.</para>
</listitem>
</varlistentry>

<varlistentry id="crls-dump-crl-cache">
<term
><menuchoice
><guimenu
>CRLs</guimenu
><guimenuitem
>Gravar a 'Cache' de CRLs...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Mostra o conteúdo detalhado do 'cache' de CRLs do &gpgsm;.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menutools"
><title
>O Menu Ferramentas</title>

<variablelist>

<varlistentry id="tools-gnupg-log-viewer">
<term
><menuchoice
><guimenu
>Ferramentas</guimenu
><guimenuitem
>Visualizador do Registo do GnuPG...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Inicia o <ulink url="help:/kwatchgnupg/index.html"
>&kwatchgnupg;</ulink
></action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menusettings"
><title
>O Menu Configuração</title>

<variablelist>

<varlistentry id="settings-show-statusbar">
<term
><menuchoice
><guimenu
>Configuração</guimenu
><guimenuitem
>Mostrar a Barra de Estado</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Comuta a visibilidade da barra de estado.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-shortcuts">
<term
><menuchoice
><guimenu
>Configuração</guimenu
><guimenuitem
>Configurar os Atalhos...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Abre a janela de configuração dos atalhos de teclado normal do &kde;, onde você poderá atribuir ou associar os atalhos de teclado para todos os itens de menu.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-kleopatra">
<term
><menuchoice
><guimenu
>Configuração</guimenu
><guimenuitem
>Configurar o &kleopatra;...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Abre a janela de configuração do &kleopatra;.</action
></para>

<para
>Veja <xref linkend="configuration"/> para mais detalhes.</para>
</listitem>
</varlistentry>

<varlistentry id="settings-configure-gpgme-backend">
<term
><menuchoice
><guimenu
>Configuração</guimenu
><guimenuitem
>Configurar a Infra-Estrutura do GpgME...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Abre a uma janela que lhe permite configurar todos os aspectos do &gpgsm; e dos outros módulos de infra-estruturas.</action
></para>

<para
>Esta janela é gerada dinamicamente a partir do resultado do utilitário &gpgconf; e poderá, por isso, mudar de aspectos quando forem actualizados os módulo das infra-estruturas.</para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menuhelp"
><title
>O Menu Ajuda</title>


<para
>O menu  <guimenu
>Ajuda</guimenu
> contém a estrutura normal do menu de ajuda do &kde;.</para>
&help.menu.documentation; </sect1>

</chapter>

<chapter id="commandline-options"
><title
>Referência das Opções de Linha de Comando</title>

<para
>Só são listadas aqui as opções específicas do &kleopatra;. Como em todas as aplicações do &kde;, você poderá obter uma lista completa das opções se usar o comando <userinput
><command
>kleopatra <option
>--help</option
></command
></userinput
>.</para>

<variablelist>

<varlistentry id="commandline-option-external">
<term
>&commandline-option-external;</term>

<listitem>
<para
><action
>Indica que o &commandline-option-query; deverá procurar remotamente em vez de o fazer no chaveiro local.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="commandline-option-query">
<term
>&commandline-option-query;</term>

<listitem>
<para
><action
>Indica que o &kleopatra; deverá começar com o texto da pesquisa indicado em vez de listar o chaveiro local por completo.</action
></para>
</listitem>
</varlistentry>

<varlistentry id="commandline-option-import-certificate">
<term
>&commandline-option-import-certificate;</term>

<listitem>
<para
><action
>Indica um ficheiro ou URL a partir do qual importar os certificados (ou chaves privadas).</action
></para>

<para
>Este é o equivalente, para a linha de comandos, da opção <link linkend="file-import-certificates"
><menuchoice
><guimenu
>Ficheiro</guimenu
> <guimenuitem
>Importar os Certificados...</guimenuitem
></menuchoice
></link
>.</para>
</listitem>
</varlistentry>

</variablelist>

</chapter>

<chapter id="configuration"
><title
>Configurar o &kleopatra;</title>

<para
>A janela de configuração do &kleopatra;'s pode ser acedida através de <link linkend="settings-configure-kleopatra"
><menuchoice
><guimenu
>Configuração</guimenu
><guimenuitem
>Configurar o &kleopatra;...</guimenuitem
></menuchoice
></link
>.</para>

<para
>Cada uma das suas páginas está descrita nas secções em baixo.</para>

<sect1 id="configuration-directory-services"
><title
>Configurar Serviços de Directório</title>

<para
>Nesta página, o utilizador poderá configurar os servidores de LDAP a usar para as pesquisas por certificados. Poderá também configurar a sua ordem, assim como algumas opções relacionadas com o LDAP a partir da janela de configuração dinâmica da infra-estrutura, a qual está disponível em <link linkend="settings-configure-gpgme-backend"
><menuchoice
><guimenu
>Configuração</guimenu
> <guimenuitem
>Configurar a Infra-Estrutura do GpgME...</guimenuitem
></menuchoice
></link
>.</para>

<para
>Para adicionar um novo servidor, carregue no botão <guilabel
>Adicionar um Serviço...</guilabel
>. Na janela que aparece, você poderá definir o <guilabel
>Nome do servidor</guilabel
>, o <guilabel
>Porto</guilabel
> (predefinido com o porto por omissão do LDAP), o <guilabel
>&dn; de Base</guilabel
> (referido algumas vezes como a raiz ou base da pesquisa) e o <guilabel
>Utilizador</guilabel
> e <guilabel
>Senha</guilabel
> normais, onde ambos só serão necessários se o servidor precisar de autenticação. Se carregar em <guilabel
>OK</guilabel
>, irá adicionar os detalhes do servidor à lista, enquanto que o <guilabel
>Cancelar</guilabel
> elimina essas alterações.</para>

<para
>Para remover um servidor da lista de procura, seleccione-o na lista e carregue depois no botão <guilabel
>Remover o Serviço</guilabel
>.</para>

<para
>Para alterar a ordem relativa dos servidores, seleccione um deles e mova-o para cima ou para baixo com os botões das setas ao lado da lista.</para>

<para
>Para definir o tempo-limite do LDAP, &ie; o tempo máximo que a infra-estrutura irá esperar pela resposta de um servidor, basta usar o campo de texto correspondente denominado <guilabel
>tempo-limite do LDAP</guilabel
>.</para>

<para
>Se um dos servidores tiver uma base de dados grande, de modo que as pesquisas razoáveis do tipo <userinput
>Sousa</userinput
> atinjam o <guilabel
>número máximo de itens devolvidos pela pesquisa</guilabel
>, poderá querer aumentar este limite. Você poderá concluir que, se atingir esse limite durante uma pesquisa, irá aparecer uma janela neste caso, a avisá-lo que os resultados foram truncados.</para>

<note
><para
>Alguns servidores poderão impor os seus próprios limites no número de itens devolvidos por uma pesquisa. Neste caso, o aumento do limite aqui não irá resultar em mais itens devolvidos.</para
></note>

</sect1>

<sect1 id="configuration-appearance"
><title
>Configurar a Aparência Visual</title>

<para
>O &kleopatra; permite-lhe personalizar a aparência das chaves (validadas) na lista. Isto inclui as cores do texto e do fundo, assim como o tipo de letra.</para>

<para
>Cada <guilabel
>Categoria de Chaves</guilabel
> à esquerda tem atribuído um conjunto de cores e um tipo de letra, com o qual as chaves que pertencerem a essa categoria são apresentados. A lista de categorias também actua como uma antevisão da configuração. As categorias poderão ser definidas de forma livre pelo administrador ou por um utilizador com privilégios; veja o <xref linkend="admin-key-filters"/> em <xref linkend="admin"/>.</para>

<para
>Para alterar a cor do texto de uma categoria, seleccione-a na lista e carregue no botão <guilabel
>Alterar a Cor do Texto...</guilabel
>. A janela de selecção de cores normal do &kde; irá aparecer, e nela poderá escolher ou criar uma cor nova.</para>

<para
>A alteração da cor de fundo é feita da mesma forma, carregando em alternativa no botão <guilabel
>Alterar a Cor de Fundo...</guilabel
>.</para>

<para
>Para alterar o tipo de letra, o utilizador tem duas opções:</para>

<orderedlist>
<listitem
><para
>Modifica o tipo de letra normal, utilizado por todas as listas no &kde;</para
></listitem>
<listitem
><para
>Utilizar um tipo de letra personalizado.</para
></listitem>
</orderedlist>

<para
>A primeira opção tem a vantagem que o tipo de letra irá seguir o estilo que você definiu a nível do &kde;, enquanto que a última dá-lhe um controlo completo sobre o tipo de letra a usar. A escolha é sua.</para>

<para
>Para usar o tipo de letra modificado, seleccione a categoria na lista e ligue ou desligue os modificadores do tipo de letra <guilabel
>Itálico</guilabel
>, <guilabel
>Negrito</guilabel
>, e/ou <guilabel
>Traçado</guilabel
>. Você poderá ver imediatamente o efeito do tipo de letra na lista de categorias.</para>

<para
>Para usar um tipo de letra, carregue no botão <guilabel
>Alterar o Tipo de Letra...</guilabel
>. A janela normal de selecção do tipo de letra do &kde; irá aparecer e nela poderá seleccionar o novo tipo de letra. Lembre-se que poderá à mesma usar os modificadores do tipo de letra para alterar o tipo de letra personalizado, assim como modificar o tipo de letra normal.</para>

<para
>Para voltar ao tipo de letra normal, você precisa de carregar no botão <guilabel
>Aparência por Omissão</guilabel
>.</para>

</sect1>

<sect1 id="configuration-dn-order"
><title
>Configurar a Ordem de Visualização dos Atributos do &dn;</title>

<para
>Ainda que os &dn;s sejam hierárquicos, a ordem dos componentes individuais (chamados de &dn;s relativos (RDNs) ou atributos do &dn;) não está definida. A ordem pela qual aparecem os atributos é, por isso, uma questão de gosto pessoal ou da empresa, razão pela qual é configurável no &kleopatra;.</para>

<note
><para
>Esta opção não só se aplica ao &kleopatra;, mas a todas as aplicações que usam a Tecnologia do &kleopatra;. Na altura em que este documento foi escrito, estas incluem o &kmail;, o &kaddressbook;, assim como o próprio &kleopatra;, como é óbvio.</para
></note>

<para
>Esta página de configuração consiste basicamente em duas listas, uma para os atributos conhecidos (<guilabel
>Atributos disponíveis</guilabel
>) e outra que descreve a <guilabel
>Ordem actual dos atributos</guilabel
>.</para>

<para
>Ambas as listas contêm itens descritos pela forma resumida do atributo (&eg; <guilabel
>CN</guilabel
>), assim como a forma por extenso (<guilabel
>Common Name - Nome Comum</guilabel
>).</para>

<para
>A lista de <guilabel
>Atributos disponíveis</guilabel
> está sempre ordenada alfabeticamente, enquanto que a sequência da lista <guilabel
>Ordem actual dos atributos</guilabel
> reflecte a ordem configurada de atributos do &dn;: o primeiro atributo da lista é também o atributo mostrado em primeiro lugar.</para>

<para
>Só os atributos listados explicitamente na lista <guilabel
>Ordem actual dos atributos</guilabel
> é que são mostrados de todo. O resto fica escondido por omissão.</para>

<para
>Contudo, se o item de substituição <guilabel
>_X_</guilabel
> (<guilabel
>Todos os outros</guilabel
>) estiver na lista <quote
>actual</quote
>, todos os atributos não listados (sejam conhecidos ou não), são inseridos no local do <guilabel
>_X_</guilabel
>, na sua ordem relativa original.</para>

<para
>Um pequeno exemplo ajudará a clarificar isto:</para>

<informalexample>
<para
>Dado o &dn;</para>
<blockquote
> <para
> O=KDE, C=PT, CN=Zé Pires, X-BAR=xpto, OU=Kleopatra, X-FOO=ola, </para
> </blockquote
> <para
>a ordem por omissão dos atributos <quote
>CN, L, _X_, OU, O, C</quote
> irá produzir o seguinte &dn; formatado:</para
> <blockquote
> <para
> CN=Zé Pires, X-BAR=xpto, X-FOO=ola, OU=Kleopatra, O=KDE, C=PT </para
> </blockquote
> <para
>enquanto que o <quote
>CN, L, OU, O, C</quote
> irá produzir</para
> <blockquote
> <para
> CN=Zé Pires, OU=Kleopatra, O=KDE, C=PT </para
> </blockquote
> </informalexample>

<para
>Para adicionar um atributo à lista da ordem de apresentação, seleccione-o na lista de <guilabel
>Atributos disponíveis</guilabel
> e carregue no botão <guilabel
>Adicionar à ordem actual dos atributos</guilabel
>.</para>

<para
>Para remover um atributo da lista da ordem de apresentação, seleccione-o na lista de <guilabel
>Ordem actual dos atributos</guilabel
> e carregue no botão <guilabel
>Remover da ordem actual dos atributos</guilabel
>.</para>

<para
>Para mover um atributo para o início (fim), seleccione-o na lista <guilabel
>Ordem actual dos atributos</guilabel
> e carregue no botão <guilabel
>Mover para o topo</guilabel
> (<guilabel
>Mover para o fundo</guilabel
>).</para>

<para
>Para mover um atributo apenas uma posição para cima (baixo), seleccione-o na lista <guilabel
>Ordem actual dos atributos</guilabel
> e carregue no botão <guilabel
>Subir</guilabel
> (<guilabel
>Descer</guilabel
>).</para>

</sect1>

</chapter>

<chapter id="admin"
><title
>Guia do Administrador</title>

<para
>Este Guia do Administrador descreve as formas de personalizar o &kleopatra; que não estão disponíveis através da &GUI;, mas apenas através de ficheiros de configuração.</para>

<para
>Assume-se que o leitor está familiarizado com a tecnologia usada para a configuração das aplicações do &kde;, incluindo o formato, a localização no sistema de ficheiros e o encadeamento dos ficheiros de configuração do &kde;, assim como a plataforma KIOSK.</para>

<sect1 id="admin-certificate-request-wizard"
><title
>Personalização do Assistente de Criação de Certificados</title>

<para
>O &kleopatra; permite-lhe personalizar os campos que o utilizador tem permissão para introduzir, de forma a criar o seu certificado.</para>

<para
>Crie um grupo chamado <literal
>CertificateCreationWizard</literal
> no <filename
>kleopatrarc</filename
> do sistema. Se você quiser uma ordem personalizada dos atributos ou se desejar que apareçam apenas alguns itens, crie uma chave chamada <varname
>DNAttributeOrder</varname
>. O argumento é um ou mais itens da lista <varname
>CN,SN,GN,L,T,OU,O,PC,C,SP,DC,BC,EMAIL</varname
> Se quiser inicializar os campos com um dado valor, escreva algo do tipo Atributo=valor. Se quiser que o atributo seja tratado como obrigatório, adicione um ponto de exclamação (&eg; <varname
>CN!,L,OU,O!,C!,EMAIL!</varname
> que é, de facto, a configuração por omissão).</para>

<para
>Se usar o modificador do modo do <acronym
>KIOSK</acronym
> <varname
>$e</varname
>, poderá obter os valores das variáveis de ambiente, ou então a partir de um programa avaliado. Se quiser proibir a edição do campo respectivo, para além disso, use o modificador <varname
>$i</varname
>. Se quiser proibir o uso do botão <guibutton
>Inserir o Meu Endereço</guibutton
>, configure o <varname
>ShowSetWhoAmI</varname
> como 'false'.</para>

<tip
><para
>Devido à natureza da plataforma <acronym
>KIOSK</acronym
> do &kde;, se usar a opção de inalterável (<varname
>$i</varname
>), irá impossibilitar ao utilizador a sobreposição da opção. Este é o comportamento pretendido. O <varname
>$i</varname
> e o <varname
>$e</varname
> podem ser usados com todas as chaves de configuração das aplicações do &kde;, da mesma forma.</para
></tip>

<para
>O seguinte exemplo representa as personalizações possíveis:</para>

<para>
<programlisting
>[CertificateCreationWizard] 
;Proibir a cópia de dados pessoais do livro de endereços, não permitir sobreposições locais
ShowSetWhoAmI[$i]=false

;configurar o nome do utilizador igual a $USER
CN[$e]=$USER

;configura o nome da empresa como sendo "A Minha Empresa", proibindo as alterações
O[$i]=A Minha Empresa

;configura o nome do departamento como sendo um valor devolvido por um programa
OU[$ei]=$(devolver_depart_pelo_ip)

; configura o país como PT, mas permitindo alterações pelo utilizador
C=PT
</programlisting>

</para>
</sect1>

    <sect1 id="admin-key-filters">

      <title
>Criar e Editar Categorias de Chaves </title>

      <para
>O &kleopatra; permite ao utilizador configurar a <link linkend="configuration-appearance"
>aparência visual</link
> das chaves com base num conceito chamado de <guilabel
>Categorias das Chaves</guilabel
>. Esta secção descreve como poderá editar as categorias disponíveis, bem como adicionar novas. </para>

      <para
>Ao tentar procurar a categoria a que uma chave pertence, o &kleopatra; tenta corresponder a chave a uma sequência de filtros de chaves, configurada no <filename
>libkleopatrarc</filename
>. A primeira a corresponder define a categoria. </para>

      <para
>Cada filtro de chaves está definido num grupo de configuração chamado <literal
>Key Filter #<replaceable
>n</replaceable
></literal
>, em que o <replaceable
>n</replaceable
> é um número que começa em <literal
>0</literal
>. </para>

      <para
>A única chave obrigatória num grupo <literal
>Key Filter #<replaceable
>n</replaceable
></literal
> é o <varname
>Name</varname
>, que contém o nome da categoria, tal como aparece na <link linkend="configuration-appearance"
>janela de configuração</link
>. </para>

      <para
><xref linkend="table-key-filters-appearance"/> lista todas as chaves que definem as propriedades de visualização das chaves que pertencem a essa categorias (&ie; aquelas chaves que poderão ser ajustadas na <link linkend="configuration-appearance"
>janela de configuração</link
>), em que o <xref linkend="table-key-filters-criteria"/> lista todas as chaves que definem o critério com o qual o filtro faz a correspondência das chaves. </para>

      <table id="table-key-filters-appearance">
	<title
>Chaves de Configuração do Filtro de Chaves que Definem Propriedades de Visualização</title>
	<tgroup cols="3">
	  <colspec colnum="2" align="center"/>
	  <thead>
	    <row>
	      <entry
>Chave de Configuração</entry>
	      <entry
>Tipo</entry>
	      <entry
>Descrição</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><varname
>background-color</varname
></entry>
	      <entry
>cor</entry>
	      <entry
>A cor de fundo a usar. Se estiver em falta, usa a cor de fundo definida a nível global para as listas. </entry>
	    </row>
	    <row>
	      <entry
><varname
>foreground-color</varname
></entry>
	      <entry
>cor</entry>
	      <entry
>A cor do texto a usar. Se estiver em falta, usa a cor do texto definida a nível global para as listas. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font</varname
></entry>
	      <entry
>tipo de letra</entry>
	      <entry
>O tipo de letra a usar. Esse tipo de letra será ajustado para o tamanho configurado para as listas e todos os atributos dos tipos de letra (ver em baixo) serão aplicados. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-bold</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>Se for igual a <literal
>true</literal
> e o <varname
>font</varname
> não estiver definido, usa o tipo de letra por omissão das listas com um estilo negrito adicionado (se estiver disponível). É ignorado se o <varname
>font</varname
> estiver também disponível. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-italic</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>É igual ao <varname
>font-bold</varname
>, só que para um tipo de letra itálico em vez de negrito. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-strikeout</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>Se for igual a <literal
>true</literal
>, desenha uma linha centrada por cima do tipo de letra. É aplicado, mesmo que o <varname
>font</varname
> esteja definido. </entry>
	    </row>
	    <row>
	      <entry
><varname
>icon</varname
></entry>
	      <entry
>texto</entry>
	      <entry
>O nome do ícone a mostrar para a primeira coluna. Ainda não está implementado. </entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <table id="table-key-filters-criteria">
	<title
>Chaves de Configuração do Filtro de Chaves que Definem Critérios de Filtragem</title>
	<tgroup cols="3">
	  <colspec colnum="2" align="center"/>
	  <thead>
	    <row>
	      <entry
>Chave de Configuração</entry>
	      <entry
>Tipo</entry>
	      <entry
>Se forem indicadas, o filtro faz correspondência quando...</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><varname
>is-revoked</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave foi revogada.</entry>
	    </row>
	    <row>
	      <entry
><varname
>is-expired</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave expirou.</entry>
	    </row>
	    <row>
	      <entry
><varname
>is-disabled</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave foi desactivada (marcada para não ser usada) pelo utilizador. É ignorada no caso das chaves &smime;. </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-root-certificate</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave é um certificado de raiz. Ignorado nas chaves OpenPGP. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-encrypt</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave pode ser utilizada para encriptação. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-sign</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave pode ser utilizada para assinar. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-certify</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave por ser utilizada para assinar (certificar) outras chaves. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-authenticate</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave pode ser utilizada para autenticação (&eg; como um certificado de cliente <acronym
>TLS</acronym
>). </entry>
	    </row>
	    <row>
	      <entry
><varname
>has-secret-key</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave secreta deste par da chaves está disponível. </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-openpgp-key</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave é uma chave OpenPGP (<literal
>true</literal
>), ou uma chave &smime; (<literal
>false</literal
>). </entry>
	    </row>
	    <row>
	      <entry
><varname
>was-validated</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave foi validada (veja em <link linkend="certificates-validate"
><menuchoice
><shortcut
><keycombo action="simul"
>&Shift;<keycap
>F5</keycap
></keycombo
></shortcut
> <guimenu
>Certificados</guimenu
><guimenuitem
>Validar</guimenuitem
></menuchoice
></link
>). </entry>
	    </row>
	    <row>
	      <entry
><varname
><replaceable
>prefixo</replaceable
>-ownertrust</varname
></entry>
	      <entry
>validate<footnote
> <para
>A validade é uma enumeração (ordenada) com os seguintes valores permitidos: <literal
>unknown</literal
> (desconhecido), <literal
>undefined</literal
> (indefinido), <literal
>never</literal
> (nunca), <literal
>marginal</literal
> (marginal), <literal
>full</literal
> (completa), <literal
>ultimate</literal
> (unânime). Veja os manuais do &gpg; e do &gpgsm; para uma explicação detalhada. </para>
		</footnote>
	      </entry>
	      <entry
>a chave tem exactamente (<replaceable
>prefixo</replaceable
>&nbsp;=&nbsp;<literal
>is</literal
>), tem tudo excepto (<replaceable
>prefixo</replaceable
>&nbsp;=&nbsp;<literal
>is-not</literal
>), tem pelo menos (<replaceable
>prefixo</replaceable
>&nbsp;=&nbsp;<literal
>is-at-least</literal
>), ou tem no máximo (<replaceable
>prefixo</replaceable
>&nbsp;=&nbsp;<literal
>is-at-most</literal
>) o grau de confiança dado como valor da chave de configuração. Se for indicada mais do que uma chave <varname
><replaceable
>prefixo</replaceable
>-ownertrust</varname
> (com vários valores de <replaceable
>prefixo</replaceable
>) num único grupo, o comportamento será indefinido. </entry>
	    </row>
	    <row>
	      <entry
><varname
><replaceable
>prefixo</replaceable
>-validity</varname
></entry>
	      <entry
>validate</entry>
	      <entry
>É igual ao <varname
><replaceable
>prefixo</replaceable
>-ownertrust</varname
>, mas para a validade da chave em vez do grau de confiança do dono. </entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <note>
	<para
>Alguns dos critérios mais interessantes, como o <varname
>is-revoked</varname
> ou o <varname
>is-expired</varname
> só irão funcionar com as chaves <emphasis
>validadas</emphasis
>, razão pela qual, por omissão, só as chaves validadas são verificadas a nível de revogação e expiração, ainda que você seja livre para remover estas verificações extra. </para>
      </note>

      <para
>De um modo geral, os critérios não indicados (&ie; o item de configuração não está definido) não são validados. Se um critério for indicado, é validado e terá de corresponder para que o filtro como um todo seja validado, &ie; os critérios são agrupados com um E lógico. </para>

      <example>
	<title
>Exemplos de filtros de chaves </title>
	<para
>Para verificar todos os certificados expirados mas não revogados, você iria usar um filtro de chaves definido da seguinte forma: </para>
<!-- isn't there a better way to not indent this in the output??? -->
	<screen
><!--
-->[Key Filter #<replaceable
>n</replaceable
>]
Name=expiradas, mas não revogadas
was-validated=true
is-expired=true
is-revoked=false
is-root-certificate=true<!--
     --></screen>
	<para
>Para verificar todas as chaves de OpenPGP desactivadas (ainda não suportado pelo &kleopatra;) com um grau de confiança pelo menos <quote
>marginal</quote
>, você iria usar: </para>
	<screen
><!--
-->[Key Filter #<replaceable
>n</replaceable
>]
Name=chaves desactivadas de OpenPGP com confiança marginal ou melhor
is-openpgp=true
is-disabled=true
is-at-least-ownertrust=marginal<!--
     --></screen>
      </example>

    </sect1>

  </chapter
> <!-- Administrator's Guide -->

<chapter id="credits-and-license">
<title
>Créditos e Licença</title>

<para
>&kleopatra; com 'copyright' 2002 de &Steffen.Hansen;, &Matthias.Kalle.Dalheimer; e &Jesper.Pedersen;., e com 'copyright' 2004 de &Daniel.Molkentin;, e 'copyright' 2004 de Klar&auml;lvdalens Datakonsult AB</para>

<para
>Documentação copyright 2002 &Steffen.Hansen;, copyright 2004 &Daniel.Molkentin;, copyright 2004 Klar&auml;lvdalens Datakonsult AB</para>

<itemizedlist>
<title
>Contribuições</title>
<listitem>
<para
>&Marc.Mutz; &Marc.Mutz.mail;</para>
</listitem>
<listitem>
<para
>&David.Faure; &David.Faure.mail;</para>
</listitem>
<listitem>
<para
>&Steffen.Hansen; <email
>hansen@kde.org</email
></para>
</listitem>
<listitem>
<para
>&Matthias.Kalle.Dalheimer; &Matthias.Kalle.Dalheimer.mail;</para>
</listitem>
<listitem>
<para
>&Jesper.Pedersen; &Jesper.Pedersen.mail;</para>
</listitem>
<listitem>
<para
>&Daniel.Molkentin; &Daniel.Molkentin.mail;</para>
</listitem>
</itemizedlist>

<para
>Tradução de José Nuno Pires <email
>jncp@netcabo.pt</email
></para
> 
&underFDL; &underGPL; </chapter>

&documentation.index; 
</book>

<!--
Local Variables:
mode: sgml
sgml-minimize-attributes:nil
sgml-general-insert-case:lower
sgml-indent-step:0
sgml-indent-data:nil
End:

// vim:ts=2:sw=2:tw=78:noet
-->
