<chapter id="advanced-editing-tools">
<chapterinfo>
<authorgroup>
<author
>&Anders.Lund; &Anders.Lund.mail;</author>
<author
>&Dominik.Haumann; &Dominik.Haumann.mail;</author>
<othercredit role="translator"
><firstname
>José</firstname
><surname
>Pires</surname
><affiliation
><address
><email
>jncp@netcabo.pt</email
></address
></affiliation
><contrib
>Tradução</contrib
></othercredit
> 
</authorgroup>
</chapterinfo>
<title
>Ferramentas Avançadas de Edição</title>

<sect1 id="advanced-editing-tools-comment">

<title
>Comentar/Descomentar</title>

<para
>Os comandos Comentar e Descomentar, disponíveis no menu <guimenu
>Ferramentas</guimenu
> permitem-lhe adicionar ou remover marcações de comentários à selecção ou à linha actual, se não estiver texto seleccionado. Os comentários são suportados pelo formato do texto que você está a editar.</para>

<para
>As regras de como os comentários são feitos estão descritas nas definições da sintaxe; por isso, se o realce de sintaxe não é usado, o comentar/descomentar não é possível. </para>

<para
>Alguns formatos definem comentários para linhas únicas, outros suportam comentários para várias linhas e ainda outros suportam ambos. Se não estiverem disponíveis os comentários para várias linhas, o acto de comentar uma selecção que não inclui por completo a sua última linha não é possível.</para>

<para
>Se estiver disponível uma marcação para linhas únicas, o acto de comentar linhas únicas é preferível quando aplicável, dado que evita os problemas com os comentários aninhados.</para>

<para
>Ao remover as marcações de comentários, não deve ser escolhido texto sem comentários. Ao retirar as marcações de comentários de várias linhas de uma selecção, todos os espaços em branco fora das marcações de comentários são ignorados.</para>

<para
><indexterm
><primary
>comentar</primary
></indexterm
> Para colocar marcações de comentários, use a opção do menu <menuchoice
><guimenu
>Ferramentas</guimenu
><guimenuitem
>Comentar</guimenuitem
></menuchoice
> ou a sequência de teclado relacionada, que por omissão é <keycombo action="simul"
>&Ctrl;<keycap
>D</keycap
></keycombo
>.</para>

<para
><indexterm
><primary
>descomentar</primary
></indexterm
> Para remover marcações de comentários, use a opção do menu <menuchoice
><guimenu
>Ferramentas</guimenu
><guimenuitem
>Descomentar</guimenuitem
></menuchoice
> ou o atalho de teclado relacionado, que por omissão é o <keycombo action="simul"
>&Ctrl;&Shift;<keycap
>D</keycap
></keycombo
>.</para>

</sect1>

<sect1 id="advanced-editing-tools-commandline">
<title
>A Linha de Comandos do Componente de Edição</title>

<para
>O componente de edição do Kate tem uma linha de comandos interna, que lhe permite efectuar várias acções a partir de uma interface mínima. A linha de comandos é um campo de texto no fundo da área de edição onde, para a mostrar, poderá seleccionar a opção <menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Mudar para a Linha de Comandos</guimenuitem
></menuchoice
> ou usar o atalho (que é, por omissão, o <keycombo action="simul"
><keycap
>F7</keycap
></keycombo
>). O editor oferece um conjunto de comandos, tal como está documentado em baixo, sendo oferecidos mais comandos através de 'plugins'.</para>

<para
>Para executar um comando, carregue na tecla Return. A linha de comandos irá indicar se foi bem sucedida e, provavelmente, irá mostrar uma mensagem. Se você introduziu a linha de comandos ao carregar em <keycap
>F7</keycap
>, ele esconder-se-á automaticamente, ao fim de alguns segundos. Para limpar a mensagem e introduzir um comando novo, carregue em <keycap
>F7</keycap
> de novo.</para>

<para
>A linha de comandos tem um sistema de ajuda incorporado, pelo que poderá introduzir o comando <command
>help</command
> para iniciar. Para ver uma lista com todos os comandos disponíveis, invoque o comando <command
>help list</command
>; para ver a ajuda sobre um dado comando, faça <command
>help <replaceable
>comando</replaceable
></command
>.</para>

<para
>A linha de comandos tem um histórico incorporado, como tal, o utilizador poderá reutilizar os comandos já escritos. Para navegar no histórico, use as teclas <keycap
>Cima</keycap
> e <keycap
>Baixo</keycap
>. Ao mostrar os comandos do histórico, a parte de argumento do comando será seleccionada, o que lhe permite sobrepor facilmente os argumentos.</para>

<sect2 id="advanced-editing-tools-commandline-commands">
<title
>Comandos Normais da Linha de Comandos</title>

<sect3 id="advanced-editing-tools-commandline-commands-configure">
<title
>Comandos para Configurar o Editor</title>

<para
>Estes comandos são oferecidos pelo componente do editor e permitem-lhe configurar apenas o documento e a janela activos. Isto poderá ser útil se quiser usar uma configuração diferente da predefinida como, por exemplo, na indentação. </para>

<variablelist>
<title
>Tipos de argumento</title>

<varlistentry>
<term
>BOOLEANO</term>
<listitem
><para
>Isto é usado com os comandos que activam ou desactivam certas coisa. Os valores válidos são o <userinput
>on</userinput
>, <userinput
>off</userinput
>, <userinput
>true</userinput
>, <userinput
>false</userinput
>, <userinput
>1</userinput
> ou <userinput
>0</userinput
></para
></listitem>
</varlistentry>

<varlistentry>
<term
>INTEIRO</term>
<listitem
><para
>Um número inteiro</para
></listitem>
</varlistentry>

<varlistentry>
<term
>TEXTO</term>
<listitem
><para
>Um texto</para
></listitem>
</varlistentry>

</variablelist>

<variablelist>

<varlistentry>
<term
><cmdsynopsis
><command
>set-tab-width</command
><arg
>INTEIRO largura</arg
></cmdsynopsis
></term>
<listitem
><para
>Configura a largura da tabulação como sendo <userinput
>largura</userinput
></para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-width</command
><arg
>INTEIRO largura</arg
></cmdsynopsis
></term>
<listitem
><para
>Configura a largura da indentação como <userinput
>largura</userinput
>. Só é usado se o utilizador indentar com espaços.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-word-wrap-column</command
><arg
>INTEIRO largura</arg
></cmdsynopsis
></term>
<listitem
><para
>Configura a largura da linha para uma mudança restrita como tendo <userinput
>largura</userinput
> colunas. Isto é usado se você tiver o seu texto a ser repartido automaticamente.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-icon-border</command
><arg
>BOOLEANO activar</arg
> </cmdsynopsis
></term>
<listitem
><para
>Configura a visibilidade do contorno dos ícones.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-folding-markers</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Configura a visibilidade da área de marcadores de dobragem/desdobragem do código.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-line-numbers</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Configura a visibilidade da área de números de linha.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-replace-tabs</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Se estiver activo, as tabulações são substituídas por espaços, à medida que você vai escrevendo. </para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-remove-trailing-space</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Se estiver activo, os espaços finais serão removidos quando o cursor abandonar uma dada linha.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-show-tabs</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Se estiver activo, os caracteres de tabulação e espaços estarão visíveis através de um pequeno ponto.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-spaces</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Se estiver activo, o editor irá indentar com <option
>largura-indentação</option
> espaços por cada nível de indentação, em vez de usar o carácter TAB.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-mixed-indent</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Se estiver activo, o &kate; irá usar uma mistura de TABs e espaços para a indentação. Cada nível de indentação irá ter um tamanho de <option
>largura-indentação</option
>, enquanto os restantes níveis de indentação serão optimizados para usar tantos caracteres TAB quantos possíveis.</para>
<para
>Quando for executado, este comando irá activar a indentação com espaços e, se a largura de indentação não estiver definida, corresponderá a metade da <option
>largura-tabulação</option
> do documento, na altura da execução.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-word-wrap</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Activa a mudança de linha dinâmica, de acordo com o parâmetro <userinput
>activar</userinput
></para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-replace-tabs-save</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Quando estiver activo, as tabulações serão substituídas por espaços em branco, sempre que o documento for gravado.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-remove-trailing-space-save</command
><arg
>BOOLEANO activar</arg
></cmdsynopsis
></term>
<listitem
><para
>Quando estiver activo, os espaços finais serão removidos de cada linha, sempre que o documento for gravado.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-indent-mode</command
><arg
>nome</arg
></cmdsynopsis
></term>
<listitem
><para
>Configura o modo de indentação automática como <userinput
>nome</userinput
>. Se o <userinput
>nome</userinput
> não for conhecido, o modo é configurado como 'none' (nenhum). Os modos válidos são o 'cstyle', 'csands', 'xml', 'python', 'varindent' e 'none'.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>set-highlight</command
><arg
>realce</arg
></cmdsynopsis
></term>
<listitem
><para
>Configura o sistema de realce de sintaxe para o documento. O argumento deverá ser um nome de realce válido, como pode ser visto no menu <menuchoice
><guimenu
>Ferramentas</guimenu
><guisubmenu
>Realce</guisubmenu
></menuchoice
>. Este comando oferece uma lista de completação automática para o seu argumento.</para
></listitem>
</varlistentry>

</variablelist>

</sect3>

<sect3 id="advanced-editing-tools-commandline-commands-edit">
<title
>Comandos de edição</title>

<para
>Estes comandos modificam o documento actual.</para>

<variablelist>
<varlistentry>
<term
><cmdsynopsis
><command
>indent</command
></cmdsynopsis
></term>
<listitem
><para
>Indenta as linhas seleccionadas ou a linha actual.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>Desindentar</command
></cmdsynopsis
></term>
<listitem
><para
>Remove um nível de indentação das linhas seleccionadas ou da linha actual.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>cleanindent</command
></cmdsynopsis
></term>
<listitem
><para
>Limpa a indentação das linhas seleccionadas ou da linha actual, de acordo com a configuração de indentação no documento. </para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>comment</command
></cmdsynopsis
></term>
<listitem
><para
>Insere marcações de comentários para fazer da selecção, linhas seleccionadas ou da linha actual um comentário, de acordo com o formato de texto definido pela definição do realce de sintaxe para o documento.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>uncomment</command
></cmdsynopsis
></term>
<listitem
><para
>Remove os marcadores de comentários da selecção, linhas seleccionadas ou da linha actual, de acordo com o formato de texto definido pela definição do realce de sintaxe do documento.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>kill-line</command
></cmdsynopsis
></term>
<listitem
><para
>Remove a linha actual.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>replace</command
><arg
>padrão</arg
><arg
>substituição</arg
></cmdsynopsis
></term>
<listitem
><para
>Substitui o texto correspondente ao <userinput
>padrão</userinput
> por <userinput
>substituição</userinput
>. Se você quiser incluir espaços em branco no <userinput
>padrão</userinput
>, deverá colocar tanto o <userinput
>padrão</userinput
> como a <userinput
>substituição</userinput
> entre plicas ou aspas. Se os argumentos não estiverem entre estes caracteres, a primeira palavra é usada como <userinput
>padrão</userinput
> e o resto como a <userinput
>substituição</userinput
>. Se a <userinput
>substituição</userinput
> estiver em branco, cada ocorrência do <userinput
>padrão</userinput
> será removida.</para>
<para
>Você poderá configurar opções para modificar a procura, adicionando dois pontos (:), seguidos de uma ou mais letras, onde cada uma representa uma configuração, o que corresponderá ao formato <userinput
>replace:opções padrão substituição</userinput
>. As opções disponíveis são: <variablelist>

<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Procura para trás.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Procura a partir da posição do cursor.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>e</userinput
></term>
<listitem
><para
>Procura apenas na área seleccionada.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Faz uma pesquisa por uma dada expressão regular. Se estiver activo, você poderá usar o <userinput
>\N</userinput
>, onde o N é um número que representa as capturas no texto de substituição.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Faz uma pesquisa com distinção entre maiúsculas e minúsculas.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>p</userinput
></term>
<listitem
><para
>Pede permissões para substituir a próxima ocorrência.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>w</userinput
></term>
<listitem
><para
>Faz uma correspondência apenas com palavras inteiras.</para
></listitem>
</varlistentry>

</variablelist>

</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>date</command
><arg
>formato</arg
></cmdsynopsis
></term>
<listitem
><para
>Insere um texto de data/hora, tal como está definido pelo <userinput
>formato</userinput
> indicado, ou com o formato <quote
>aaaa-MM-dd hh:mm:ss</quote
>, se não for indicada qualquer formatação. As traduções seguintes são feitas quando for interpretado o <userinput
>formato</userinput
>: <informaltable
> <tgroup cols="2"
> <tbody>
<row
><entry
><literal
>d</literal
></entry
><entry
>O dia, como um número sem um zero inicial (1-31).</entry
></row>
<row
><entry
><literal
>dd</literal
></entry
><entry
>O dia, como um número com um zero inicial (01-31).</entry
></row>
<row
><entry
><literal
>ddd</literal
></entry
><entry
>O nome do dia abreviado, no formato regional (p.ex. 'Seg'..'Dom').</entry
></row>
<row
><entry
><literal
>dddd</literal
></entry
><entry
>O nome do dia completo, no formato regional (p.ex. 'Segunda'..'Domingo').</entry
></row>
<row
><entry
><literal
>M</literal
></entry
><entry
>O mês, como um número sem um zero inicial (1-12).</entry
></row>
<row
><entry
><literal
>MM</literal
></entry
><entry
>O mês, como um número com um zero inicial (01-12).</entry
></row>
<row
><entry
><literal
>MMM</literal
></entry
><entry
>O nome do mês abreviado, no formato regional (p.ex. 'Jan'..'Dez').</entry
></row>
<row
><entry
><literal
>aa</literal
></entry
><entry
>O ano, como um número de dois algarismos (00-99).</entry
></row>
<row
><entry
><literal
>aaaa</literal
></entry
><entry
>O ano, como um número de quatro algarismos (1752-8000).</entry
></row>
<row
><entry
><literal
>h</literal
></entry
><entry
>As horas sem um zero inicial (0..23 ou 1..12 no caso do formato AM/PM).</entry
></row>
<row
><entry
><literal
>hh</literal
></entry
><entry
>As horas com um zero inicial (00..23 ou 01..12 no caso do formato AM/PM).</entry
></row>
<row
><entry
><literal
>m</literal
></entry
><entry
>Os minutos sem um zero inicial (0..59).</entry
></row>
<row
><entry
><literal
>mm</literal
></entry
><entry
>Os minutos com um zero inicial (00..59).</entry
></row>
<row
><entry
><literal
>s</literal
></entry
><entry
>Os segundos sem um zero inicial (0..59).</entry
></row>
<row
><entry
><literal
>ss</literal
></entry
><entry
>Os minutos com um zero inicial (00..59).</entry
></row>
<row
><entry
><literal
>z</literal
></entry
><entry
>Os milisegundos sem um zero inicial (0..999).</entry
></row>
<row
><entry
><literal
>zzz</literal
></entry
><entry
>Os milisegundos com zeros iniciais (000..999).</entry
></row>
<row
><entry
><literal
>AP</literal
></entry
><entry
>Usar o formato de horas AM/PM. O AP será substituído por "AM" ou por "PM".</entry
></row>
<row
><entry
><literal
>ap</literal
></entry
><entry
>Usar o formato de horas am/pm. O AP será substituído por "am" ou por "pm".</entry
></row>

</tbody>
</tgroup>
</informaltable>

</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>char</command
><arg
>identificador</arg
></cmdsynopsis
></term>
<listitem>
<para
>Este comando permite-lhe introduzir caracteres literais pelo seu identificador numérico em decimal, octal ou hexadecimal. Para o usar, invoque a Janela do Comando de Edição e escreva <userinput
>char: [number]</userinput
> no campo de texto, carregando depois em <guibutton
>OK</guibutton
>.</para>

<example>
<title
>Exemplos do <command
>char</command
></title>

<para
>Introdução: <userinput
>char:234</userinput
></para>
<para
>Resultado: <computeroutput
>&#234;</computeroutput
></para>
<para
>Introdução: <userinput
>char:0x1234</userinput
></para>
<para
>Resultado: <computeroutput
>&#x1234;</computeroutput
></para>
</example>

</listitem>
</varlistentry>

<varlistentry>
<term>
<indexterm
><primary
>substituir, estilo sed</primary>
<secondary
>procurar, estilo sed</secondary
></indexterm>
<command
>s///[ig]</command
> <command
>%s///[ig]</command
></term>

<listitem>
<para
>Este comando efectua uma operação de pesquisa e substituição à 'sed' na linha actual ou em todo o ficheiro (<command
>%s///</command
>).</para>

<para
>Em resumo, o texto é percorrido à procura de uma sequência que corresponda ao <emphasis
>padrão de busca</emphasis
>, a expressão regular entre a primeira e a segunda barra, e quando for encontrada uma correspondência, esta é substituída pela expressão entre a parte do meio e a parte final do texto. Os parêntesis no padrão de busca criam <emphasis
>referências anteriores</emphasis
>, ou seja, o comando recorda qual a parte que correspondeu aos parêntesis; estas sequências podem ser reutilizadas no padrão de substituição, sendo referenciadas como <userinput
>\1</userinput
> para o primeiro conjunto de parêntesis, <userinput
>\2</userinput
> para o segundo e assim por diante.</para>

<para
>Para procurar por um <literal
>(</literal
> ou <literal
>)</literal
>, é necessário <emphasis
>escapá-lo</emphasis
>, usando uma barra invertida: <userinput
>\(\)</userinput
></para>

<para
>Se puser um <userinput
>i</userinput
> no fim da expressão, a correspondência não fará distinção entre maiúsculas ou minúsculas. Se, por outro lado, puser um <userinput
>g</userinput
> no fim, todas as ocorrências do padrão serão substituídas, caso contrário, só será substituída a primeira ocorrência.</para>

<example>

<title
>Substituir texto na linha actual</title>

<para
>O seu amigo compilador parou, indicando que a classe <classname
>myClass</classname
> representada na linha 3902 do ficheiro de código não está definida.</para>

<para
>&quot;Bolas!&quot; pensa você, é óbvio que é <classname
>MyClass</classname
>. Vá à linha 3902 e, em vez de tentar procurar a palavra no texto, invoque a Janela de Comando de Edição, escreva <userinput
>s/myclass/MyClass/i</userinput
>, carregue no botão <guibutton
>OK</guibutton
>, grave o ficheiro e compile &ndash; com sucesso, sem o erro.</para>

</example>

<example>
<title
>Substituir texto no ficheiro inteiro</title>

<para
>Imagine que tem um ficheiro, no qual menciona uma <quote
>Srª Silva</quote
> várias vezes, quando vem alguém e lhe diz que ela se casou com o <quote
>Sr. Pires</quote
>. Irá querer, obviamente, substituir todas as ocorrências de <quote
>Srª Silva</quote
> por <quote
>Srª Pires</quote
>.</para>

<para
>Entre na linha de comandos e escreva no campo de texto o comando <userinput
>%s/Srª Silva/Srª Pires/</userinput
>, carregando em RETURN para terminar.</para>

</example>

<example>
<title
>Um Exemplo Mais Avançado</title>

<para
>Este exemplo tira partido das <emphasis
>referências anteriores</emphasis
> assim como das <emphasis
>classes de palavras</emphasis
> (se você não souber o que isso é, baseie-se na documentação referida em baixo).</para>

<para
>Imagine que tem a seguinte linha: <programlisting
>void MyClass::DoStringOps( String      &amp;foo, String &amp;bar String *p, int  &amp;a, int &amp;b )</programlisting>
</para>
<para
>Agora, chega à conclusão que este não é um código bonito, e decide que quer usar a palavra <constant
>const</constant
> para todos os <quote
>endereços dos argumentos</quote
>, os quais se caracterizam pelo operador &amp; à frente do nome do argumento. Também irá querer simplificar os espaços em branco, de modo a que haja apenas um espaço entre cada palavra.</para>

<para
>Lance a Janela de Comando de Edição, escreva: <userinput
>s/\s+(\w+)\s+(&amp;)/ const \1 \2/g</userinput
> e carregue no botão <guibutton
>OK</guibutton
>. O <userinput
>g</userinput
>, no fim da expressão, recompila a expressão para cada correspondência para poupar as <emphasis
>referências anteriores</emphasis
>.</para>

<para
>Resultado: <computeroutput
>void MyClass::DoStringOps( const String &amp;foo, const String &amp;bar String *p, const int &amp;a, const int &amp;b )</computeroutput
></para>

<para
>Missão cumprida! Agora, o que se passou? Bem, procurou alguns espaços em branco (<literal
>\s+</literal
>) seguidos de um ou mais caracteres alfabéticos (<literal
>\w+</literal
>) seguidos por mais alguns espaços em branco (<literal
>\s+</literal
>) e um 'e' comercial, gravando durante o processo a sequência alfabética e o 'e' comercial para os reutilizar na operação de substituição. Assim, substituiu-se a parte correspondente da linha em questão por um espaço em branco seguido de <quote
>const</quote
>, um espaço em branco e depois pela sequência alfabética (<literal
>\1</literal
>) seguida de um espaço em branco e o '&amp;' guardado (<literal
>\2</literal
>)</para>

<para
>Agora, em alguns dos casos, a sequência alfabética era <quote
>String</quote
>, em outras era <quote
>int</quote
>, de modo que a utilização da classe de caracteres <literal
>\w</literal
> e do quantificador <literal
>+</literal
> foram uma ajuda preciosa.</para>

</example>

</listitem>

</varlistentry>

</variablelist>

</sect3>

<sect3 id="advanced-editing-tools-commandline-commands-navigation">
<title
>Comandos de navegação</title>

<variablelist>

<varlistentry>
<term
><cmdsynopsis
><command
>goto</command
><arg
>INT linha</arg
></cmdsynopsis
></term>
<listitem
><para
>Este comando vai para a linha indicada.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>find</command
><arg
>padrão</arg
></cmdsynopsis
></term>
<listitem
><para
>Este comando vai para a primeira ocorrência do <userinput
>padrão</userinput
>, de acordo com a configuração. As ocorrências seguintes poderão ser encontradas com a opção <menuchoice
><guimenu
>Editar</guimenu
><guimenuitem
>Procurar o Seguinte</guimenuitem
></menuchoice
> (o atalho por omissão é o <keycap
>F3</keycap
>).</para>
<para
>O comando de procura poderá ser configurado se adicionar dois-pontos, seguidos de uma ou mais opções, sendo o formato <userinput
>find:opções padrão</userinput
>. São suportadas as seguintes opções: <variablelist>

<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Procura para trás.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Procura a partir da posição do cursor.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>e</userinput
></term>
<listitem
><para
>Procura apenas na área seleccionada.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Faz uma pesquisa por uma dada expressão regular. Se estiver activo, você poderá usar o <userinput
>\N</userinput
>, onde o N é um número que representa as capturas no texto de substituição.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Faz uma pesquisa com distinção entre maiúsculas e minúsculas.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>w</userinput
></term>
<listitem
><para
>Faz uma correspondência apenas com palavras inteiras.</para
></listitem>
</varlistentry>

</variablelist>

</para>

</listitem>

</varlistentry>

<varlistentry>
<term
><cmdsynopsis
><command
>ifind</command
><arg
>padrão</arg
></cmdsynopsis
></term>
<listitem
><para
>Este comando oferece uma procura <quote
>à-medida-que-escreve</quote
>. Você poderá configurar o comportamento da procura se adicionar dois-pontos (:), seguidos de uma ou mais opções, como se segue: <userinput
>ifind:opções padrão</userinput
>. As opções permitidas são <variablelist>
<varlistentry>
<term
><userinput
>b</userinput
></term>
<listitem
><para
>Procura para trás.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>r</userinput
></term>
<listitem
><para
>Faz uma procura por uma expressão regular.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>s</userinput
></term>
<listitem
><para
>Faz uma pesquisa com distinção entre maiúsculas e minúsculas.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><userinput
>c</userinput
></term>
<listitem
><para
>Procura a partir da posição do cursor.</para
></listitem>
</varlistentry>

</variablelist>
</para
></listitem>
</varlistentry>

</variablelist>

</sect3>

</sect2>

</sect1>

<sect1 id="advanced-editing-tools-code-folding">
<title
>Usar o Desdobramento de Código</title>

<para
>O desdobramento ou dobragem de código permite-lhe esconder partes de um documento no editor, tornando mais simples analisar globalmente ficheiros grandes. No &kate;, as regiões desdobráveis são calculadas com base nas regras nas definições de realce de sintaxe, como tal só está disponível em alguns formatos - tipicamente em código-fonte de programas, código em XML e semelhantes. A maioria das definições de realce que suportam o desdobramento de código também lhe permitem definir manualmente regiões desdobráveis, tipicamente com as palavras-chave <userinput
>BEGIN</userinput
> e <userinput
>END</userinput
>.</para>

<para
>Para usar a funcionalidade de desdobramento de código, active os marcadores com a opção <menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Mostrar as Marcações de Dobragem</guimenuitem
></menuchoice
>, se não estiverem já visíveis. A área de Marcações de Dobragem, no lado esquerdo do ecrã, mostra uma vista gráfica sobre as regiões que poderão ser recolhidas ou expandidas, com símbolos +/- para indicar a operação possível numa dada região: um '-' significa que a região é expandida, enquanto se carregar no '-' irá recolher a região e um '+' mostrá-la-á em alternativa.</para>

<para
>Estão disponíveis quatro comandos para manipular o estado das regiões dobradas; para tal, veja a <link linkend="view-code-folding"
>documentação do menu</link
>. </para>

<para
>Se não quiser usar a funcionalidade de desdobramento do código, poderá desactivar a opção <guilabel
>Mostrar as marcações de dobragem (se disponíveis)</guilabel
> na <link linkend="config-dialog-editor-appearance"
>página de Aparência da configuração do editor</link
></para>

</sect1>

<sect1 id="advanced-editing-tools-scripting">

<title
>Programar o componente do editor com Javascript</title>

<sect2 id="advanced-editing-tools-scripting-introduction">

<title
>Introdução</title>

<para
>Desde a versão 2.5, o componente de edição do &kate; suporta a programação em ECMA Script, também conhecido como JavaScript.</para>

<para
>Os programas só poderão ser usados através da <link linkend="advanced-editing-tools-commandline"
>linha de comandos incorporada</link
>. Os requisitos são que o ficheiro esteja colocado numa pasta em que o &kate; o consiga encontrar, em conjunto com um ficheiro .desktop opcional que define as propriedades relacionadas. Algumas pastas válidas são a <filename
>katepart/scripts</filename
> nas pastas de dados do &kde;. Poderá encontrar as pastas de dados se executar o comando <command
>kde-config <option
>--path</option
> <parameter
>data</parameter
></command
> Irá ter pelo menos uma pasta do sistema e uma pessoal. Claro que os programas na pasta de dados do sistema estão disponíveis para todos os utilizadores do sistema, enquanto os das pastas pessoais só estão disponíveis para o utilizador respectivo.</para>

<note
><para
>Esta funcionalidade é experimental e poderá vir a mudar durante os desenvolvimentos futuros.</para>
<para
>Sabemos que muitos utilizadores poderão vir a ficar desapontados, dado que não poderão adicionar os seus programas ao menu ou atribuir atalhos a eles. Infelizmente, só provavelmente no futuro isso será possível.</para>
<para
>Também não é possível passar argumentos aos seus programas ainda. Tenha paciência, que isso será implementado em breve no futuro ;)</para>
</note>

</sect2>

<sect2 id="advanced-editing-tools-scripting-reference">

<title
>A API de JavaScript do Kate</title>

<para
>Aqui está listado o conjunto completo de funções e propriedades disponíveis nos objectos <type
>document</type
> e <type
>view</type
>. Para além disso, poderá também usar todos os objectos-padrão, como o <type
>Math</type
>, o <type
>String</type
>, o <type
>Regex</type
> e assim por diante.</para>

<para
>Quando um programa é executado, o objecto <classname
>document</classname
> é o documento actual, enquanto o <classname
>view</classname
> é a janela actual.</para>

<note
><para
>Os tipos dos argumentos não são, obviamente, usados no JavaScript nesta altura, servindo apenas para indicar que tipo de valor as funções estão à espera.</para
></note>

<variablelist id="advanced-editing-tools-scripting-global">
<title
>Funções Globais</title>
<varlistentry>
<term
><function
>debug( <parameter
><replaceable
>texto</replaceable
></parameter
>) [função]</function
></term>
<listitem>
<itemizedlist>
<title
>parâmetros</title>
<listitem
><para
><parameter
>texto</parameter
> a mensagem a mostrar</para>
</listitem>
</itemizedlist>
<para
>Envia o texto para o <acronym
>STDERR</acronym
> com o <function
>kdDebug()</function
>. É usada uma área de resultado dedicada para o texto, o qual será antecedido de <computeroutput
>Kate (KJS Scripts):</computeroutput
> </para>
</listitem>
</varlistentry>
</variablelist>

<variablelist id="advanced-editing-tools-scripting-document">
<title
>A API do <classname
>document</classname
></title>

<varlistentry>
<term
><function
>document.attribute( <parameter
><replaceable
>linha</replaceable
> </parameter
>, <parameter
><replaceable
>coluna</replaceable
></parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>uint linha</parameter
> A linha da posição onde encontrar o atributo.</para
></listitem>
<listitem
><para
><parameter
>uint coluna</parameter
> A coluna da posição onde encontrar o atributo.</para
></listitem>
</itemizedlist>
<para
>Devolve o ID numérico do atributo para a posição do documento [<parameter
>linha</parameter
>,<parameter
>coluna</parameter
>]. O atributo representa a aparência ou estilo visual do texto, e é usado também para calcular o realce de sintaxe para uma parte específica do texto, em formatos mistos como o HTML ou o PHP.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.canBreakAt( <parameter
>Char c</parameter
>, <parameter
>uint atributo</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>c</parameter
> O carácter a testar</para
></listitem>
<listitem
><para
><parameter
>atributo</parameter
> O atributo na posição do <parameter
>c</parameter
>.</para
></listitem>
</itemizedlist>
<para
>Devolve se é permitido quebrar a linha num carácter 'c' com o atributo 'atributo'. O resultado é decidido através da pesquisa do realce que contém o atributo, para o qual os caracteres permitem a quebra de linha.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.canComment( <parameter
>uint atributo_inicio</parameter
>, <parameter
>uint atributo_fim</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>atributo_inicio</parameter
> O atributo no início do intervalo para converter num comentário.</para
></listitem>
<listitem
><para
><parameter
>atributo_fim</parameter
> O atributo no fim do intervalo para converter num comentário.</para
></listitem>
</itemizedlist>
<para
>Devolve se o atributo_inicio e o atributo_fim pertencem ao mesmo sistema de realce de sintaxe. Se sim, é seguro. </para>
<example>
<title
>Usar o canComment</title>
<programlisting
>if ( document.canComment( document.attribute(1,0), document.attribute(5,0) ) ) {
    // o 1,0 e o 5,0 pertencem ao mesmo sistema de realce de sintaxe
}
</programlisting>
</example>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.clear(); [função]</function
></term>
<listitem
><para
>Limpa o documento.</para
></listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentStart( <parameter
>uint atributo</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>atributo</parameter
> O atributo do texto para qual deseja obter o texto do 'commentStart'.</para
></listitem>
</itemizedlist>
<para
>Devolve o texto necessário para iniciar um comentário para várias linhas com um texto e um atributo, ou um texto vazio se não forem suportados comentários em várias linhas para esse texto.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentMarker( <parameter
>uint atributo</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>atributo</parameter
> O atributo do texto para o qual deseja obter o texto do 'commentMarker'</para
></listitem>
</itemizedlist>
<para
>Devolve o texto necessário para marcar o resto da linha como um comentário com um texto e um atributo, ou um texto vazio se não forem suportados comentários numa única linha para esse texto.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.commentEnd( <parameter
>uint atributo</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>atributo</parameter
> O atributo do texto para o qual deseja obter o texto do 'commentEnd'</para
></listitem>
</itemizedlist>
<para
>Devolve o texto necessário para terminar um comentário para várias linhas com um texto e um atributo, ou um texto vazio se não forem suportados comentários em várias linhas para esse texto.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.editBegin(); [função]</function
></term>
<listitem>
<para
>Inicia um grupo de edição. Todas as acções feitas até à chamada do editEnd() serão agrupadas como uma acção anulável.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.editEnd(); [função]</function
></term>
<listitem>
<para
>Termina um grupo de edição.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.highlightMode; [propriedade:apenas leitura]</function
></term>
<listitem>
<para
>O nome do modo de realce do documento, como por exemplo JavaScript ou C++. Se não estiver definido qualquer modo de realce de sintaxe, o valor é igual a None. Lembre-se que terá de usar o nome em Inglês, no caso de ser diferente da versão traduzida.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.indentMode; [propriedade:apenas leitura]</function
></term>
<listitem>
<para
>O nome do modo de indentação do documento, como por exemplo <literal
>normal</literal
> ou <literal
>cstyle</literal
>. Lembre-se que, se não estiver definido qualquer modo de indentação, o valor é igual a <literal
>none</literal
>. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.indentWidth; [propriedade:apenas leitura]</function
></term>
<listitem>
<para
>Configura a largura da indentação do documento. Isto é usado se você indentar com espaços.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.insertLine( <parameter
>uint linha</parameter
>, <parameter
>string texto</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>linha</parameter
> número de linha do documento</para>
</listitem>
<listitem
><para
><parameter
>texto</parameter
> o texto a inserir</para
></listitem>
</itemizedlist>
<para
>Insere uma linha nova com o texto <parameter
>texto</parameter
> na linha <parameter
>linha</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.insertText( <parameter
>uint linha</parameter
>, <parameter
>uint coluna</parameter
>, <parameter
>string texto</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>linha</parameter
> o número de linha</para
></listitem>
<listitem
><para
><parameter
>coluna</parameter
> o número da coluna</para
></listitem>
<listitem
><para
><parameter
>texto</parameter
> o texto a inserir</para
></listitem>
</itemizedlist>
<para
>Insere o texto <parameter
>texto</parameter
> na linha <parameter
>linha</parameter
> e coluna <parameter
>coluna</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.length(); [função]</term>
<listitem>
<para
>Devolve o tamanho do documento em 'bytes'.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.lines(); [função]</function
></term>
<listitem>
<para
>Devolve o número de linhas do documento.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.mixedIndent; [propriedade:apenas leitura]</term>
<listitem>
<para
>Um booleano que lhe diz se a opção 'mixed-indent' está activa para o documento. Se sim, a indentação é optimizada para conter uma mistura de tabulações e espaços, como acontece no editor Emacs.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
>document.removeLine( <parameter
>uint linha</parameter
> ); [função]</term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>linha</parameter
> o número de linha</para
></listitem>
</itemizedlist>
<para
>Remove a linha actual do documento.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.removeText( <parameter
>uint linhaInicial</parameter
>, <parameter
>colunaInicial</parameter
>, <parameter
>uint linhaFinal</parameter
>, <parameter
>uint colunaFinal</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>linhaInicial</parameter
> corresponde à linha inicial</para
></listitem>
<listitem
><para
><parameter
>colunaInicial</parameter
> corresponde à coluna inicial</para
></listitem>
<listitem
><para
><parameter
>linhaFinal</parameter
> corresponde à linha final</para
></listitem>
<listitem
><para
><parameter
>colunaFinal</parameter
> corresponde à coluna final</para
></listitem>
</itemizedlist>
<para
>Remove o intervalo de texto da linha <parameter
>linhaInicial</parameter
> e coluna <parameter
>colunaInicial</parameter
> até à linha <parameter
>linhaFinal</parameter
> e coluna <parameter
>colunaFinal</parameter
>. </para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.setText( <parameter
>string texto</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>texto</parameter
> o texto do documento</para
></listitem>
</itemizedlist>
<para
>Configura o conteúdo inteiro do documento como <parameter
>texto</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.spaceIndent; [propriedade:apenas leitura]</function
></term>
<listitem>
<para
>Um booleano que indica se o 'space-indent' está activo para o documento. Se for o caso, o documento é indentado com larguraIndentacao espaços por nível, caso contrário, a indentação corresponde a uma tabulação por nível.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textFull(); [função]</function
></term>
<listitem>
<para
>Devolve o conteúdo completo do documento. Se o texto se espalhar por várias linhas, o carácter de mudança de linha é o <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textLine( uint linha ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>linha</parameter
> a linha</para
></listitem>
</itemizedlist>
<para
>Devolve o texto da linha <parameter
>linha</parameter
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>document.textRange( <parameter
>uint linhaInicial</parameter
>, <parameter
>uint colunaInicial</parameter
>, <parameter
>uint linhaFinal</parameter
>, <parameter
>uint colunaFinal</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>linhaInicial</parameter
> corresponde à linha inicial</para
></listitem>
<listitem
><para
><parameter
>colunaInicial</parameter
> corresponde à coluna inicial</para
></listitem>
<listitem
><para
><parameter
>linhaFinal</parameter
> corresponde à linha final</para>
</listitem>
<listitem
><para
><parameter
>colunaFinal</parameter
> corresponde à coluna final</para
></listitem>
</itemizedlist>
<para
>Devolve o intervalo de texto indicado. Se o intervalo se espalhar por várias linhas, o carácter de mudança de linha é o <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

</variablelist
><!--/ document API -->

<variablelist id="advanced-editing-tools-scripting-view">
<title
>A API do <classname
>view</classname
></title>

<varlistentry>
<term
><function
>view.clearSelection(); [função]</function
></term>
<listitem>
<para
>Remove a selecção de todo o texto.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorColumn(); [função]</function
></term>
<listitem>
<para
>Devolve a coluna actual do cursor (os caracteres TAB são expandidos).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorColumnReal(); [função]</function
></term>
<listitem>
<para
>Devolve a coluna real do cursor (os caracteres TAB contam como um).</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.cursorLine(); [função]</function
></term>
<listitem>
<para
>Devolve a linha actual do cursor.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.hasSelection(); [função]</function
></term>
<listitem>
<para
>Devolve <constant
>true</constant
> (verdadeiro) se a janela contiver algum texto seleccionado, caso contrário devolve <constant
>false</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.removeSelectedText(); [função]</function
></term>
<listitem>
<para
>Remove o texto seleccionado, se a janela tiver alguma selecção.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectAll(); [função]</function
></term>
<listitem>
<para
>Selecciona todo o texto.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selection(); [função]</function
></term>
<listitem>
<para
>Devolve o texto seleccionado. Se a selecção se espalhar por várias linhas, o carácter de mudança de linha é o <constant
>\n</constant
>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionEndColumn; [propriedade:apenas leitura]</function
></term>
<listitem>
<para
>Devolve a coluna final da selecção.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionEndLine; [propriedade:apenas leitura]</function
></term>
<listitem>
<para
>Devolve a linha final da selecção.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionStartColumn; [propriedade:apenas leitura]</function
></term>
<listitem>
<para
>Devolve a coluna inicial da selecção.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.selectionStartLine; [propriedade:apenas leitura]</function
></term>
<listitem>
<para
>Devolve a linha inicial da selecção.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setCursorPosition( <parameter
>uint linha</parameter
>, <parameter
>uint coluna</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>linha</parameter
> Indica a linha para o cursor.</para
></listitem>
<listitem
><para
><parameter
>coluna</parameter
> Indica a coluna para o cursor.</para
></listitem>
</itemizedlist>
<para
>Configura a posição actual do cursor na janela como sendo [<parameter
>linha</parameter
>, <parameter
>col</parameter
>]. A posição do cursor é a nível visual, isto é, um carácter TAB conta como <replaceable
>tab-width</replaceable
> espaços, dependendo da posição dentro da linha. A posição do cursor é tornada visível. Tanto a linha como a coluna começam em zero.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setCursorPositionReal( <parameter
>uint linha</parameter
>, <parameter
>uint coluna</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>linha</parameter
> Indica a linha para o cursor.</para
></listitem>
<listitem
><para
><parameter
>coluna</parameter
> Indica a coluna para o cursor.</para
></listitem>
</itemizedlist>
<para
>Configura a posição actual do cursor na janela como sendo [<parameter
>linha</parameter
>, <parameter
>col</parameter
>]. A posição do cursor é a nível do texto, isto é, um carácter TAB conta como 1. A posição do cursor é tornada visível. Tanto a linha como a coluna começam em zero.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><function
>view.setSelection( <parameter
>uint linhaInicial</parameter
>, <parameter
>uint colunaInicial</parameter
>, <parameter
>uint linhaFinal</parameter
>, <parameter
>uint colunaFinal</parameter
> ); [função]</function
></term>
<listitem>
<itemizedlist>
<title
>Parâmetros</title>
<listitem
><para
><parameter
>linhaInicial</parameter
> corresponde à linha inicial</para
></listitem>
<listitem
><para
><parameter
>colunaInicial</parameter
> corresponde à coluna inicial</para
></listitem>
<listitem
><para
><parameter
>linhaFinal</parameter
> corresponde à linha final</para
></listitem>
<listitem
><para
><parameter
>colunaFinal</parameter
> corresponde à coluna final</para
></listitem>
</itemizedlist>
<para
>Configura a selecção desde a linha <parameter
>linhaInicial</parameter
> e coluna <parameter
>colunaInicial</parameter
> até à linha <parameter
>linhaFinal</parameter
> e coluna <parameter
>colunaFinal</parameter
>.</para>
</listitem>
</varlistentry>

</variablelist>

<example id="advanced-editing-tools-scripting-example">

<title
>Um programa de exemplo</title>
<para
>Como exemplo, será criado um pequeno programa que converte o texto seleccionado para maiúsculas. É óbvio que se deverá ver primeiro se existe texto seleccionado, para que se possa obter o texto, mudar a capitalização e depois substituir pelo novo. Uma implementação possível seria do género:</para>

<programlisting
>if ( view.hasSelection() )
{
  // selecção para maiúsculas
  column = view.selectionStartColumn;
  line = view.selectionStartLine;

  selection = view.selection().toUpperCase();

  document.editBegin();
  view.removeSelectedText();
  document.insertText( line, column, selection );
  document.editEnd();
}
</programlisting>

<para
>Para agrupar esta acção em conjunto, para que possam ser anuladas com uma única activação do <guimenuitem
>Desfazer</guimenuitem
>, as linhas <programlisting
>view.removeSelectedText()</programlisting
> e <programlisting
>document.insertText()</programlisting
> são encapsuladas com um <programlisting
>document.editBegin()</programlisting
> e <programlisting
>document.editEnd()</programlisting
>.</para>

</example>

<example id="advanced-editing-tools-desktop-example">
<title
>Um ficheiro <filename
>.desktop</filename
> de exemplo</title>

<para
>Aqui está um ficheiro .desktop de exemplo que acompanha o programa acima.</para>

<programlisting
># Exemplo de um ficheiro .desktop
[Desktop Entry]
Encoding=UTF-8
Name=Kate Part JavaScript Uppercase
Comment=Script to uppercase the selection
X-Kate-Command=uppercase-selection
X-Kate-Help=&lt;p&gt;Usage: &lt;code&gt;uppercase-selection&lt;/code&gt;&lt;/p&gt;
</programlisting>

<para
>Como poderá ver, pode definir a codificação, definir um nome, comentário, um texto de ajuda com o X-Kate-Help e o nome da linha de comandos com o X-Kate-Command. Os itens Name, Comment e X-Kate-Help são traduzidos automaticamente para outras línguas pelas equipas de traduções do KDE, se os ficheiros estiverem no repositório de SVN do KDE.</para>

</example>

<sect3>
<title
>Colocar tudo junto</title>

<para
>O &kate; irá procurar nas pastas de programas (ver <link linkend="advanced-editing-tools-scripting-introduction"
>acima</link
>) por ficheiros <filename
>*.js</filename
>. Para cada um deles, verifica se existe um ficheiro <filename
>.desktop</filename
> correspondente, como por exemplo, maiusculas.js corresponderia a maiusculas.desktop. </para>
<para
>Se não for encontrado um ficheiro <filename
>.desktop</filename
>, o programa será registado na linha de comandos com o nome do ficheiro sem o '.js' final, para que, no nosso exemplo, fosse <literal
>maiusculas</literal
>. Se o nome do comando for aceitável e não necessitar de funcionalidades extra de um ficheiro <filename
>.desktop</filename
>, não será necessário de todo um ficheiro <filename
>.desktop</filename
>. </para>
<para
>Se o ficheiro <filename
>.desktop</filename
> existir, o 'katepart' irá ler o nome sob o qual o programa será registado, a partir do item do '.desktop' X-Kate-Command, como por exemplo X-Kate-Command=seleccao-maiusculas.</para>

</sect3>

</sect2>

</sect1>

</chapter>
